<?xml version="1.0" encoding="iso-8859-1" ?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">  
<!--http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd-->  
<html xmlns="http://www.w3.org/1999/xhtml"  
> 
<head><title>11 Record Support</title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)" /> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)" /> 
<!-- xhtml,2,html --> 
<meta name="src" content="AppDevGuide.tex" /> 
<meta name="date" content="2015-11-06 12:47:00" /> 
<link rel="stylesheet" type="text/css" href="AppDevGuide.css" /> 
</head><body 
>
<!--l. 1--><div class="crosslinks"><p class="noindent">[<a 
href="AppDevGuidech12.html" >next</a>] [<a 
href="AppDevGuidech10.html" >prev</a>] [<a 
href="AppDevGuidech10.html#tailAppDevGuidech10.html" >prev-tail</a>] [<a 
href="#tailAppDevGuidech11.html">tail</a>] [<a 
href="AppDevGuide.html#AppDevGuidech11.html" >up</a>] </p></div>
<h2 class="chapterHead"><span class="titlemark">Chapter&#x00A0;11</span><br /><a 
 id="x13-47500011"></a>Record Support</h2> <a 
 id="dx13-475001"></a>
<h3 class="sectionHead"><span class="titlemark">11.1    </span> <a 
 id="x13-47600011.1"></a>Overview</h3>
<!--l. 6--><p class="noindent" >The purpose of this chapter is to describe record support in sufficient detail such that a C programmer can write new record
support modules. Before attempting to write new support modules, you should carefully study a few of the existing
support modules. If an existing support module is similar to the desired module most of the work will already be
done.
</p><!--l. 10--><p class="noindent" >From previous chapters, it should be clear that many things happen as a result of record processing. The details
of what happens are dependent on the record type. In order to allow new record types and new device types
without impacting the core IOC system, the concept of record support and device support is used. For each
record type, a record support module exists. It is responsible for all record specific details. In order to allow
a record support module to be independent of device specific details, the concept of device support has been
created.
</p><!--l. 17--><p class="noindent" >A record support module consists of a standard set of routines which are called by database access routines. These routines
implement record specific code. Each record type can define a standard set of device support routines specific to that record
type.
</p><!--l. 21--><p class="noindent" >By far the most important record support routine is <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">process</span></span></span>, which <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">dbProcess</span></span></span> calls when it wants to process a
record. This routine is responsible for the details of record processing. In many cases it calls a device support
I/O routine. The next section gives an overview of what must be done in order to process a record. Next is a
description of the entry tables that must be provided by record and device support modules. The remaining sections
give example record and device support modules and describe some global routines useful to record support
modules.
</p><!--l. 28--><p class="noindent" >The record and its device support modules are the only source files that should include the record specific header files. Thus
they will be the only routines that access record specific fields without going through database access.
</p><!--l. 31--><p class="noindent" >
</p>
<h3 class="sectionHead"><span class="titlemark">11.2    </span> <a 
 id="x13-47700011.2"></a>Overview of Record Processing</h3>
<a 
 id="dx13-477001"></a>
<!--l. 34--><p class="noindent" >The most important record support routine is <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">process</span></span></span>. This routine determines what record processing means. Before the
record specific &#8220;<span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">process</span></span></span>&#8221; routine is called, the following has already been done:
</p>
     <ul class="itemize1">
     <li class="itemize">Decision to process a record.
     </li>
     <li class="itemize">Check that record is not active, i.e. <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">pact</span></span></span> must be FALSE.
     </li>
     <li class="itemize">Check that the record is not disabled.
     </li></ul>
                                                                                         
                                                                                         
<!--l. 47--><p class="noindent" >The <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">process</span></span></span> routine, together with its associated device support, is responsible for the following tasks:
</p>
     <ul class="itemize1">
     <li class="itemize">Set record active while it is being processed
     </li>
     <li class="itemize">Perform I/O (with aid of device support)
     </li>
     <li class="itemize">Check for record specific alarm conditions
     </li>
     <li class="itemize">Raise database monitors
     </li>
     <li class="itemize">Request processing of forward links
     </li></ul>
<!--l. 62--><p class="noindent" >A complication of record processing is that some devices are intrinsically asynchronous. It is NEVER permissible to wait for a
slow device to complete. Asynchronous records perform the following steps:
</p><!--l. 66--><p class="noindent" >
     </p><ol  class="enumerate1" >
     <li 
  class="enumerate" id="x13-477003x1">Initiate the I/O operation and set <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">pact</span><span 
class="pcrr7t-">&#x00A0;=</span><span 
class="pcrr7t-">&#x00A0;TRUE</span></span></span>
     </li>
     <li 
  class="enumerate" id="x13-477005x2">Determine a method for again calling process when the operation completes
     </li>
     <li 
  class="enumerate" id="x13-477007x3">Return immediately without completing record processing
     </li>
     <li 
  class="enumerate" id="x13-477009x4">When process is called after the I/O operation complete record processing
     </li>
     <li 
  class="enumerate" id="x13-477011x5">Set <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">pact</span><span 
class="pcrr7t-">&#x00A0;=</span><span 
class="pcrr7t-">&#x00A0;FALSE</span></span></span> and return
     </li></ol>
<!--l. 79--><p class="noindent" >The examples given below show how this can be done.
</p><!--l. 81--><p class="noindent" >
</p>
<h3 class="sectionHead"><span class="titlemark">11.3    </span> <a 
 id="x13-47800011.3"></a>Record Support and Device Support Entry Tables</h3>
<!--l. 83--><p class="noindent" >Each record type has an associated set of record support routines. These routines are located via the <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">struct</span><span 
class="pcrr7t-">&#x00A0;rset</span></span></span> data
structure declared in <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">recSup.h</span></span></span> and defined by the specific record type. This use of a record support vector table isolates the
<span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">iocCore</span></span></span> software from the implementation details of each record type. Thus new record types can be defined without having
to modify the IOC core software.
</p><!--l. 88--><p class="noindent" >Each record type also has zero or more sets of device support routines. Record types without associated hardware, e.g.
calculation records, normally do not have any associated device support. Record types with associated hardware normally have
a device support module for each device type. The concept of device support isolates IOC core software and even record
support from device specific details.
                                                                                         
                                                                                         
</p><!--l. 93--><p class="noindent" >Corresponding to each record type is a set of record support routines. The set of routines is the same for every
record type. These routines are located via a Record Support Entry Table (<a 
 id="dx13-478001"></a><a 
 id="dx13-478002"></a>RSET), which has the following
structure:
</p>
<!--l. 97-->
     <div class="lstlisting" id="listing-125"><span class="label"><a 
 id="x13-478003r1"></a></span><span 
class="pcrb7t-">struct</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">rset</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">{</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">/&#x22C6;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">record</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">support</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">entry</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">table</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x22C6;/</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-478004r2"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">long</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">number</span><span 
class="pcrr7t-">;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">/&#x22C6;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">number</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">of</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">support</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">routine</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x22C6;/</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-478005r3"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">RECSUPFUN</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">report</span><span 
class="pcrr7t-">;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">/&#x22C6;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">print</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">report</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x22C6;/</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-478006r4"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">RECSUPFUN</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">init</span><span 
class="pcrr7t-">;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">/&#x22C6;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">init</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">support</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x22C6;/</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-478007r5"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">RECSUPFUN</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">init_record</span><span 
class="pcrr7t-">;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">/&#x22C6;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">init</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">record</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x22C6;/</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-478008r6"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">RECSUPFUN</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">process</span><span 
class="pcrr7t-">;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">/&#x22C6;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">process</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">record</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x22C6;/</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-478009r7"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">RECSUPFUN</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">special</span><span 
class="pcrr7t-">;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">/&#x22C6;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">special</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">processing</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x22C6;/</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-478010r8"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">RECSUPFUN</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">get_value</span><span 
class="pcrr7t-">;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">/&#x22C6;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">OBSOLETE</span><span 
class="pcrro7t-">:</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">Just</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">leave</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">NULL</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x22C6;/</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-478011r9"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">RECSUPFUN</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">cvt_dbaddr</span><span 
class="pcrr7t-">;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">/&#x22C6;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">cvt</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">dbAddr</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x22C6;/</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-478012r10"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">RECSUPFUN</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">get_array_info</span><span 
class="pcrr7t-">;</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-478013r11"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">RECSUPFUN</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">put_array_info</span><span 
class="pcrr7t-">;</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-478014r12"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">RECSUPFUN</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">get_units</span><span 
class="pcrr7t-">;</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-478015r13"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">RECSUPFUN</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">get_precision</span><span 
class="pcrr7t-">;</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-478016r14"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">RECSUPFUN</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">get_enum_str</span><span 
class="pcrr7t-">;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">/&#x22C6;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">get</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">string</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">from</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">enum</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x22C6;/</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-478017r15"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">RECSUPFUN</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">get_enum_strs</span><span 
class="pcrr7t-">;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">/&#x22C6;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">get</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">all</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">enum</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">strings</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x22C6;/</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-478018r16"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">RECSUPFUN</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">put_enum_str</span><span 
class="pcrr7t-">;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">/&#x22C6;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">put</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">enum</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">from</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">string</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x22C6;/</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-478019r17"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">RECSUPFUN</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">get_graphic_double</span><span 
class="pcrr7t-">;</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-478020r18"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">RECSUPFUN</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">get_control_double</span><span 
class="pcrr7t-">;</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-478021r19"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">RECSUPFUN</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">get_alarm_double</span><span 
class="pcrr7t-">;</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-478022r20"></a></span><span 
class="pcrr7t-">};</span>
     
</div>
<!--l. 120--><p class="noindent" >Each record support module must define its RSET. The external name must be of the form:
                                                                                         
                                                                                         
</p>
<div class="verbatim" id="verbatim-208">
<div class="fancyvrb" id="fancyvrb208"><a 
 id="x13-478024r1"></a>&#x00A0;&#x00A0;&#x003C;record_type&#x003E;RSET</div></div>
<!--l. 124--><p class="nopar" >
</p><!--l. 126--><p class="noindent" >Any routines not needed for the particular record type should be initialized to the value <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">NULL</span></span></span>. Look at the example below for
details.
</p><!--l. 129--><p class="noindent" >Device support routines are located via a Device Support Entry Table (<a 
 id="dx13-478025"></a><a 
 id="dx13-478026"></a>DSET), which has the following structure:
</p>
<!--l. 131-->
     <div class="lstlisting" id="listing-126"><span class="label"><a 
 id="x13-478027r1"></a></span><span 
class="pcrb7t-">struct</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">dset</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">{</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">/&#x22C6;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">device</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">support</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">entry</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">table</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x22C6;/</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-478028r2"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">long</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">number</span><span 
class="pcrr7t-">;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">/&#x22C6;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">number</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">of</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">support</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">routines</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x22C6;/</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-478029r3"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">DEVSUPFUN</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">report</span><span 
class="pcrr7t-">;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">/&#x22C6;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">print</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">report</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x22C6;/</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-478030r4"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">DEVSUPFUN</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">init</span><span 
class="pcrr7t-">;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">/&#x22C6;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">init</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">support</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x22C6;/</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-478031r5"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">DEVSUPFUN</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">init_record</span><span 
class="pcrr7t-">;</span><span 
class="pcrro7t-">/&#x22C6;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">init</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">record</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">instance</span><span 
class="pcrro7t-">&#x22C6;/</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-478032r6"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">DEVSUPFUN</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">get_ioint_info</span><span 
class="pcrr7t-">;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">/&#x22C6;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">get</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">io</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">interrupt</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">info</span><span 
class="pcrro7t-">&#x22C6;/</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-478033r7"></a></span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">/&#x22C6;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">other</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">functions</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">are</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">record</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">dependent</span><span 
class="pcrro7t-">&#x22C6;/</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-478034r8"></a></span><span 
class="pcrr7t-">};</span>
     
</div>
<!--l. 142--><p class="noindent" >Each device support module must define its associated DSET. The external name must be the same as the name which appears
in <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">devSup.ascii</span></span></span>.
</p><!--l. 145--><p class="noindent" >Any record support module which has associated device support must also include definitions for accessing its associated
device support modules. The field <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">dset</span></span></span>, which is declared in <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">dbCommon</span></span></span>, contains the address of the DSET. It is given a value
by <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">iocInit</span></span></span>.
</p><!--l. 149--><p class="noindent" >
</p>
<h3 class="sectionHead"><span class="titlemark">11.4    </span> <a 
 id="x13-47900011.4"></a>Example Record Support Module</h3>
<!--l. 151--><p class="noindent" >This section contains the skeleton of a record support package. The record type is <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">xxx</span></span></span> and the record has the following fields in
addition to the <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">dbCommon</span></span></span> fields: <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">VAL</span></span></span>, <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">PREC</span></span></span>, <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">EGU</span></span></span>, <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">HOPR</span></span></span>, <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">LOPR</span></span></span>, <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">HIHI</span></span></span>, <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">LOLO</span></span></span>, <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">HIGH</span></span></span>, <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">LOW</span></span></span>, <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">HHSV</span></span></span>, <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">LLSV</span></span></span>, <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">HSV</span></span></span>, <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">LSV</span></span></span>, <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">HYST</span></span></span>,
<span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">ADEL</span></span></span>, <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">MDEL</span></span></span>, <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">LALM</span></span></span>, <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">ALST</span></span></span>, <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">MLST</span></span></span>. These fields will have the same meaning as they have for the <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">ai</span></span></span> record. Consult the Record
Reference manual for a description.
</p><!--l. 157--><p class="noindent" >
</p>
<h4 class="subsectionHead"><span class="titlemark">11.4.1    </span> <a 
 id="x13-48000011.4.1"></a>Declarations</h4>
<!--l. 159-->
     <div class="lstlisting" id="listing-127"><span class="label"><a 
 id="x13-480001r1"></a></span><span 
class="pcrro7t-">/&#x22C6;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">Create</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">RSET</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">-</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">Record</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">Support</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">Entry</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">Table</span><span 
class="pcrro7t-">&#x22C6;/</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-480002r2"></a></span><span 
class="pcrb7t-">#</span><span 
class="pcrb7t-">define</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">report</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">NULL</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-480003r3"></a></span><span 
class="pcrb7t-">#</span><span 
class="pcrb7t-">define</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">initialize</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">NULL</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-480004r4"></a></span><span 
class="pcrb7t-">static</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">long</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">init_record</span><span 
class="pcrr7t-">();</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-480005r5"></a></span><span 
class="pcrb7t-">static</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">long</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">process</span><span 
class="pcrr7t-">();</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-480006r6"></a></span><span 
class="pcrb7t-">#</span><span 
class="pcrb7t-">define</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">special</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">NULL</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-480007r7"></a></span><span 
class="pcrb7t-">#</span><span 
class="pcrb7t-">define</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">get_value</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">NULL</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-480008r8"></a></span><span 
class="pcrb7t-">#</span><span 
class="pcrb7t-">define</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">cvt_dbaddr</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">NULL</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-480009r9"></a></span><span 
class="pcrb7t-">#</span><span 
class="pcrb7t-">define</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">get_array_info</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">NULL</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-480010r10"></a></span><span 
class="pcrb7t-">#</span><span 
class="pcrb7t-">define</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">put_array_info</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">NULL</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-480011r11"></a></span><span 
class="pcrb7t-">static</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">long</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">get_units</span><span 
class="pcrr7t-">();</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-480012r12"></a></span><span 
class="pcrb7t-">static</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">long</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">get_precision</span><span 
class="pcrr7t-">();</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-480013r13"></a></span><span 
class="pcrb7t-">#</span><span 
class="pcrb7t-">define</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">get_enum_str</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">NULL</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-480014r14"></a></span><span 
class="pcrb7t-">#</span><span 
class="pcrb7t-">define</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">get_enum_strs</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">NULL</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-480015r15"></a></span><span 
class="pcrb7t-">#</span><span 
class="pcrb7t-">define</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">put_enum_str</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">NULL</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-480016r16"></a></span><span 
class="pcrb7t-">static</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">long</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">get_graphic_double</span><span 
class="pcrr7t-">();</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-480017r17"></a></span><span 
class="pcrb7t-">static</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">long</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">get_control_double</span><span 
class="pcrr7t-">();</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-480018r18"></a></span><span 
class="pcrb7t-">static</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">long</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">get_alarm_double</span><span 
class="pcrr7t-">();</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-480019r19"></a></span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-480020r20"></a></span><span 
class="pcrr7t-">rset</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">xxxRSET</span><span 
class="pcrr7t-">={</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-480021r21"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">RSETNUMBER</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-480022r22"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">report</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-480023r23"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">initialize</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-480024r24"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">init_record</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-480025r25"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">process</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-480026r26"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">special</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-480027r27"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">get_value</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-480028r28"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">cvt_dbaddr</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-480029r29"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">get_array_info</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-480030r30"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">put_array_info</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-480031r31"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">get_units</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-480032r32"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">get_precision</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-480033r33"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">get_enum_str</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-480034r34"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">get_enum_strs</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-480035r35"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">put_enum_str</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-480036r36"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">get_graphic_double</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-480037r37"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">get_control_double</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-480038r38"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">get_alarm_double</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-480039r39"></a></span><span 
class="pcrr7t-">};</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-480040r40"></a></span><span 
class="pcrr7t-">epicsExportAddress</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">rset</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">xxxRSET</span><span 
class="pcrr7t-">);</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-480041r41"></a></span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-480042r42"></a></span><span 
class="pcrro7t-">/&#x22C6;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">declarations</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">for</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">associated</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">DSET</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x22C6;/</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-480043r43"></a></span><span 
class="pcrb7t-">typedef</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">struct</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">xxxdset</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">{</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrro7t-">/&#x22C6;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">analog</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">input</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">dset</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x22C6;/</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-480044r44"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">long</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">number</span><span 
class="pcrr7t-">;</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-480045r45"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">DEVSUPFUN</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">dev_report</span><span 
class="pcrr7t-">;</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-480046r46"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">DEVSUPFUN</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">init</span><span 
class="pcrr7t-">;</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-480047r47"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">DEVSUPFUN</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">init_record</span><span 
class="pcrr7t-">;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrro7t-">/&#x22C6;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">returns</span><span 
class="pcrro7t-">:</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">(1,0)=&#x003E;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">(</span><span 
class="pcrro7t-">failure</span><span 
class="pcrro7t-">,</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">success</span><span 
class="pcrro7t-">)</span><span 
class="pcrro7t-">&#x22C6;/</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-480048r48"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">DEVSUPFUN</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">get_ioint_info</span><span 
class="pcrr7t-">;</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-480049r49"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">DEVSUPFUN</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">read_xxx</span><span 
class="pcrr7t-">;</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-480050r50"></a></span><span 
class="pcrr7t-">}</span><span 
class="pcrr7t-">xxxdset</span><span 
class="pcrr7t-">;</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-480051r51"></a></span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-480052r52"></a></span><span 
class="pcrro7t-">/&#x22C6;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">forward</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">declaration</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">for</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">internal</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">routines</span><span 
class="pcrro7t-">&#x22C6;/</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-480053r53"></a></span><span 
class="pcrb7t-">static</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">void</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">checkAlarams</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">xxxRecord</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x22C6;</span><span 
class="pcrr7t-">pxxx</span><span 
class="pcrr7t-">);</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-480054r54"></a></span><span 
class="pcrb7t-">static</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">void</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">monitor</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">xxxRecord</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x22C6;</span><span 
class="pcrr7t-">pxxx</span><span 
class="pcrr7t-">);</span>
     
</div>
<a 
 id="dx13-480055"></a>
<!--l. 216--><p class="noindent" >The above declarations define the Record Support Entry Table (RSET), a template for the associated Device Support Entry
Table (DSET), and forward declarations to private routines.
</p><!--l. 218--><p class="noindent" >The RSET must be declared with an external name of <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">xxxRSET</span></span></span>. It defines the record support routines supplied for this record
type. Note that forward declarations are given for all routines supported and a <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">NULL</span></span></span> declaration for any routine not
supported.
                                                                                         
                                                                                         
</p><!--l. 221--><p class="noindent" >The template for the DSET is declared for use by this module.
</p><!--l. 223--><p class="noindent" >
</p>
<h4 class="subsectionHead"><span class="titlemark">11.4.2    </span> <a 
 id="x13-48100011.4.2"></a>init_record</h4>
<a 
 id="dx13-481001"></a>
<!--l. 226-->
     <div class="lstlisting" id="listing-128"><span class="label"><a 
 id="x13-481002r1"></a></span><span 
class="pcrb7t-">static</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">long</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">init_record</span><span 
class="pcrr7t-">(</span><span 
class="pcrb7t-">void</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x22C6;</span><span 
class="pcrr7t-">precord</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">int</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">pass</span><span 
class="pcrr7t-">)</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-481003r2"></a></span><span 
class="pcrr7t-">{</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-481004r3"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">xxxRecord</span><span 
class="pcrr7t-">&#x22C6;</span><span 
class="pcrr7t-">pxxx</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">xxxRecord</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x22C6;)</span><span 
class="pcrr7t-">precord</span><span 
class="pcrr7t-">;</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-481005r4"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">xxxdset</span><span 
class="pcrr7t-">&#x22C6;</span><span 
class="pcrr7t-">pdset</span><span 
class="pcrr7t-">;</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-481006r5"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">longstatus</span><span 
class="pcrr7t-">;</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-481007r6"></a></span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-481008r7"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">if</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">pass</span><span 
class="pcrr7t-">==0)</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-481009r8"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">return</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">0;</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-481010r9"></a></span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-481011r10"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">if</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">((</span><span 
class="pcrr7t-">pdset</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">xxxdset</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x22C6;)(</span><span 
class="pcrr7t-">pxxx</span><span 
class="pcrr7t-">-&#x003E;</span><span 
class="pcrr7t-">dset</span><span 
class="pcrr7t-">))</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">==</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">NULL</span><span 
class="pcrr7t-">)</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">{</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-481012r11"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">recGblRecordError</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">S_dev_noDSET</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">pxxx</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrro7t-">"</span><span 
class="pcrro7t-">xxx</span><span 
class="pcrro7t-">:</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">init_record</span><span 
class="pcrro7t-">"</span><span 
class="pcrr7t-">);</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-481013r12"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">return</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">S_dev_noDSET</span><span 
class="pcrr7t-">;</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-481014r13"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">}</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-481015r14"></a></span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-481016r15"></a></span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">/&#x22C6;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">must</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">have</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">read_xxx</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">function</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">defined</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x22C6;/</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-481017r16"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">if</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">((</span><span 
class="pcrr7t-">pdset</span><span 
class="pcrr7t-">-&#x003E;</span><span 
class="pcrr7t-">number</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x003C;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">5)</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">||</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">pdset</span><span 
class="pcrr7t-">-&#x003E;</span><span 
class="pcrr7t-">read_xxx</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">==</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">NULL</span><span 
class="pcrr7t-">))</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">{</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-481018r17"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">recGblRecordError</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">S_dev_missingSup</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">pxxx</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-481019r18"></a></span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">"</span><span 
class="pcrro7t-">xxx</span><span 
class="pcrro7t-">:</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">init_record</span><span 
class="pcrro7t-">"</span><span 
class="pcrr7t-">);</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-481020r19"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">return</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">S_dev_missingSup</span><span 
class="pcrr7t-">;</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-481021r20"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">}</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-481022r21"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">if</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">pdset</span><span 
class="pcrr7t-">-&#x003E;</span><span 
class="pcrr7t-">init_record</span><span 
class="pcrr7t-">)</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">{</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-481023r22"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">if</span><span 
class="pcrr7t-">((</span><span 
class="pcrr7t-">status</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">pdset</span><span 
class="pcrr7t-">-&#x003E;</span><span 
class="pcrr7t-">init_record</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">pxxx</span><span 
class="pcrr7t-">)))</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-481024r23"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">return</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">status</span><span 
class="pcrr7t-">;</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-481025r24"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">}</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-481026r25"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">return</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">0;</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-481027r26"></a></span><span 
class="pcrr7t-">}</span>
     
</div>
<!--l. 255--><p class="noindent" >This routine, which is called by <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">iocInit</span></span></span> twice for each record of type <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">xxx</span></span></span>, checks to see if it has a proper set of device
support routines and, if present, calls the <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">init_record</span></span></span> entry of the DSET.
</p><!--l. 257--><p class="noindent" >During the first call to <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">init_record</span></span></span> (pass=0) only initializations relating to this record can be performed. During the second
call (pass=1) initializations that may refer to other records can be performed. Note also that during the second pass, other
records may refer to fields within this record. A good example of where these rules are important is a waveform record. The
<span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">VAL</span></span></span> field of a waveform record actually refers to an array. The waveform record support module must allocate
storage for the array. If another record has a database link referring to the waveform <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">VAL</span></span></span> field then the storage
must be allocated before the link is resolved. This is accomplished by having the waveform record support
allocate the array during the first pass (pass=0) and having the link reference resolved during the second pass
(pass=1).
</p><!--l. 266--><p class="noindent" >
</p>
<h4 class="subsectionHead"><span class="titlemark">11.4.3    </span> <a 
 id="x13-48200011.4.3"></a>process</h4>
<a 
 id="dx13-482001"></a>
<!--l. 269-->
     <div class="lstlisting" id="listing-129"><span class="label"><a 
 id="x13-482002r1"></a></span><span 
class="pcrb7t-">static</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">long</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">process</span><span 
class="pcrr7t-">(</span><span 
class="pcrb7t-">void</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x22C6;</span><span 
class="pcrr7t-">precord</span><span 
class="pcrr7t-">)</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-482003r2"></a></span><span 
class="pcrr7t-">{</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-482004r3"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">xxxRecord</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x22C6;</span><span 
class="pcrr7t-">pxxx</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">xxxRecord</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x22C6;)</span><span 
class="pcrr7t-">precord</span><span 
class="pcrr7t-">;</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-482005r4"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">xxxdset</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x22C6;</span><span 
class="pcrr7t-">pdset</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">xxxdset</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x22C6;)</span><span 
class="pcrr7t-">pxxx</span><span 
class="pcrr7t-">-&#x003E;</span><span 
class="pcrr7t-">dset</span><span 
class="pcrr7t-">;</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-482006r5"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">long</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">status</span><span 
class="pcrr7t-">;</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-482007r6"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">unsigned</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">char</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">pact</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">pxxx</span><span 
class="pcrr7t-">-&#x003E;</span><span 
class="pcrr7t-">pact</span><span 
class="pcrr7t-">;</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-482008r7"></a></span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-482009r8"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">if</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">((</span><span 
class="pcrr7t-">pdset</span><span 
class="pcrr7t-">==</span><span 
class="pcrr7t-">NULL</span><span 
class="pcrr7t-">)</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">||</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">pdset</span><span 
class="pcrr7t-">-&#x003E;</span><span 
class="pcrr7t-">read_xxx</span><span 
class="pcrr7t-">==</span><span 
class="pcrr7t-">NULL</span><span 
class="pcrr7t-">))</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">{</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-482010r9"></a></span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">/&#x22C6;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">leave</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">pact</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">true</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">so</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">that</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">dbProcess</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">doesnt</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">call</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">again</span><span 
class="pcrro7t-">&#x22C6;/</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-482011r10"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">pxxx</span><span 
class="pcrr7t-">-&#x003E;</span><span 
class="pcrr7t-">pact</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">TRUE</span><span 
class="pcrr7t-">;</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-482012r11"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">recGblRecordError</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">S_dev_missingSup</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">pxxx</span><span 
class="pcrr7t-">,</span><span 
class="pcrro7t-">"</span><span 
class="pcrro7t-">read_xxx</span><span 
class="pcrro7t-">"</span><span 
class="pcrr7t-">);</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-482013r12"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">return</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">S_dev_missingSup</span><span 
class="pcrr7t-">;</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-482014r13"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">}</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-482015r14"></a></span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-482016r15"></a></span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">/&#x22C6;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">pact</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">must</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">not</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">be</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">set</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">true</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">until</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">read_xxx</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">completes</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x22C6;/</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-482017r16"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">status</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">pdset</span><span 
class="pcrr7t-">-&#x003E;</span><span 
class="pcrr7t-">read_xxx</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">pxxx</span><span 
class="pcrr7t-">);</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrro7t-">/&#x22C6;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">read</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">the</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">new</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">value</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x22C6;/</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-482018r17"></a></span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-482019r18"></a></span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">/&#x22C6;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">return</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">if</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">beginning</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">of</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">asynch</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">processing</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x22C6;/</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-482020r19"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">if</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">(!</span><span 
class="pcrr7t-">pact</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&amp;&amp;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">pxxx</span><span 
class="pcrr7t-">-&#x003E;</span><span 
class="pcrr7t-">pact</span><span 
class="pcrr7t-">)</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-482021r20"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">return</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">0;</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-482022r21"></a></span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-482023r22"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">pxxx</span><span 
class="pcrr7t-">-&#x003E;</span><span 
class="pcrr7t-">pact</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">TRUE</span><span 
class="pcrr7t-">;</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-482024r23"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">recGblGetTimeStamp</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">pxxx</span><span 
class="pcrr7t-">);</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-482025r24"></a></span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-482026r25"></a></span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">/&#x22C6;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">check</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">for</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">alarms</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x22C6;/</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-482027r26"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">alarm</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">pxxx</span><span 
class="pcrr7t-">);</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-482028r27"></a></span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">/&#x22C6;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">check</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">event</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">list</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x22C6;/</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-482029r28"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">monitor</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">pxxx</span><span 
class="pcrr7t-">);</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-482030r29"></a></span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">/&#x22C6;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">process</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">the</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">forward</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">scan</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">link</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">record</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x22C6;/</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-482031r30"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">recGblFwdLink</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">pxxx</span><span 
class="pcrr7t-">);</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-482032r31"></a></span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-482033r32"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">pxxx</span><span 
class="pcrr7t-">-&#x003E;</span><span 
class="pcrr7t-">pact</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">FALSE</span><span 
class="pcrr7t-">;</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-482034r33"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">return</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">status</span><span 
class="pcrr7t-">;</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-482035r34"></a></span><span 
class="pcrr7t-">}</span>
     
</div>
<!--l. 306--><p class="noindent" >The record processing routines are the heart of the IOC software. The record specific process routine is called by <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">dbProcess</span></span></span>
whenever it decides that a record should be processed. Process decides what record processing really means. The above is a
good example of what should be done. In addition to being called by <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">dbProcess</span></span></span> the process routine may also be called by
asynchronous record completion routines.
</p><!--l. 312--><p class="noindent" >The above model supports both synchronous and asynchronous device support routines. For example, if <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">read_xxx</span></span></span> is an
asynchronous routine, the following sequence of events will occur:
</p>
     <ul class="itemize1">
     <li class="itemize"><span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">process</span></span></span> is called with <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">pact</span></span></span><span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">FALSE</span></span></span>
     </li>
     <li class="itemize"><span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">read_xxx</span></span></span> is called. Since <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">pact</span></span></span> is <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">FALSE</span></span></span> it starts I/O, arranges callback, and sets <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">pact</span></span></span><span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">TRUE</span></span></span>
                                                                                         
                                                                                         
     </li>
     <li class="itemize"><span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">read_xxx</span></span></span> returns
     </li>
     <li class="itemize">because <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">pact</span></span></span> went from <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">FALSE</span></span></span> to <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">TRUE</span></span></span> process just returns
     </li>
     <li class="itemize">Any new call to <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">dbProcess</span></span></span> is ignored because it finds <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">pact</span></span></span><span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">TRUE</span></span></span>
     </li>
     <li class="itemize">Sometime later the callback occurs and <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">process</span></span></span> is called again.
     </li>
     <li class="itemize"><span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">read_xxx</span></span></span> is called. Since <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">pact</span></span></span> is <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">TRUE</span></span></span> it knows that it is a completion request.
     </li>
     <li class="itemize"><span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">read_xxx</span></span></span> returns
     </li>
     <li class="itemize"><span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">process</span></span></span> completes record processing
     </li>
     <li class="itemize"><span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">pact</span></span></span> is set <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">FALSE</span></span></span>
     </li>
     <li class="itemize"><span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">process</span></span></span> returns
     </li></ul>
<!--l. 342--><p class="noindent" >At this point the record has been completely processed. The next time <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">process</span></span></span> is called everything starts all over from the
beginning.
</p><!--l. 345--><p class="noindent" >
</p>
<h4 class="subsectionHead"><span class="titlemark">11.4.4    </span> <a 
 id="x13-48300011.4.4"></a>Miscellaneous Utility Routines</h4>
<!--l. 347-->
     <div class="lstlisting" id="listing-130"><span class="label"><a 
 id="x13-483001r1"></a></span><span 
class="pcrb7t-">static</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">long</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">get_units</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">DBADDR</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x22C6;</span><span 
class="pcrr7t-">paddr</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">char</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x22C6;</span><span 
class="pcrr7t-">units</span><span 
class="pcrr7t-">)</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-483002r2"></a></span><span 
class="pcrr7t-">{</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-483003r3"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">xxxRecord</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x22C6;</span><span 
class="pcrr7t-">pxxx</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">xxxRecord</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x22C6;)</span><span 
class="pcrr7t-">paddr</span><span 
class="pcrr7t-">-&#x003E;</span><span 
class="pcrr7t-">precord</span><span 
class="pcrr7t-">;</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-483004r4"></a></span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-483005r5"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">strncpy</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">units</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">pxxx</span><span 
class="pcrr7t-">-&#x003E;</span><span 
class="pcrr7t-">egu</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">sizeof</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">pxxx</span><span 
class="pcrr7t-">-&#x003E;</span><span 
class="pcrr7t-">egu</span><span 
class="pcrr7t-">));</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-483006r6"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">return</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">0;</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-483007r7"></a></span><span 
class="pcrr7t-">}</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-483008r8"></a></span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-483009r9"></a></span><span 
class="pcrb7t-">static</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">long</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">get_graphic_double</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">DBADDR</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x22C6;</span><span 
class="pcrr7t-">paddr</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-483010r10"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">struct</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">dbr_grDouble</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x22C6;</span><span 
class="pcrr7t-">pgd</span><span 
class="pcrr7t-">)</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-483011r11"></a></span><span 
class="pcrr7t-">{</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-483012r12"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">xxxRecord</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x22C6;</span><span 
class="pcrr7t-">pxxx</span><span 
class="pcrr7t-">=(</span><span 
class="pcrr7t-">xxxRecord</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x22C6;)</span><span 
class="pcrr7t-">paddr</span><span 
class="pcrr7t-">-&#x003E;</span><span 
class="pcrr7t-">precord</span><span 
class="pcrr7t-">;</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-483013r13"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">int</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">fieldIndex</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">dbGetFieldIndex</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">paddr</span><span 
class="pcrr7t-">);</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-483014r14"></a></span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-483015r15"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">if</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">fieldIndex</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">==</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">xxxRecordVAL</span><span 
class="pcrr7t-">)</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">{</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-483016r16"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">pgd</span><span 
class="pcrr7t-">-&#x003E;</span><span 
class="pcrr7t-">upper_disp_limit</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">pxxx</span><span 
class="pcrr7t-">-&#x003E;</span><span 
class="pcrr7t-">hopr</span><span 
class="pcrr7t-">;</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-483017r17"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">pgd</span><span 
class="pcrr7t-">-&#x003E;</span><span 
class="pcrr7t-">lower_disp_limit</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">pxxx</span><span 
class="pcrr7t-">-&#x003E;</span><span 
class="pcrr7t-">lopr</span><span 
class="pcrr7t-">;</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-483018r18"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">}</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-483019r19"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">else</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-483020r20"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">recGblGetGraphicDouble</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">paddr</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">pgd</span><span 
class="pcrr7t-">);</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-483021r21"></a></span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-483022r22"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">return</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">0;</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-483023r23"></a></span><span 
class="pcrr7t-">}</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-483024r24"></a></span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-483025r25"></a></span><span 
class="pcrro7t-">/&#x22C6;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">similar</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">routines</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">would</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">be</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">provided</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">for</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x22C6;/</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-483026r26"></a></span><span 
class="pcrro7t-">/&#x22C6;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">get_control_double</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">and</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">get_alarm_double</span><span 
class="pcrro7t-">&#x22C6;/</span>
     
</div>
<a 
 id="dx13-483027"></a>
<a 
 id="dx13-483028"></a>
<!--l. 378--><p class="noindent" >These are a few examples of various routines supplied by a typical record support package. The functions that must be
performed by the remaining routines are described in the next section.
</p><!--l. 381--><p class="noindent" >
</p>
<h4 class="subsectionHead"><span class="titlemark">11.4.5    </span> <a 
 id="x13-48400011.4.5"></a>Alarm Processing</h4>
<!--l. 383-->
     <div class="lstlisting" id="listing-131"><span class="label"><a 
 id="x13-484001r1"></a></span><span 
class="pcrb7t-">static</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">void</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">checkAlarms</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">xxxRecord</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x22C6;</span><span 
class="pcrr7t-">pxxx</span><span 
class="pcrr7t-">)</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-484002r2"></a></span><span 
class="pcrr7t-">{</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-484003r3"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">double</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">val</span><span 
class="pcrr7t-">;</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-484004r4"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">float</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">hyst</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">lalm</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">hihi</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">high</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">low</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">lolo</span><span 
class="pcrr7t-">;</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-484005r5"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">unsigned</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">short</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">hhsv</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">llsv</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">hsv</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">lsv</span><span 
class="pcrr7t-">;</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-484006r6"></a></span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-484007r7"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">if</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">pxxx</span><span 
class="pcrr7t-">-&#x003E;</span><span 
class="pcrr7t-">udf</span><span 
class="pcrr7t-">)</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">{</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-484008r8"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">recGblSetSevr</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">pxxx</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">UDF_ALARM</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">VALID_ALARM</span><span 
class="pcrr7t-">);</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-484009r9"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">return</span><span 
class="pcrr7t-">;</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-484010r10"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">}</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-484011r11"></a></span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-484012r12"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">hihi</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">pxxx</span><span 
class="pcrr7t-">-&#x003E;</span><span 
class="pcrr7t-">hihi</span><span 
class="pcrr7t-">;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">lolo</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">pxxx</span><span 
class="pcrr7t-">-&#x003E;</span><span 
class="pcrr7t-">lolo</span><span 
class="pcrr7t-">;</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-484013r13"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">high</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">pxxx</span><span 
class="pcrr7t-">-&#x003E;</span><span 
class="pcrr7t-">high</span><span 
class="pcrr7t-">;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">low</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">pxxx</span><span 
class="pcrr7t-">-&#x003E;</span><span 
class="pcrr7t-">low</span><span 
class="pcrr7t-">;</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-484014r14"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">hhsv</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">pxxx</span><span 
class="pcrr7t-">-&#x003E;</span><span 
class="pcrr7t-">hhsv</span><span 
class="pcrr7t-">;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">llsv</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">pxxx</span><span 
class="pcrr7t-">-&#x003E;</span><span 
class="pcrr7t-">llsv</span><span 
class="pcrr7t-">;</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-484015r15"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">hsv</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">pxxx</span><span 
class="pcrr7t-">-&#x003E;</span><span 
class="pcrr7t-">hsv</span><span 
class="pcrr7t-">;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">lsv</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">pxxx</span><span 
class="pcrr7t-">-&#x003E;</span><span 
class="pcrr7t-">lsv</span><span 
class="pcrr7t-">;</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-484016r16"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">val</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">pxxx</span><span 
class="pcrr7t-">-&#x003E;</span><span 
class="pcrr7t-">val</span><span 
class="pcrr7t-">;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">hyst</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">pxxx</span><span 
class="pcrr7t-">-&#x003E;</span><span 
class="pcrr7t-">hyst</span><span 
class="pcrr7t-">;</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-484017r17"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">lalm</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">pxxx</span><span 
class="pcrr7t-">-&#x003E;</span><span 
class="pcrr7t-">lalm</span><span 
class="pcrr7t-">;</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-484018r18"></a></span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-484019r19"></a></span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">/&#x22C6;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">alarm</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">condition</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">hihi</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x22C6;/</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-484020r20"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">if</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">hhsv</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&amp;&amp;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">val</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x003E;=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">hihi</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">||</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">((</span><span 
class="pcrr7t-">lalm</span><span 
class="pcrr7t-">==</span><span 
class="pcrr7t-">hihi</span><span 
class="pcrr7t-">)</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&amp;&amp;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">val</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x003E;=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">hihi</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">hyst</span><span 
class="pcrr7t-">))))</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">{</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-484021r21"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">if</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">recGblSetSevr</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">pxxx</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">HIHI_ALARM</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">pxxx</span><span 
class="pcrr7t-">-&#x003E;</span><span 
class="pcrr7t-">hhsv</span><span 
class="pcrr7t-">)</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-484022r22"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">pxxx</span><span 
class="pcrr7t-">-&#x003E;</span><span 
class="pcrr7t-">lalm</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">hihi</span><span 
class="pcrr7t-">;</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-484023r23"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">return</span><span 
class="pcrr7t-">;</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-484024r24"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">}</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-484025r25"></a></span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">/&#x22C6;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">alarm</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">condition</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">lolo</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x22C6;/</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-484026r26"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">if</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">llsv</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&amp;&amp;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">val</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x003C;=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">lolo</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">||</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">((</span><span 
class="pcrr7t-">lalm</span><span 
class="pcrr7t-">==</span><span 
class="pcrr7t-">lolo</span><span 
class="pcrr7t-">)</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&amp;&amp;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">val</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x003C;=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">lolo</span><span 
class="pcrr7t-">+</span><span 
class="pcrr7t-">hyst</span><span 
class="pcrr7t-">))))</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">{</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-484027r27"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">if</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">recGblSetSevr</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">pxxx</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">LOLO_ALARM</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">pxxx</span><span 
class="pcrr7t-">-&#x003E;</span><span 
class="pcrr7t-">llsv</span><span 
class="pcrr7t-">))</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-484028r28"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">pxxx</span><span 
class="pcrr7t-">-&#x003E;</span><span 
class="pcrr7t-">lalm</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">lolo</span><span 
class="pcrr7t-">;</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-484029r29"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">return</span><span 
class="pcrr7t-">;</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-484030r30"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">}</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-484031r31"></a></span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">/&#x22C6;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">alarm</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">condition</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">high</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x22C6;/</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-484032r32"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">if</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">hsv</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&amp;&amp;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">val</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x003E;=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">high</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">||</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">((</span><span 
class="pcrr7t-">lalm</span><span 
class="pcrr7t-">==</span><span 
class="pcrr7t-">high</span><span 
class="pcrr7t-">)</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&amp;&amp;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">val</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x003E;=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">high</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">hyst</span><span 
class="pcrr7t-">))))</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">{</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-484033r33"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">if</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">recGblSetSevr</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">pxxx</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">HIGH_ALARM</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">pxxx</span><span 
class="pcrr7t-">-&#x003E;</span><span 
class="pcrr7t-">hsv</span><span 
class="pcrr7t-">))</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-484034r34"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">pxxx</span><span 
class="pcrr7t-">-&#x003E;</span><span 
class="pcrr7t-">lalm</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">high</span><span 
class="pcrr7t-">;</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-484035r35"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">return</span><span 
class="pcrr7t-">;</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-484036r36"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">}</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-484037r37"></a></span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">/&#x22C6;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">alarm</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">condition</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">low</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x22C6;/</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-484038r38"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">if</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">lsv</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&amp;&amp;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">val</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x003C;=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">low</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">||</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">lalm</span><span 
class="pcrr7t-">==</span><span 
class="pcrr7t-">low</span><span 
class="pcrr7t-">)</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&amp;&amp;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">val</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x003C;=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">low</span><span 
class="pcrr7t-">+</span><span 
class="pcrr7t-">hyst</span><span 
class="pcrr7t-">))))</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">{</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-484039r39"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">if</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">recGblSetSevr</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">pxxx</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">LOW_ALARM</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">pxxx</span><span 
class="pcrr7t-">-&#x003E;</span><span 
class="pcrr7t-">lsv</span><span 
class="pcrr7t-">))</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-484040r40"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">pxxx</span><span 
class="pcrr7t-">-&#x003E;</span><span 
class="pcrr7t-">lalm</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">low</span><span 
class="pcrr7t-">;</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-484041r41"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">return</span><span 
class="pcrr7t-">;</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-484042r42"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">}</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-484043r43"></a></span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-484044r44"></a></span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">/&#x22C6;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">We</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">get</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">here</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">only</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">if</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">val</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">is</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">out</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">of</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">alarm</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">by</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">at</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">least</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">hyst</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x22C6;/</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-484045r45"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">pxxx</span><span 
class="pcrr7t-">-&#x003E;</span><span 
class="pcrr7t-">lalm</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">val</span><span 
class="pcrr7t-">;</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-484046r46"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">return</span><span 
class="pcrr7t-">;</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-484047r47"></a></span><span 
class="pcrr7t-">}</span>
     
                                                                                         
                                                                                         
</div>
<a 
 id="dx13-484048"></a>
<!--l. 434--><p class="noindent" >This is a typical set of code for checking alarms conditions for an analog type record. The actual set of code can be very record
specific. Note also that other parts of the system can raise alarms. The algorithm is to always maximize alarm severity, i.e. the
highest severity outstanding alarm will be reported.
</p><!--l. 439--><p class="noindent" >The above algorithm also honors a hysteresis factor for the alarm. This is to prevent alarm storms from occurring in the event
that the current value is very near an alarm limit and noise makes it continually cross the limit. It honors the hysteresis only
when the value is going to a lower alarm severity.
</p><!--l. 443--><p class="noindent" >Note the test:
</p>
<!--l. 445-->
     <div class="lstlisting" id="listing-132"><span class="label"><a 
 id="x13-484049r1"></a></span><span 
class="pcrb7t-">if</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">pxxx</span><span 
class="pcrr7t-">-&#x003E;</span><span 
class="pcrr7t-">udf</span><span 
class="pcrr7t-">)</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">{</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-484050r2"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">recGblSetSevr</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">pxxx</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">UDF_ALARM</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">VALID_ALARM</span><span 
class="pcrr7t-">);</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-484051r3"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">return</span><span 
class="pcrr7t-">;</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-484052r4"></a></span><span 
class="pcrr7t-">}</span>
     
</div>
<a 
 id="dx13-484053"></a>
<!--l. 453--><p class="noindent" >Database common defines the field <a 
 id="dx13-484054"></a>UDF, which means that field VAL is undefined. The STAT and SEVR fields are initialized
as though <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">recGblSetSevr(pxxx,UDF_ALARM,VALID_ALARM)</span></span></span>was called. Thus if the record is never processed the
record will be in an INVALID UNDEFINED alarm state. Field UDF is initialized to the value 1, i.e. TRUE. Thus the above
code will keep the record in the INVALID UNDEFINED alarm state as long as UDF is not given the value
0.
</p><!--l. 459--><p class="noindent" >The UDF field means Undefined, i.e. the VAL field has never been given a value. When records are loaded into an ioc this is the
initial state of records. Whevever code gives a value to the VAL field it is also supposed to set UDF false. Unless a particular
record type has unusual semantics no code should set UDF true. UDF normally means that the field was never given a
value.
</p><!--l. 465--><p class="noindent" >For input records device support is responsible for obtaining an input value. If no input value can be obtained neither record
support nor device support sets UDF false. If device support reads a raw value it returns a value telling record support to
perform a conversion. After the record support sets VAL equal to the converted value, it sets UDF false. If device support
obtains a converted value that it writes to VAL, it sets UDF false.
</p><!--l. 471--><p class="noindent" >For output records either something outside record/device support writes to the VAL field or else VAL is given a value because
record support obtains a value via the OMSL field. In either case the code that writes to the VAL field sets UDF
false.
</p><!--l. 474--><p class="noindent" >Whenever database access writes to the VAL field it sets UDF false.
</p><!--l. 476--><p class="noindent" >Routine recGblSetSevr is called to raise alarms. It can be called by iocCore, record support, or device support. The code that
detects an alarm is responsible for raising the alarm.
</p><!--l. 480--><p class="noindent" >
</p>
<h4 class="subsectionHead"><span class="titlemark">11.4.6    </span> <a 
 id="x13-48500011.4.6"></a>Raising Monitors</h4>
<!--l. 482-->
     <div class="lstlisting" id="listing-133"><span class="label"><a 
 id="x13-485001r1"></a></span><span 
class="pcrb7t-">static</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">void</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">monitor</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">xxxRecord</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x22C6;</span><span 
class="pcrr7t-">pxxx</span><span 
class="pcrr7t-">)</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-485002r2"></a></span><span 
class="pcrr7t-">{</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-485003r3"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">unsigned</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">short</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">monitor_mask</span><span 
class="pcrr7t-">;</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-485004r4"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">float</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">delta</span><span 
class="pcrr7t-">;</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-485005r5"></a></span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-485006r6"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">monitor_mask</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">recGblResetAlarms</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">pxxx</span><span 
class="pcrr7t-">);</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-485007r7"></a></span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-485008r8"></a></span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">/&#x22C6;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">check</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">for</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">value</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">change</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x22C6;/</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-485009r9"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">delta</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">pxxx</span><span 
class="pcrr7t-">-&#x003E;</span><span 
class="pcrr7t-">mlst</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">pxxx</span><span 
class="pcrr7t-">-&#x003E;</span><span 
class="pcrr7t-">val</span><span 
class="pcrr7t-">;</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-485010r10"></a></span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-485011r11"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">if</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">delta</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x003C;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">0.0)</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-485012r12"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">delta</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">delta</span><span 
class="pcrr7t-">;</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-485013r13"></a></span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-485014r14"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">if</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">delta</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x003E;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">pxxx</span><span 
class="pcrr7t-">-&#x003E;</span><span 
class="pcrr7t-">mdel</span><span 
class="pcrr7t-">)</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">{</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-485015r15"></a></span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">/&#x22C6;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">post</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">events</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">for</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">value</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">change</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x22C6;/</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-485016r16"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">monitor_mask</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">|=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">DBE_VALUE</span><span 
class="pcrr7t-">;</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-485017r17"></a></span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">/&#x22C6;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">update</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">last</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">value</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">monitored</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x22C6;/</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-485018r18"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">pxxx</span><span 
class="pcrr7t-">-&#x003E;</span><span 
class="pcrr7t-">mlst</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">pxxx</span><span 
class="pcrr7t-">-&#x003E;</span><span 
class="pcrr7t-">val</span><span 
class="pcrr7t-">;</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-485019r19"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">}</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-485020r20"></a></span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-485021r21"></a></span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">/&#x22C6;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">check</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">for</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">archive</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">change</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x22C6;/</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-485022r22"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">delta</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">pxxx</span><span 
class="pcrr7t-">-&#x003E;</span><span 
class="pcrr7t-">alst</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">pxxx</span><span 
class="pcrr7t-">-&#x003E;</span><span 
class="pcrr7t-">val</span><span 
class="pcrr7t-">;</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-485023r23"></a></span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-485024r24"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">if</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">delta</span><span 
class="pcrr7t-">&#x003C;0.0)</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-485025r25"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">delta</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">0.0;</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-485026r26"></a></span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-485027r27"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">if</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">delta</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x003E;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">pxxx</span><span 
class="pcrr7t-">-&#x003E;</span><span 
class="pcrr7t-">adel</span><span 
class="pcrr7t-">)</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">{</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-485028r28"></a></span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">/&#x22C6;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">post</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">events</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">on</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">value</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">field</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">for</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">archive</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">change</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x22C6;/</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-485029r29"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">monitor_mask</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">|=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">DBE_LOG</span><span 
class="pcrr7t-">;</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-485030r30"></a></span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">/&#x22C6;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">update</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">last</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">archive</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">value</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">monitored</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x22C6;/</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-485031r31"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">pxxx</span><span 
class="pcrr7t-">-&#x003E;</span><span 
class="pcrr7t-">alst</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">pxxx</span><span 
class="pcrr7t-">-&#x003E;</span><span 
class="pcrr7t-">val</span><span 
class="pcrr7t-">;</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-485032r32"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">}</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-485033r33"></a></span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-485034r34"></a></span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">/&#x22C6;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">send</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">out</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">monitors</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">connected</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">to</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">the</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">value</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">field</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x22C6;/</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-485035r35"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">if</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">monitor_mask</span><span 
class="pcrr7t-">){</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-485036r36"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">db_post_events</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">pxxx</span><span 
class="pcrr7t-">,&amp;</span><span 
class="pcrr7t-">pxxx</span><span 
class="pcrr7t-">-&#x003E;</span><span 
class="pcrr7t-">val</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">monitor_mask</span><span 
class="pcrr7t-">);</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-485037r37"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">}</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-485038r38"></a></span><span 
class="pcrr7t-">}</span>
     
</div>
<a 
 id="dx13-485039"></a>
                                                                                         
                                                                                         
<!--l. 523--><p class="noindent" >All record types should call <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">recGblResetAlarms</span></span></span> as shown. Note that <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">nsta</span></span></span> and <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">nsev</span></span></span> will have the value 0 after this
routine completes. This is necessary to ensure that alarm checking starts fresh after processing completes. The code
also takes care of raising alarm monitors when a record changes from an alarm state to the no alarm state. It
is essential that record support routines follow the above model or else alarm processing will not follow the
rules.
</p><!--l. 529--><p class="noindent" >Analog type records should also provide monitor and archive hysteresis fields as shown by this example.
</p><!--l. 531--><p class="noindent" ><span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">db_post_events</span></span></span> results in channel access issuing monitors for clients attached to the record and field. The call
is
</p>
<!--l. 534-->
     <div class="lstlisting" id="listing-134"><span class="label"><a 
 id="x13-485040r1"></a></span><span 
class="pcrb7t-">int</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">db_post_events</span><span 
class="pcrr7t-">(</span><span 
class="pcrb7t-">void</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x22C6;</span><span 
class="pcrr7t-">precord</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">void</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x22C6;</span><span 
class="pcrr7t-">pfield</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-485041r2"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">unsigned</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">int</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">monitor_mask</span><span 
class="pcrr7t-">)</span>
     
</div>
<!--l. 538--><p class="noindent" >where:
     </p><dl class="description"><dt class="description">
 </dt><dd 
class="description"><span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">precord</span></span></span> - The address of the record
     </dd><dt class="description">
 </dt><dd 
class="description"><span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">pfield</span></span></span> - The address of the field
     </dd><dt class="description">
 </dt><dd 
class="description"><span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">monitor_mask</span></span></span> - A bit mask that can be any combinations of the following:
         <dl class="description"><dt class="description">
      </dt><dd 
class="description"><a 
 id="dx13-485042"></a>DBE_ALARM - A change of alarm state has occured. This is set by <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">recGblResetAlarms</span></span></span>.
         </dd><dt class="description">
      </dt><dd 
class="description"><a 
 id="dx13-485043"></a>DBE_LOG - Archive change of state.
         </dd><dt class="description">
      </dt><dd 
class="description"><a 
 id="dx13-485044"></a>DBE_VAL - Value change of state
         </dd></dl>
     </dd></dl>
<!--l. 559--><p class="noindent" >IMPORTANT: The record support module is responsible for calling <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">db_post_event</span></span></span> for any fields that change as a result of
record processing. Also it should NOT call <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">db_post_event</span></span></span> for fields that do not change.
</p><!--l. 563--><p class="noindent" >
</p>
<h3 class="sectionHead"><span class="titlemark">11.5    </span> <a 
 id="x13-48600011.5"></a>Record Support Routines</h3>
<!--l. 565--><p class="noindent" >This section describes the routines defined in the RSET. Any routine that does not apply to a specific record type must be
declared <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">NULL</span></span></span>.
                                                                                         
                                                                                         
</p><!--l. 568--><p class="noindent" >
</p>
<h4 class="subsectionHead"><span class="titlemark">11.5.1    </span> <a 
 id="x13-48700011.5.1"></a>Generate Report of Each Field in Record</h4>
<!--l. 570-->
     <div class="lstlisting" id="listing-135"><span class="label"><a 
 id="x13-487001r1"></a></span><span 
class="pcrb7t-">static</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">long</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">report</span><span 
class="pcrr7t-">(</span><span 
class="pcrb7t-">void</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x22C6;</span><span 
class="pcrr7t-">precord</span><span 
class="pcrr7t-">);</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">/&#x22C6;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">addr</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">of</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">record</span><span 
class="pcrro7t-">&#x22C6;/</span>
     
</div>
<a 
 id="dx13-487002"></a>
<!--l. 575--><p class="noindent" >This routine is not used by most record types. Any action is record type specific.
</p><!--l. 578--><p class="noindent" >
</p>
<h4 class="subsectionHead"><span class="titlemark">11.5.2    </span> <a 
 id="x13-48800011.5.2"></a>Initialize Record Processing</h4>
<!--l. 580-->
     <div class="lstlisting" id="listing-136"><span class="label"><a 
 id="x13-488001r1"></a></span><span 
class="pcrb7t-">static</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">long</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">init</span><span 
class="pcrr7t-">(</span><span 
class="pcrb7t-">void</span><span 
class="pcrr7t-">);</span>
     
</div>
<a 
 id="dx13-488002"></a>
<!--l. 585--><p class="noindent" >This routine is called once at IOC initialization time. Any action is record type specific. Most record types do not need this
routine.
</p><!--l. 589--><p class="noindent" >
</p>
<h4 class="subsectionHead"><span class="titlemark">11.5.3    </span> <a 
 id="x13-48900011.5.3"></a>Initialize Specific Record</h4>
<!--l. 591-->
     <div class="lstlisting" id="listing-137"><span class="label"><a 
 id="x13-489001r1"></a></span><span 
class="pcrb7t-">static</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">long</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">init_record</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-489002r2"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">void</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x22C6;</span><span 
class="pcrr7t-">precord</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">/&#x22C6;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">addr</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">of</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">record</span><span 
class="pcrro7t-">&#x22C6;/</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-489003r3"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">int</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">pass</span><span 
class="pcrr7t-">);</span>
     
</div>
<a 
 id="dx13-489004"></a>
<!--l. 598--><p class="noindent" ><span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">iocInit</span></span></span> calls this routine twice (pass=0 and pass=1) for each database record of the type handled by this routine. It must
perform the following functions:
</p>
     <ul class="itemize1">
     <li class="itemize">Check and/or issue initialization calls for the associated device support routines.
     </li>
     <li class="itemize">Perform any record type specific initialization.
     </li>
     <li class="itemize">During the first pass it can only perform initializations that affect the record referenced by precord.
                                                                                         
                                                                                         
     </li>
     <li class="itemize">During the second pass it can perform initializations that affect other records.
     </li></ul>
<!--l. 612--><p class="noindent" >
</p>
<h4 class="subsectionHead"><span class="titlemark">11.5.4    </span> <a 
 id="x13-49000011.5.4"></a>Process Record</h4>
<!--l. 614-->
     <div class="lstlisting" id="listing-138"><span class="label"><a 
 id="x13-490001r1"></a></span><span 
class="pcrb7t-">static</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">long</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">process</span><span 
class="pcrr7t-">(</span><span 
class="pcrb7t-">void</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x22C6;</span><span 
class="pcrr7t-">precord</span><span 
class="pcrr7t-">);</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">/&#x22C6;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">addr</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">of</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">record</span><span 
class="pcrro7t-">&#x22C6;/</span>
     
</div>
<a 
 id="dx13-490002"></a>
<!--l. 619--><p class="noindent" >This routine must follow the guidelines specified previously.
</p><!--l. 621--><p class="noindent" >
</p>
<h4 class="subsectionHead"><span class="titlemark">11.5.5    </span> <a 
 id="x13-49100011.5.5"></a>Special Processing</h4>
<!--l. 623-->
     <div class="lstlisting" id="listing-139"><span class="label"><a 
 id="x13-491001r1"></a></span><span 
class="pcrb7t-">static</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">long</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">special</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-491002r2"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">struct</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">dbAddr</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x22C6;</span><span 
class="pcrr7t-">paddr</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-491003r3"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">int</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">after</span><span 
class="pcrr7t-">);</span><span 
class="pcrro7t-">/&#x22C6;</span><span 
class="pcrro7t-">(</span><span 
class="pcrro7t-">FALSE</span><span 
class="pcrro7t-">,</span><span 
class="pcrro7t-">TRUE</span><span 
class="pcrro7t-">)=&#x003E;(</span><span 
class="pcrro7t-">Before</span><span 
class="pcrro7t-">,</span><span 
class="pcrro7t-">After</span><span 
class="pcrro7t-">)</span><span 
class="pcrro7t-">Processing</span><span 
class="pcrro7t-">&#x22C6;/</span>
     
</div>
<a 
 id="dx13-491004"></a>
<!--l. 629--><p class="noindent" >This routine implements the record type specific special processing for the field referred to by <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">dbAddr</span></span></span>. Note that it is
called twice. Once before any changes are made to the associated field and once after. File <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">special.h</span></span></span> defines
special types. This routine is only called for user special fields, i.e. fields with <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">SPC_xxx</span></span></span> <span 
class="cmmi-10">&#x003E;</span>= 100. A field is
declared special in the ASCII record definition file. New values should not by added to <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">special.h</span></span></span>, instead use
<span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">SPC_MOD</span></span></span>.
</p><!--l. 637--><p class="noindent" >The database access routine, <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">dbGetFieldIndex</span></span></span> can be used to determine which field is being modified.
</p><!--l. 639--><p class="noindent" >
</p>
<h4 class="subsectionHead"><span class="titlemark">11.5.6    </span> <a 
 id="x13-49200011.5.6"></a>Get Value</h4>
<!--l. 641--><p class="noindent" >This routine is no longer used. It should be left as a NULL procedure in the record support entry table.
                                                                                         
                                                                                         
</p><!--l. 644--><p class="noindent" >
</p>
<h4 class="subsectionHead"><span class="titlemark">11.5.7    </span> <a 
 id="x13-49300011.5.7"></a>Convert dbAddr Definitions</h4>
<!--l. 646-->
     <div class="lstlisting" id="listing-140"><span class="label"><a 
 id="x13-493001r1"></a></span><span 
class="pcrb7t-">static</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">long</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">cvt_dbaddr</span><span 
class="pcrr7t-">(</span><span 
class="pcrb7t-">struct</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">dbAddr</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x22C6;</span><span 
class="pcrr7t-">paddr</span><span 
class="pcrr7t-">);</span>
     
</div>
<a 
 id="dx13-493002"></a>
<!--l. 650--><p class="noindent" >This routine is called by <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">dbNameToAddr</span></span></span> if the field has special set equal to <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">SPC_DBADDR</span></span></span>. A typical use is when a field
refers to an array. This routine can change any combination of the <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">dbAddr</span></span></span> fields: <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">no_elements</span></span></span>, <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">field_type</span></span></span>,
<span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">field_size</span></span></span>, <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">special,pfield,</span><span 
class="pcrr7t-">&#x00A0;</span></span></span>and<span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">&#x00A0;dbr_type</span></span></span>. For example if the <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">VAL</span></span></span> field of a waveform record is passed
to <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">dbNameToAddr</span></span></span>, <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">cvt_dbaddr</span></span></span> would change <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">dbAddr</span></span></span> so that it refers to the actual array rather then
<span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">VAL</span></span></span>.
</p><!--l. 656--><p class="noindent" >The database access routine, <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">dbGetFieldIndex</span></span></span> can be used to determine which field is being modified.
</p><!--l. 658--><p class="noindent" >NOTES:
</p>
     <ul class="itemize1">
     <li class="itemize">Channel access calls <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">db_name_to_addr</span></span></span>, which is part of old database access. <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">db_name_to_addr</span></span></span> calls
     <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">dbNameToAddr</span></span></span>. This is done when a client connects to the record.
     </li>
     <li class="itemize">no_elements must be set to the maximum number of elements that will ever be stored in the array.
     </li></ul>
<!--l. 669--><p class="noindent" >
</p>
<h4 class="subsectionHead"><span class="titlemark">11.5.8    </span> <a 
 id="x13-49400011.5.8"></a>Get Array Information</h4>
<!--l. 671-->
     <div class="lstlisting" id="listing-141"><span class="label"><a 
 id="x13-494001r1"></a></span><span 
class="pcrb7t-">static</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">long</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">get_array_info</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-494002r2"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">struct</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">dbAddr</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x22C6;</span><span 
class="pcrr7t-">paddr</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-494003r3"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">long</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x22C6;</span><span 
class="pcrr7t-">no_elements</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-494004r4"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">long</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x22C6;</span><span 
class="pcrr7t-">offset</span><span 
class="pcrr7t-">);</span>
     
</div>
<a 
 id="dx13-494005"></a>
<!--l. 678--><p class="noindent" >This routine returns the current number of elements and the offset of the first value of the specified array. The offset field is
meaningful if the array is actually a circular buffer.
</p><!--l. 681--><p class="noindent" >The database access routine, <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">dbGetFieldIndex</span></span></span> can be used to determine which field is being modified.
It is permissible for <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">get_array_info</span></span></span> to change <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">pfield</span></span></span>. This feature can be used to implement double
buffering.
<a 
 id="dx13-494006"></a>
</p><!--l. 686--><p class="noindent" >When an array field is being written <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">get_array_info</span></span></span> is called before the field values are changed.
                                                                                         
                                                                                         
</p><!--l. 688--><p class="noindent" >
</p>
<h4 class="subsectionHead"><span class="titlemark">11.5.9    </span> <a 
 id="x13-49500011.5.9"></a>Put Array Information</h4>
<!--l. 690-->
     <div class="lstlisting" id="listing-142"><span class="label"><a 
 id="x13-495001r1"></a></span><span 
class="pcrb7t-">static</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">long</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">put_array_info</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-495002r2"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">struct</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">dbAddr</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x22C6;</span><span 
class="pcrr7t-">paddr</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-495003r3"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">long</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">nNew</span><span 
class="pcrr7t-">);</span>
     
</div>
<a 
 id="dx13-495004"></a>
<!--l. 696--><p class="noindent" >This routine is called after new values have been placed in the specified array.
</p><!--l. 698--><p class="noindent" >The database access routine, <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">dbGetFieldIndex</span></span></span> can be used to determine which field is being modified.
</p><!--l. 700--><p class="noindent" >
</p>
<h4 class="subsectionHead"><span class="titlemark">11.5.10    </span> <a 
 id="x13-49600011.5.10"></a>Get Units</h4>
<!--l. 702-->
     <div class="lstlisting" id="listing-143"><span class="label"><a 
 id="x13-496001r1"></a></span><span 
class="pcrb7t-">static</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">long</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">get_units</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-496002r2"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">struct</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">dbAddr</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x22C6;</span><span 
class="pcrr7t-">paddr</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-496003r3"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">char</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x22C6;</span><span 
class="pcrr7t-">punits</span><span 
class="pcrr7t-">);</span>
     
</div>
<a 
 id="dx13-496004"></a>
<!--l. 708--><p class="noindent" >This routine sets units equal to the engineering units for the field.
</p><!--l. 710--><p class="noindent" >The database access routine, <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">dbGetFieldIndex</span></span></span> can be used to determine which field is being modified.
</p><!--l. 712--><p class="noindent" >
</p>
<h4 class="subsectionHead"><span class="titlemark">11.5.11    </span> <a 
 id="x13-49700011.5.11"></a>Get Precision</h4>
<!--l. 714-->
     <div class="lstlisting" id="listing-144"><span class="label"><a 
 id="x13-497001r1"></a></span><span 
class="pcrb7t-">static</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">long</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">get_precision</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-497002r2"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">struct</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">dbAddr</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x22C6;</span><span 
class="pcrr7t-">paddr</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-497003r3"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">long</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x22C6;</span><span 
class="pcrr7t-">precision</span><span 
class="pcrr7t-">);</span>
     
</div>
<a 
 id="dx13-497004"></a>
<!--l. 720--><p class="noindent" >This routine gets the precision, i.e. number of decimal places, which should be used to convert the field value to an ASCII
string. <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">recGblGetPrec</span></span></span> should be called for fields not directly related to the value field.
</p><!--l. 724--><p class="noindent" >The database access routine, <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">dbGetFieldIndex</span></span></span> can be used to determine which field is being modified.
                                                                                         
                                                                                         
</p><!--l. 726--><p class="noindent" >
</p>
<h4 class="subsectionHead"><span class="titlemark">11.5.12    </span> <a 
 id="x13-49800011.5.12"></a>Get Enumerated String</h4>
<!--l. 728-->
     <div class="lstlisting" id="listing-145"><span class="label"><a 
 id="x13-498001r1"></a></span><span 
class="pcrb7t-">static</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">long</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">get_enum_str</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-498002r2"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">struct</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">dbAddr</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x22C6;</span><span 
class="pcrr7t-">paddr</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-498003r3"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">char</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x22C6;</span><span 
class="pcrr7t-">p</span><span 
class="pcrr7t-">);</span>
     
</div>
<a 
 id="dx13-498004"></a>
<!--l. 734--><p class="noindent" >This routine sets <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">&#x22C6;p</span></span></span> equal to the ASCII string for the field value. The field must have type <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">DBF_ENUM</span></span></span>.
</p><!--l. 737--><p class="noindent" >Look at the code for the <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">bi</span></span></span> or <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">mbbi</span></span></span> records for examples.
</p><!--l. 739--><p class="noindent" >The database access routine, <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">dbGetFieldIndex</span></span></span> can be used to determine which field is being modified.
</p><!--l. 741--><p class="noindent" >
</p>
<h4 class="subsectionHead"><span class="titlemark">11.5.13    </span> <a 
 id="x13-49900011.5.13"></a>Get Strings for Enumerated Field</h4>
<!--l. 743-->
     <div class="lstlisting" id="listing-146"><span class="label"><a 
 id="x13-499001r1"></a></span><span 
class="pcrb7t-">static</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">long</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">get_enum_strs</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-499002r2"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">struct</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">dbAddr</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x22C6;</span><span 
class="pcrr7t-">paddr</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-499003r3"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">struct</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">dbr_enumStrs</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x22C6;</span><span 
class="pcrr7t-">p</span><span 
class="pcrr7t-">);</span>
     
</div>
<a 
 id="dx13-499004"></a>
<!--l. 749--><p class="noindent" >This routine gives values to all fields of structure <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">dbr_enumStrs</span></span></span>.
</p><!--l. 751--><p class="noindent" >Look at the code for the <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">bi</span></span></span> or <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">mbbi</span></span></span> records for examples.
</p><!--l. 753--><p class="noindent" >The database access routine, <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">dbGetFieldIndex</span></span></span> can be used to determine which field is being modified.
</p><!--l. 755--><p class="noindent" >
</p>
<h4 class="subsectionHead"><span class="titlemark">11.5.14    </span> <a 
 id="x13-50000011.5.14"></a>Put Enumerated String</h4>
<!--l. 757-->
     <div class="lstlisting" id="listing-147"><span class="label"><a 
 id="x13-500001r1"></a></span><span 
class="pcrb7t-">static</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">long</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">put_enum_str</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-500002r2"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">struct</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">dbAddr</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x22C6;</span><span 
class="pcrr7t-">paddr</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-500003r3"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">char</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x22C6;</span><span 
class="pcrr7t-">p</span><span 
class="pcrr7t-">);</span>
     
</div>
<a 
 id="dx13-500004"></a>
<!--l. 763--><p class="noindent" >Given an ASCII string, this routine updates the database field. It compares the string with the string values associated
with each enumerated value and if it finds a match sets the database field equal to the index of the string which
matched.
</p><!--l. 766--><p class="noindent" >Look at the code for the <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">bi</span></span></span> or <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">mbbi</span></span></span> records for examples.
</p><!--l. 768--><p class="noindent" >The database access routine, <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">dbGetFieldIndex</span></span></span> can be used to determine which field is being modified.
                                                                                         
                                                                                         
</p><!--l. 770--><p class="noindent" >
</p>
<h4 class="subsectionHead"><span class="titlemark">11.5.15    </span> <a 
 id="x13-50100011.5.15"></a>Get Graphic Double Information</h4>
<!--l. 772-->
     <div class="lstlisting" id="listing-148"><span class="label"><a 
 id="x13-501001r1"></a></span><span 
class="pcrb7t-">static</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">long</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">get_graphic_double</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-501002r2"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">struct</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">dbAddr</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x22C6;</span><span 
class="pcrr7t-">paddr</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-501003r3"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">struct</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">dbr_grDouble</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x22C6;</span><span 
class="pcrr7t-">p</span><span 
class="pcrr7t-">);</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">/&#x22C6;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">addr</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">of</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">return</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">info</span><span 
class="pcrro7t-">&#x22C6;/</span>
     
</div>
<a 
 id="dx13-501004"></a>
<!--l. 778--><p class="noindent" >This routine fills in the graphics related fields of structure <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">dbr_grDouble</span></span></span>. <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">recGblGetGraphicDouble</span></span></span> should be called
for fields not directly related to the value field.
</p><!--l. 781--><p class="noindent" >The database access routine, <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">dbGetFieldIndex</span></span></span> can be used to determine which field is being modified.
</p><!--l. 783--><p class="noindent" >
</p>
<h4 class="subsectionHead"><span class="titlemark">11.5.16    </span> <a 
 id="x13-50200011.5.16"></a>Get Control Double Information</h4>
<!--l. 785-->
     <div class="lstlisting" id="listing-149"><span class="label"><a 
 id="x13-502001r1"></a></span><span 
class="pcrb7t-">static</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">long</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">get_control_double</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-502002r2"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">struct</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">dbAddr</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x22C6;</span><span 
class="pcrr7t-">paddr</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-502003r3"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">struct</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">dbr_ctrlDouble</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x22C6;</span><span 
class="pcrr7t-">p</span><span 
class="pcrr7t-">);</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">/&#x22C6;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">addr</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">of</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">return</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">info</span><span 
class="pcrro7t-">&#x22C6;/</span>
     
</div>
<a 
 id="dx13-502004"></a>
<!--l. 791--><p class="noindent" >This routine gives values to all fields of structure <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">dbr_ctrlDouble</span></span></span>. <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">recGblGetControlDouble</span></span></span> should be called for
fields not directly related to the value field.
</p><!--l. 794--><p class="noindent" >The database access routine, <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">dbGetFieldIndex</span></span></span> can be used to determine which field is being modified.
</p><!--l. 796--><p class="noindent" >
</p>
<h4 class="subsectionHead"><span class="titlemark">11.5.17    </span> <a 
 id="x13-50300011.5.17"></a>Get Alarm Double Information</h4>
<!--l. 798-->
     <div class="lstlisting" id="listing-150"><span class="label"><a 
 id="x13-503001r1"></a></span><span 
class="pcrb7t-">static</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">long</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">get_alarm_double</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-503002r2"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">struct</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">dbAddr</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x22C6;</span><span 
class="pcrr7t-">paddr</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-503003r3"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">struct</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">dbr_alDouble</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x22C6;</span><span 
class="pcrr7t-">p</span><span 
class="pcrr7t-">);</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">/&#x22C6;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">addr</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">of</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">return</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">info</span><span 
class="pcrro7t-">&#x22C6;/</span>
     
</div>
<a 
 id="dx13-503004"></a>
<!--l. 804--><p class="noindent" >This routine gives values to all fields of structure <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">dbr_alDouble</span></span></span>.
</p><!--l. 806--><p class="noindent" >The database access routine, <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">dbGetFieldIndex</span></span></span> can be used to determine which field is being modified.
                                                                                         
                                                                                         
</p><!--l. 808--><p class="noindent" >
</p>
<h3 class="sectionHead"><span class="titlemark">11.6    </span> <a 
 id="x13-50400011.6"></a>Global Record Support Routines</h3>
<a 
 id="dx13-504001"></a>
<!--l. 811--><p class="noindent" >A number of global record support routines are available. These routines are intended for use by the record specific processing
routines but can be called by any routine that wishes to use their services.
</p><!--l. 814--><p class="noindent" >The name of each of these routines begins with &#8220;<span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">recGbl</span></span></span>&#8221;. Code using these routines should
                                                                                         
                                                                                         
</p>
<div class="verbatim" id="verbatim-209">
<div class="fancyvrb" id="fancyvrb209"><a 
 id="x13-504003r1"></a>&#x00A0;&#x00A0;#include&#x00A0;&#x003C;recGbl.h&#x003E;</div></div>
<!--l. 818--><p class="nopar" >
</p><!--l. 820--><p class="noindent" >
</p>
<h4 class="subsectionHead"><span class="titlemark">11.6.1    </span> <a 
 id="x13-50500011.6.1"></a>Alarm Status and Severity</h4>
<!--l. 822--><p class="noindent" >Alarms may be raised in many different places during the course of record processing. The algorithm is to maximize the alarm
severity, i.e. the highest severity outstanding alarm is raised. If more than one alarm of the same severity is found then the
first one is reported. This means that whenever a code fragment wants to raise an alarm, it does so only if the
alarm severity it will declare is greater then that already existing. Four fields (in database common) are used to
implement alarms: <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">sevr</span></span></span>, <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">stat</span></span></span>, <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">nsev</span></span></span>, and <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">nsta</span></span></span>. The first two are the status and severity after the record is
completely processed. The last two fields (<span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">nsta</span></span></span> and <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">nsev</span></span></span>) are the status and severity values to set during
record processing. Two routines are used for handling alarms. Whenever a routine wants to raise an alarm it calls
<span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">recGblSetSevr</span></span></span>. This routine will only change <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">nsta</span></span></span> and <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">nsev</span></span></span> if it will result in the alarm severity being
increased. At the end of processing, the record support module must call <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">recGblResetAlarms</span></span></span>. This routine sets
<span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">stat</span><span 
class="pcrr7t-">&#x00A0;=</span><span 
class="pcrr7t-">&#x00A0;nsta</span></span></span>, <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">sevr</span><span 
class="pcrr7t-">&#x00A0;=</span><span 
class="pcrr7t-">&#x00A0;nsev</span></span></span>, <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">nsta=</span><span 
class="pcrr7t-">&#x00A0;0</span></span></span>, and <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">nsev</span><span 
class="pcrr7t-">&#x00A0;=</span><span 
class="pcrr7t-">&#x00A0;0</span></span></span>. If <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">stat</span></span></span> or <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">sevr</span></span></span> has changed value since
the last call it calls <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">db_post_event</span></span></span> for <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">stat</span></span></span> and <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">sevr</span></span></span> and returns a value of <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">DBE_ALARM</span></span></span>. If no change
occured it returns 0. Thus after calling <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">recGblResetAlarms</span></span></span> everything is ready for raising alarms the next
time the record is processed. The example record support module presented above shows how these macros are
used.
</p>
<!--l. 840-->
     <div class="lstlisting" id="listing-151"><span class="label"><a 
 id="x13-505001r1"></a></span><span 
class="pcrb7t-">int</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">recGblSetSevr</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-505002r2"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">void</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x22C6;</span><span 
class="pcrr7t-">precord</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-505003r3"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">short</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">nsta</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-505004r4"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">short</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">nsevr</span><span 
class="pcrr7t-">);</span>
     
</div>
<a 
 id="dx13-505005"></a>
<!--l. 848--><p class="noindent" >Returns <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">TRUE</span></span></span> if it changed <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">nsta</span></span></span> and/or <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">nsev</span></span></span>, <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">FALSE</span></span></span> if it did not change them.
</p>
<!--l. 850-->
     <div class="lstlisting" id="listing-152"><span class="label"><a 
 id="x13-505006r1"></a></span><span 
class="pcrb7t-">unsigned</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">short</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">recGblResetAlarms</span><span 
class="pcrr7t-">(</span><span 
class="pcrb7t-">void</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x22C6;</span><span 
class="pcrr7t-">precord</span><span 
class="pcrr7t-">);</span>
     
</div>
<a 
 id="dx13-505007"></a>
<!--l. 855--><p class="noindent" >Returns: Initial value for <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">monitor_mask</span></span></span>
</p><!--l. 857--><p class="noindent" >
</p>
<h4 class="subsectionHead"><span class="titlemark">11.6.2    </span> <a 
 id="x13-50600011.6.2"></a>Alarm Acknowledgment</h4>
                                                                                         
                                                                                         
<!--l. 859--><p class="noindent" >Database common contains two additional alarm related fields:
</p>
     <ul class="itemize1">
     <li class="itemize"><span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">acks</span></span></span> - highest severity unacknowledged alarm
     </li>
     <li class="itemize"><span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">ackt</span></span></span> - do transient alarm need to be acknowledged</li></ul>
<!--l. 866--><p class="noindent" >These fields are handled by <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">iocCore</span></span></span> and <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">recGblResetAlarms</span></span></span> and should not be used by record support. The alarm
acknowledgement facility it provided for use by alarm handlers.
</p><!--l. 869--><p class="noindent" >
</p>
<h4 class="subsectionHead"><span class="titlemark">11.6.3    </span> <a 
 id="x13-50700011.6.3"></a>Generate Error: Process Variable Name, Caller, Message</h4>
<!--l. 871--><p class="noindent" >SUGGESTION: use <a 
 id="dx13-507001"></a><span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">errlogPrintf</span></span></span> instead of this for new code.
</p>
<!--l. 873-->
     <div class="lstlisting" id="listing-153"><span class="label"><a 
 id="x13-507002r1"></a></span><span 
class="pcrb7t-">void</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">recGblDbaddrError</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-507003r2"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">long</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">status</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-507004r3"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">struct</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">dbAddr</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x22C6;</span><span 
class="pcrr7t-">paddr</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-507005r4"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">char</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x22C6;</span><span 
class="pcrr7t-">pcaller_name</span><span 
class="pcrr7t-">);</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrro7t-">/&#x22C6;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">calling</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">routine</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">name</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x22C6;/</span>
     
</div>
<a 
 id="dx13-507006"></a>
<!--l. 881--><p class="noindent" >This routine interfaces with the system wide error handling system to display the following information: Status information,
process variable name, calling routine.
</p><!--l. 884--><p class="noindent" >
</p>
<h4 class="subsectionHead"><span class="titlemark">11.6.4    </span> <a 
 id="x13-50800011.6.4"></a>Generate Error: Status String, Record Name, Caller</h4>
<!--l. 885--><p class="noindent" >SUGGESTION: use errlogPrintf instead of this for new code. </p><!--l. 886-->
     <div class="lstlisting" id="listing-154"><span class="label"><a 
 id="x13-508001r1"></a></span><span 
class="pcrb7t-">void</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">recGblRecordError</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-508002r2"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">long</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">status</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-508003r3"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">void</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x22C6;</span><span 
class="pcrr7t-">precord</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">/&#x22C6;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">addr</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">of</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">record</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x22C6;/</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-508004r4"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">char</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x22C6;</span><span 
class="pcrr7t-">pcaller_name</span><span 
class="pcrr7t-">);</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">/&#x22C6;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">calling</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">routine</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">name</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x22C6;/</span>
     
</div>
<a 
 id="dx13-508005"></a>
<a 
 id="dx13-508006"></a>
<!--l. 895--><p class="noindent" >This routine interfaces with the system wide error handling system to display the following information: Status information,
record name, calling routine.
                                                                                         
                                                                                         
</p><!--l. 898--><p class="noindent" >
</p>
<h4 class="subsectionHead"><span class="titlemark">11.6.5    </span> <a 
 id="x13-50900011.6.5"></a>Generate Error: Record Name, Caller, Record Support Message</h4>
<!--l. 899--><p class="noindent" >SUGGESTION: use errlogPrintf instead of this for new code. </p><!--l. 900-->
     <div class="lstlisting" id="listing-155"><span class="label"><a 
 id="x13-509001r1"></a></span><span 
class="pcrb7t-">void</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">recGblRecsupError</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-509002r2"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">long</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">status</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-509003r3"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">struct</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">dbAddr</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x22C6;</span><span 
class="pcrr7t-">paddr</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-509004r4"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">char</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x22C6;</span><span 
class="pcrr7t-">pcaller_name</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">/&#x22C6;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">calling</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">routine</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">name</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x22C6;/</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-509005r5"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">char</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x22C6;</span><span 
class="pcrr7t-">psupport_name</span><span 
class="pcrr7t-">);</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">/&#x22C6;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">support</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">routine</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">name</span><span 
class="pcrro7t-">&#x22C6;/</span>
     
</div>
<a 
 id="dx13-509006"></a>
<a 
 id="dx13-509007"></a>
<!--l. 910--><p class="noindent" >This routine interfaces with the system wide error handling system to display the following information: Status information,
record name, calling routine, record support entry name.
</p><!--l. 913--><p class="noindent" >
</p>
<h4 class="subsectionHead"><span class="titlemark">11.6.6    </span> <a 
 id="x13-51000011.6.6"></a>Get Graphics Double</h4>
<!--l. 915-->
     <div class="lstlisting" id="listing-156"><span class="label"><a 
 id="x13-510001r1"></a></span><span 
class="pcrb7t-">void</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">recGblGetGraphicDouble</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-510002r2"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">struct</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">dbAddr</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x22C6;</span><span 
class="pcrr7t-">paddr</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-510003r3"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">struct</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">dbr_grDouble</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x22C6;</span><span 
class="pcrr7t-">pgd</span><span 
class="pcrr7t-">);</span>
     
</div>
<a 
 id="dx13-510004"></a>
<!--l. 922--><p class="noindent" >This routine can be used by the <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">get_graphic_double</span></span></span> record support routine to obtain graphics values for fields that it
doesn&#8217;t know how to set.
</p><!--l. 925--><p class="noindent" >
</p>
<h4 class="subsectionHead"><span class="titlemark">11.6.7    </span> <a 
 id="x13-51100011.6.7"></a>Get Control Double</h4>
<!--l. 927-->
     <div class="lstlisting" id="listing-157"><span class="label"><a 
 id="x13-511001r1"></a></span><span 
class="pcrb7t-">void</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">recGblGetControlDouble</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-511002r2"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">struct</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">dbAddr</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x22C6;</span><span 
class="pcrr7t-">paddr</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-511003r3"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">struct</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">dbr_ctrlDouble</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x22C6;</span><span 
class="pcrr7t-">pcd</span><span 
class="pcrr7t-">);</span>
     
</div>
<a 
 id="dx13-511004"></a>
<!--l. 934--><p class="noindent" >This routine can be used by the <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">get_control_double</span></span></span> record support routine to obtain control values for fields that it
doesn&#8217;t know how to set.
                                                                                         
                                                                                         
</p><!--l. 937--><p class="noindent" >
</p>
<h4 class="subsectionHead"><span class="titlemark">11.6.8    </span> <a 
 id="x13-51200011.6.8"></a>Get Alarm Double</h4>
<!--l. 939-->
     <div class="lstlisting" id="listing-158"><span class="label"><a 
 id="x13-512001r1"></a></span><span 
class="pcrb7t-">void</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">recGblGetAlarmDouble</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-512002r2"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">struct</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">dbAddr</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x22C6;</span><span 
class="pcrr7t-">paddr</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-512003r3"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">struct</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">dbr_alDouble</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x22C6;</span><span 
class="pcrr7t-">pcd</span><span 
class="pcrr7t-">);</span>
     
</div>
<a 
 id="dx13-512004"></a>
<!--l. 946--><p class="noindent" >This routine can be used by the <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">get_alarm_double</span></span></span> record support routine to obtain control values for fields that it doesn&#8217;t
know how to set.
</p><!--l. 949--><p class="noindent" >
</p>
<h4 class="subsectionHead"><span class="titlemark">11.6.9    </span> <a 
 id="x13-51300011.6.9"></a>Get Precision</h4>
<!--l. 951-->
     <div class="lstlisting" id="listing-159"><span class="label"><a 
 id="x13-513001r1"></a></span><span 
class="pcrb7t-">void</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">recGblGetPrec</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-513002r2"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">struct</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">dbAddr</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x22C6;</span><span 
class="pcrr7t-">paddr</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-513003r3"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">long</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x22C6;</span><span 
class="pcrr7t-">pprecision</span><span 
class="pcrr7t-">);</span>
     
</div>
<a 
 id="dx13-513004"></a>
<!--l. 958--><p class="noindent" >This routine can be used by the <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">get_precision</span></span></span> record support routine to obtain the precision for fields that it doesn&#8217;t know
how to set the precision.
</p><!--l. 961--><p class="noindent" >
</p>
<h4 class="subsectionHead"><span class="titlemark">11.6.10    </span> <a 
 id="x13-51400011.6.10"></a>Get Time Stamp</h4>
<!--l. 963-->
     <div class="lstlisting" id="listing-160"><span class="label"><a 
 id="x13-514001r1"></a></span><span 
class="pcrb7t-">void</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">recGblGetTimeStamp</span><span 
class="pcrr7t-">(</span><span 
class="pcrb7t-">void</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x22C6;</span><span 
class="pcrr7t-">precord</span><span 
class="pcrr7t-">)</span>
     
</div>
<a 
 id="dx13-514002"></a>
<!--l. 968--><p class="noindent" >This routine gets the current time stamp and puts it in the record It does the following:
</p>
     <ul class="itemize1">
     <li class="itemize">If TSEL is not a constant link and TSEL refers to the TIME field of a record, the time is obtained from the
     record reference by TSEL and this put in field TIME. The routine then returns.
     </li>
     <li class="itemize">If TSEL is not a constant link dbGetLink is called and the value put in field TSE.
                                                                                         
                                                                                         
     </li>
     <li class="itemize">If TSE is equal to <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">epicsTimeEventDeviceTime</span></span></span> (-2) then noting is done, i.e. the routine just returns.
     </li>
     <li class="itemize"><span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">epicsTimeGetEvent</span></span></span> is called.
     </li></ul>
<!--l. 982--><p class="noindent" >
</p>
<h4 class="subsectionHead"><span class="titlemark">11.6.11    </span> <a 
 id="x13-51500011.6.11"></a>Forward link</h4>
<!--l. 984-->
     <div class="lstlisting" id="listing-161"><span class="label"><a 
 id="x13-515001r1"></a></span><span 
class="pcrb7t-">void</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">recGblFwdLink</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-515002r2"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">void</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x22C6;</span><span 
class="pcrr7t-">precord</span><span 
class="pcrr7t-">);</span>
     
</div>
<a 
 id="dx13-515003"></a>
<!--l. 990--><p class="noindent" >This routine can be used by process to request processing of forward links.
</p><!--l. 992--><p class="noindent" >
</p>
<h4 class="subsectionHead"><span class="titlemark">11.6.12    </span> <a 
 id="x13-51600011.6.12"></a>Initialize Constant Link</h4>
<!--l. 994-->
     <div class="lstlisting" id="listing-162"><span class="label"><a 
 id="x13-516001r1"></a></span><span 
class="pcrb7t-">int</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">recGblInitConstantLink</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-516002r2"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">struct</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">link</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x22C6;</span><span 
class="pcrr7t-">plink</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-516003r3"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">short</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">dbfType</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-516004r4"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">void</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x22C6;</span><span 
class="pcrr7t-">pdest</span><span 
class="pcrr7t-">);</span>
     
</div>
<a 
 id="dx13-516005"></a>
<!--l. 1002--><p class="noindent" >Initialize a constant link. This routine is usually called by <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">init_record</span></span></span> (or by associated device support)
to initialize the field associated with a constant link. It returns(FALSE, TRUE) if it (did not, did) modify the
destination.
</p><!--l. 1006--><p class="noindent" >
</p>
<h4 class="subsectionHead"><span class="titlemark">11.6.13    </span> <a 
 id="x13-51700011.6.13"></a>Analog Value Deadband Check</h4>
                                                                                         
                                                                                         
<div class="verbatim" id="verbatim-210">
<div class="fancyvrb" id="fancyvrb210"><a 
 id="x13-517002r1"></a>&#x00A0;&#x00A0;recGblCheckDeadband(<br class="fancyvrb" /><a 
 id="x13-517004r2"></a>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;epicsFloat64&#x00A0;&#x22C6;poldval,<br class="fancyvrb" /><a 
 id="x13-517006r3"></a>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;const&#x00A0;epicsFloat64&#x00A0;newval,
<br class="fancyvrb" /><a 
 id="x13-517008r4"></a>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;const&#x00A0;epicsFloat64&#x00A0;deadband,<br class="fancyvrb" /><a 
 id="x13-517010r5"></a>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;unsigned&#x00A0;&#x22C6;monitor_mask,<br class="fancyvrb" /><a 
 id="x13-517012r6"></a>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;const&#x00A0;unsigned&#x00A0;add_mask);</div></div>
<!--l. 1015--><p class="nopar" >
<a 
 id="dx13-517013"></a>
</p><!--l. 1018--><p class="noindent" >Check if analog (double) value is outside specified deadband, and set bits in monitor mask. This routine is usually called by an
analog record&#8217;s <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">monitor</span></span></span> (as part of processing) to check if a value is outside a predefined deadband. It also set bits in a
monitor mask according to the check result. If <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">newval</span></span></span> lies outside the specified <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">deadband</span></span></span>, <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">newval</span></span></span> is copied into
<span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">&#x22C6;poldval</span></span></span>, and <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">add_mask</span></span></span> is OR&#8217;ed into <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-">monitor_mask</span></span></span>.
                                                                                         
                                                                                         
</p>
<!--l. 1--><div class="crosslinks"><p class="noindent">[<a 
href="AppDevGuidech12.html" >next</a>] [<a 
href="AppDevGuidech10.html" >prev</a>] [<a 
href="AppDevGuidech10.html#tailAppDevGuidech10.html" >prev-tail</a>] [<a 
href="AppDevGuidech11.html" >front</a>] [<a 
href="AppDevGuide.html#AppDevGuidech11.html" >up</a>] </p></div>
<!--l. 1--><p class="noindent" ><a 
 id="tailAppDevGuidech11.html"></a> </p> 
</body></html> 
