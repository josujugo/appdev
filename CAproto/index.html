<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="application/xhtml+xml; charset=UTF-8" />
<meta name="generator" content="AsciiDoc 8.6.9" />
<title>Channel Access Protocol Specification</title>
<style type="text/css">
/* Shared CSS for AsciiDoc xhtml11 and html5 backends */

/* Default font. */
body {
  font-family: Georgia,serif;
}

/* Title font. */
h1, h2, h3, h4, h5, h6,
div.title, caption.title,
thead, p.table.header,
#toctitle,
#author, #revnumber, #revdate, #revremark,
#footer {
  font-family: Arial,Helvetica,sans-serif;
}

body {
  margin: 1em 5% 1em 5%;
}

a {
  color: blue;
  text-decoration: underline;
}
a:visited {
  color: fuchsia;
}

em {
  font-style: italic;
  color: navy;
}

strong {
  font-weight: bold;
  color: #083194;
}

h1, h2, h3, h4, h5, h6 {
  color: #527bbd;
  margin-top: 1.2em;
  margin-bottom: 0.5em;
  line-height: 1.3;
}

h1, h2, h3 {
  border-bottom: 2px solid silver;
}
h2 {
  padding-top: 0.5em;
}
h3 {
  float: left;
}
h3 + * {
  clear: left;
}
h5 {
  font-size: 1.0em;
}

div.sectionbody {
  margin-left: 0;
}

hr {
  border: 1px solid silver;
}

p {
  margin-top: 0.5em;
  margin-bottom: 0.5em;
}

ul, ol, li > p {
  margin-top: 0;
}
ul > li     { color: #aaa; }
ul > li > * { color: black; }

.monospaced, code, pre {
  font-family: "Courier New", Courier, monospace;
  font-size: inherit;
  color: navy;
  padding: 0;
  margin: 0;
}
pre {
  white-space: pre-wrap;
}

#author {
  color: #527bbd;
  font-weight: bold;
  font-size: 1.1em;
}
#email {
}
#revnumber, #revdate, #revremark {
}

#footer {
  font-size: small;
  border-top: 2px solid silver;
  padding-top: 0.5em;
  margin-top: 4.0em;
}
#footer-text {
  float: left;
  padding-bottom: 0.5em;
}
#footer-badges {
  float: right;
  padding-bottom: 0.5em;
}

#preamble {
  margin-top: 1.5em;
  margin-bottom: 1.5em;
}
div.imageblock, div.exampleblock, div.verseblock,
div.quoteblock, div.literalblock, div.listingblock, div.sidebarblock,
div.admonitionblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.admonitionblock {
  margin-top: 2.0em;
  margin-bottom: 2.0em;
  margin-right: 10%;
  color: #606060;
}

div.content { /* Block element content. */
  padding: 0;
}

/* Block element titles. */
div.title, caption.title {
  color: #527bbd;
  font-weight: bold;
  text-align: left;
  margin-top: 1.0em;
  margin-bottom: 0.5em;
}
div.title + * {
  margin-top: 0;
}

td div.title:first-child {
  margin-top: 0.0em;
}
div.content div.title:first-child {
  margin-top: 0.0em;
}
div.content + div.title {
  margin-top: 0.0em;
}

div.sidebarblock > div.content {
  background: #ffffee;
  border: 1px solid #dddddd;
  border-left: 4px solid #f0f0f0;
  padding: 0.5em;
}

div.listingblock > div.content {
  border: 1px solid #dddddd;
  border-left: 5px solid #f0f0f0;
  background: #f8f8f8;
  padding: 0.5em;
}

div.quoteblock, div.verseblock {
  padding-left: 1.0em;
  margin-left: 1.0em;
  margin-right: 10%;
  border-left: 5px solid #f0f0f0;
  color: #888;
}

div.quoteblock > div.attribution {
  padding-top: 0.5em;
  text-align: right;
}

div.verseblock > pre.content {
  font-family: inherit;
  font-size: inherit;
}
div.verseblock > div.attribution {
  padding-top: 0.75em;
  text-align: left;
}
/* DEPRECATED: Pre version 8.2.7 verse style literal block. */
div.verseblock + div.attribution {
  text-align: left;
}

div.admonitionblock .icon {
  vertical-align: top;
  font-size: 1.1em;
  font-weight: bold;
  text-decoration: underline;
  color: #527bbd;
  padding-right: 0.5em;
}
div.admonitionblock td.content {
  padding-left: 0.5em;
  border-left: 3px solid #dddddd;
}

div.exampleblock > div.content {
  border-left: 3px solid #dddddd;
  padding-left: 0.5em;
}

div.imageblock div.content { padding-left: 0; }
span.image img { border-style: none; vertical-align: text-bottom; }
a.image:visited { color: white; }

dl {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
dt {
  margin-top: 0.5em;
  margin-bottom: 0;
  font-style: normal;
  color: navy;
}
dd > *:first-child {
  margin-top: 0.1em;
}

ul, ol {
    list-style-position: outside;
}
ol.arabic {
  list-style-type: decimal;
}
ol.loweralpha {
  list-style-type: lower-alpha;
}
ol.upperalpha {
  list-style-type: upper-alpha;
}
ol.lowerroman {
  list-style-type: lower-roman;
}
ol.upperroman {
  list-style-type: upper-roman;
}

div.compact ul, div.compact ol,
div.compact p, div.compact p,
div.compact div, div.compact div {
  margin-top: 0.1em;
  margin-bottom: 0.1em;
}

tfoot {
  font-weight: bold;
}
td > div.verse {
  white-space: pre;
}

div.hdlist {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
div.hdlist tr {
  padding-bottom: 15px;
}
dt.hdlist1.strong, td.hdlist1.strong {
  font-weight: bold;
}
td.hdlist1 {
  vertical-align: top;
  font-style: normal;
  padding-right: 0.8em;
  color: navy;
}
td.hdlist2 {
  vertical-align: top;
}
div.hdlist.compact tr {
  margin: 0;
  padding-bottom: 0;
}

.comment {
  background: yellow;
}

.footnote, .footnoteref {
  font-size: 0.8em;
}

span.footnote, span.footnoteref {
  vertical-align: super;
}

#footnotes {
  margin: 20px 0 20px 0;
  padding: 7px 0 0 0;
}

#footnotes div.footnote {
  margin: 0 0 5px 0;
}

#footnotes hr {
  border: none;
  border-top: 1px solid silver;
  height: 1px;
  text-align: left;
  margin-left: 0;
  width: 20%;
  min-width: 100px;
}

div.colist td {
  padding-right: 0.5em;
  padding-bottom: 0.3em;
  vertical-align: top;
}
div.colist td img {
  margin-top: 0.3em;
}

@media print {
  #footer-badges { display: none; }
}

#toc {
  margin-bottom: 2.5em;
}

#toctitle {
  color: #527bbd;
  font-size: 1.1em;
  font-weight: bold;
  margin-top: 1.0em;
  margin-bottom: 0.1em;
}

div.toclevel0, div.toclevel1, div.toclevel2, div.toclevel3, div.toclevel4 {
  margin-top: 0;
  margin-bottom: 0;
}
div.toclevel2 {
  margin-left: 2em;
  font-size: 0.9em;
}
div.toclevel3 {
  margin-left: 4em;
  font-size: 0.9em;
}
div.toclevel4 {
  margin-left: 6em;
  font-size: 0.9em;
}

span.aqua { color: aqua; }
span.black { color: black; }
span.blue { color: blue; }
span.fuchsia { color: fuchsia; }
span.gray { color: gray; }
span.green { color: green; }
span.lime { color: lime; }
span.maroon { color: maroon; }
span.navy { color: navy; }
span.olive { color: olive; }
span.purple { color: purple; }
span.red { color: red; }
span.silver { color: silver; }
span.teal { color: teal; }
span.white { color: white; }
span.yellow { color: yellow; }

span.aqua-background { background: aqua; }
span.black-background { background: black; }
span.blue-background { background: blue; }
span.fuchsia-background { background: fuchsia; }
span.gray-background { background: gray; }
span.green-background { background: green; }
span.lime-background { background: lime; }
span.maroon-background { background: maroon; }
span.navy-background { background: navy; }
span.olive-background { background: olive; }
span.purple-background { background: purple; }
span.red-background { background: red; }
span.silver-background { background: silver; }
span.teal-background { background: teal; }
span.white-background { background: white; }
span.yellow-background { background: yellow; }

span.big { font-size: 2em; }
span.small { font-size: 0.6em; }

span.underline { text-decoration: underline; }
span.overline { text-decoration: overline; }
span.line-through { text-decoration: line-through; }

div.unbreakable { page-break-inside: avoid; }


/*
 * xhtml11 specific
 *
 * */

div.tableblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.tableblock > table {
  border: 3px solid #527bbd;
}
thead, p.table.header {
  font-weight: bold;
  color: #527bbd;
}
p.table {
  margin-top: 0;
}
/* Because the table frame attribute is overriden by CSS in most browsers. */
div.tableblock > table[frame="void"] {
  border-style: none;
}
div.tableblock > table[frame="hsides"] {
  border-left-style: none;
  border-right-style: none;
}
div.tableblock > table[frame="vsides"] {
  border-top-style: none;
  border-bottom-style: none;
}


/*
 * html5 specific
 *
 * */

table.tableblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
thead, p.tableblock.header {
  font-weight: bold;
  color: #527bbd;
}
p.tableblock {
  margin-top: 0;
}
table.tableblock {
  border-width: 3px;
  border-spacing: 0px;
  border-style: solid;
  border-color: #527bbd;
  border-collapse: collapse;
}
th.tableblock, td.tableblock {
  border-width: 1px;
  padding: 4px;
  border-style: solid;
  border-color: #527bbd;
}

table.tableblock.frame-topbot {
  border-left-style: hidden;
  border-right-style: hidden;
}
table.tableblock.frame-sides {
  border-top-style: hidden;
  border-bottom-style: hidden;
}
table.tableblock.frame-none {
  border-style: hidden;
}

th.tableblock.halign-left, td.tableblock.halign-left {
  text-align: left;
}
th.tableblock.halign-center, td.tableblock.halign-center {
  text-align: center;
}
th.tableblock.halign-right, td.tableblock.halign-right {
  text-align: right;
}

th.tableblock.valign-top, td.tableblock.valign-top {
  vertical-align: top;
}
th.tableblock.valign-middle, td.tableblock.valign-middle {
  vertical-align: middle;
}
th.tableblock.valign-bottom, td.tableblock.valign-bottom {
  vertical-align: bottom;
}


/*
 * manpage specific
 *
 * */

body.manpage h1 {
  padding-top: 0.5em;
  padding-bottom: 0.5em;
  border-top: 2px solid silver;
  border-bottom: 2px solid silver;
}
body.manpage h2 {
  border-style: none;
}
body.manpage div.sectionbody {
  margin-left: 3em;
}

@media print {
  body.manpage div#toc { display: none; }
}


</style>
<script type="text/javascript">
/*<![CDATA[*/
var asciidoc = {  // Namespace.

/////////////////////////////////////////////////////////////////////
// Table Of Contents generator
/////////////////////////////////////////////////////////////////////

/* Author: Mihai Bazon, September 2002
 * http://students.infoiasi.ro/~mishoo
 *
 * Table Of Content generator
 * Version: 0.4
 *
 * Feel free to use this script under the terms of the GNU General Public
 * License, as long as you do not remove or alter this notice.
 */

 /* modified by Troy D. Hanson, September 2006. License: GPL */
 /* modified by Stuart Rackham, 2006, 2009. License: GPL */

// toclevels = 1..4.
toc: function (toclevels) {

  function getText(el) {
    var text = "";
    for (var i = el.firstChild; i != null; i = i.nextSibling) {
      if (i.nodeType == 3 /* Node.TEXT_NODE */) // IE doesn't speak constants.
        text += i.data;
      else if (i.firstChild != null)
        text += getText(i);
    }
    return text;
  }

  function TocEntry(el, text, toclevel) {
    this.element = el;
    this.text = text;
    this.toclevel = toclevel;
  }

  function tocEntries(el, toclevels) {
    var result = new Array;
    var re = new RegExp('[hH]([1-'+(toclevels+1)+'])');
    // Function that scans the DOM tree for header elements (the DOM2
    // nodeIterator API would be a better technique but not supported by all
    // browsers).
    var iterate = function (el) {
      for (var i = el.firstChild; i != null; i = i.nextSibling) {
        if (i.nodeType == 1 /* Node.ELEMENT_NODE */) {
          var mo = re.exec(i.tagName);
          if (mo && (i.getAttribute("class") || i.getAttribute("className")) != "float") {
            result[result.length] = new TocEntry(i, getText(i), mo[1]-1);
          }
          iterate(i);
        }
      }
    }
    iterate(el);
    return result;
  }

  var toc = document.getElementById("toc");
  if (!toc) {
    return;
  }

  // Delete existing TOC entries in case we're reloading the TOC.
  var tocEntriesToRemove = [];
  var i;
  for (i = 0; i < toc.childNodes.length; i++) {
    var entry = toc.childNodes[i];
    if (entry.nodeName.toLowerCase() == 'div'
     && entry.getAttribute("class")
     && entry.getAttribute("class").match(/^toclevel/))
      tocEntriesToRemove.push(entry);
  }
  for (i = 0; i < tocEntriesToRemove.length; i++) {
    toc.removeChild(tocEntriesToRemove[i]);
  }

  // Rebuild TOC entries.
  var entries = tocEntries(document.getElementById("content"), toclevels);
  for (var i = 0; i < entries.length; ++i) {
    var entry = entries[i];
    if (entry.element.id == "")
      entry.element.id = "_toc_" + i;
    var a = document.createElement("a");
    a.href = "#" + entry.element.id;
    a.appendChild(document.createTextNode(entry.text));
    var div = document.createElement("div");
    div.appendChild(a);
    div.className = "toclevel" + entry.toclevel;
    toc.appendChild(div);
  }
  if (entries.length == 0)
    toc.parentNode.removeChild(toc);
},


/////////////////////////////////////////////////////////////////////
// Footnotes generator
/////////////////////////////////////////////////////////////////////

/* Based on footnote generation code from:
 * http://www.brandspankingnew.net/archive/2005/07/format_footnote.html
 */

footnotes: function () {
  // Delete existing footnote entries in case we're reloading the footnodes.
  var i;
  var noteholder = document.getElementById("footnotes");
  if (!noteholder) {
    return;
  }
  var entriesToRemove = [];
  for (i = 0; i < noteholder.childNodes.length; i++) {
    var entry = noteholder.childNodes[i];
    if (entry.nodeName.toLowerCase() == 'div' && entry.getAttribute("class") == "footnote")
      entriesToRemove.push(entry);
  }
  for (i = 0; i < entriesToRemove.length; i++) {
    noteholder.removeChild(entriesToRemove[i]);
  }

  // Rebuild footnote entries.
  var cont = document.getElementById("content");
  var spans = cont.getElementsByTagName("span");
  var refs = {};
  var n = 0;
  for (i=0; i<spans.length; i++) {
    if (spans[i].className == "footnote") {
      n++;
      var note = spans[i].getAttribute("data-note");
      if (!note) {
        // Use [\s\S] in place of . so multi-line matches work.
        // Because JavaScript has no s (dotall) regex flag.
        note = spans[i].innerHTML.match(/\s*\[([\s\S]*)]\s*/)[1];
        spans[i].innerHTML =
          "[<a id='_footnoteref_" + n + "' href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
        spans[i].setAttribute("data-note", note);
      }
      noteholder.innerHTML +=
        "<div class='footnote' id='_footnote_" + n + "'>" +
        "<a href='#_footnoteref_" + n + "' title='Return to text'>" +
        n + "</a>. " + note + "</div>";
      var id =spans[i].getAttribute("id");
      if (id != null) refs["#"+id] = n;
    }
  }
  if (n == 0)
    noteholder.parentNode.removeChild(noteholder);
  else {
    // Process footnoterefs.
    for (i=0; i<spans.length; i++) {
      if (spans[i].className == "footnoteref") {
        var href = spans[i].getElementsByTagName("a")[0].getAttribute("href");
        href = href.match(/#.*/)[0];  // Because IE return full URL.
        n = refs[href];
        spans[i].innerHTML =
          "[<a href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
      }
    }
  }
},

install: function(toclevels) {
  var timerId;

  function reinstall() {
    asciidoc.footnotes();
    if (toclevels) {
      asciidoc.toc(toclevels);
    }
  }

  function reinstallAndRemoveTimer() {
    clearInterval(timerId);
    reinstall();
  }

  timerId = setInterval(reinstall, 500);
  if (document.addEventListener)
    document.addEventListener("DOMContentLoaded", reinstallAndRemoveTimer, false);
  else
    window.onload = reinstallAndRemoveTimer;
}

}
asciidoc.install();
/*]]>*/
</script>
</head>
<body class="article">
<div id="header">
<h1>Channel Access Protocol Specification</h1>
<span id="email"><code>&lt;<a href="mailto:core-talk@aps.anl.gov">core-talk@aps.anl.gov</a>&gt;</code></span><br />
<span id="revnumber">version 1.4.1,</span>
<span id="revdate">2014-08-27</span>
</div>
<div id="content">
<div class="sect1">
<h2 id="license">1. License</h2>
<div class="sectionbody">
<div class="paragraph"><p>This document is distributed under the terms of the
<a href="http://www.gnu.org/licenses/old-licenses/fdl-1.2.html">GNU Free Documentation License, version 1.2</a>.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="document-history">2. Document History</h2>
<div class="sectionbody">
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<thead>
<tr>
<th align="left" valign="top">Revision</th>
<th align="left" valign="top">Date</th>
<th align="left" valign="top">Author</th>
<th align="left" valign="top">Section</th>
<th align="left" valign="top">Modification</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table">1.0</p></td>
<td align="left" valign="top"><p class="table">2003-12-12</p></td>
<td align="left" valign="top"><p class="table"><a href="mailto:klemen.zagar@cosylab.com">Klemen Žagar</a></p></td>
<td align="left" valign="top"><p class="table">all</p></td>
<td align="left" valign="top"><p class="table">Created.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">1.1</p></td>
<td align="left" valign="top"><p class="table">2004-01-08</p></td>
<td align="left" valign="top"><p class="table"><a href="mailto:ales.pucelj@cosylab.com">Aleš Pucelj</a></p></td>
<td align="left" valign="top"><p class="table">all</p></td>
<td align="left" valign="top"><p class="table">Finalized structure.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"></p></td>
<td align="left" valign="top"><p class="table">2004-01-10</p></td>
<td align="left" valign="top"><p class="table"><a href="mailto:matej.sekoranja@cosylab.com">Matej Šekoranja</a></p></td>
<td align="left" valign="top"><p class="table">all</p></td>
<td align="left" valign="top"><p class="table">Review.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">1.2</p></td>
<td align="left" valign="top"><p class="table">2004-04-19</p></td>
<td align="left" valign="top"><p class="table"><a href="mailto:ales.pucelj@cosylab.com">Aleš Pucelj</a></p></td>
<td align="left" valign="top"><p class="table">all</p></td>
<td align="left" valign="top"><p class="table">Draft completed.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">1.3</p></td>
<td align="left" valign="top"><p class="table">2004-05-31</p></td>
<td align="left" valign="top"><p class="table"><a href="mailto:ales.pucelj@cosylab.com">Aleš Pucelj</a></p></td>
<td align="left" valign="top"><p class="table">all</p></td>
<td align="left" valign="top"><p class="table">Matej&#8217;s comments considered (after Channel Access for Java implementation).</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"></p></td>
<td align="left" valign="top"><p class="table">2004-06-01</p></td>
<td align="left" valign="top"><p class="table"><a href="mailto:matej.sekoranja@cosylab.com">Matej Šekoranja</a></p></td>
<td align="left" valign="top"><p class="table">all</p></td>
<td align="left" valign="top"><p class="table">Review.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"></p></td>
<td align="left" valign="top"><p class="table">2004-08-12</p></td>
<td align="left" valign="top"><p class="table"><a href="mailto:klemen.zagar@cosylab.com">Klemen Žagar</a></p></td>
<td align="left" valign="top"><p class="table">all</p></td>
<td align="left" valign="top"><p class="table">Released</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">1.4</p></td>
<td align="left" valign="top"><p class="table">2008-02-07</p></td>
<td align="left" valign="top"><p class="table"><a href="mailto:matej.sekoranja@cosylab.com">Matej Šekoranja</a></p></td>
<td align="left" valign="top"><p class="table">all</p></td>
<td align="left" valign="top"><p class="table">Description of <code>CA_PROTO_READ</code> and <code>CA_PROTO_READ_SYNC</code> added.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"></p></td>
<td align="left" valign="top"><p class="table">2008-02-07</p></td>
<td align="left" valign="top"><p class="table"><a href="mailto:klemen.zagar@cosylab.com">Klemen Žagar</a></p></td>
<td align="left" valign="top"><p class="table">all</p></td>
<td align="left" valign="top"><p class="table">Released</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">1.4.1</p></td>
<td align="left" valign="top"><p class="table">2014-08-27</p></td>
<td align="left" valign="top"><p class="table"><a href="mailto:daniel.lauk@psi.ch">Daniel J. Lauk</a></p></td>
<td align="left" valign="top"><p class="table">all</p></td>
<td align="left" valign="top"><p class="table">Transformed to <a href="http://asciidoc.org/">AsciiDoc</a> format. Recreated graphics.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_introduction">3. Introduction</h2>
<div class="sectionbody">
<div class="paragraph"><p>This document is a specification of the EPICS Channel Access (CA) protocol.
Structure of messages exchanged between communicating nodes is defined, as well as semantics of the exchange.
The documentation is focused on version 4.11 of the CA protocol, which comes with EPICS 3.14, and later versions.</p></div>
<div class="sect2">
<h3 id="_implementation_requirements">3.1. Implementation Requirements</h3>
<div class="paragraph"><p>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD",
"SHOULD NOT", "RECOMMENDED", "MAY", "OPTIONAL" in this document are to be
interpreted as described in <a href="http://www.ietf.org/rfc/rfc2119.txt">RFC 2119:
Key words for use in RFCs to Indicate Requirement Levels</a><a href="#references">[3]</a>.</p></div>
<div class="paragraph"><p>An implementation is not compliant if it fails to satisfy one or more of the
MUST or REQUIRED level requirements for the protocols it implements.
An implementation that satisfies all the MUST or REQUIRED level and all the
SHOULD level requirements for its protocols is said to be "unconditionally
compliant"; one that satisfies all the MUST level requirements but not all the
SHOULD level requirements for its protocols is said to be "conditionally
compliant."</p></div>
<div class="paragraph"><p>This document is based on the original CA protocol implementation that
accompanies EPICS. Wherever the MAY, OPTIONAL or RECOMMENDED is specified, it
implies that experience has shown such behaviour to improve either
performance, portability or memory consumption.</p></div>
<div class="paragraph"><p>A protocol implementation that is not unconditionally compliant MUST NOT be
used in any production environment or used with EPICS databases controlling
physical devices.</p></div>
</div>
<div class="sect2">
<h3 id="_basic_concepts">3.2. Basic Concepts</h3>
<div class="sect3">
<h4 id="_process_variables">3.2.1. Process Variables</h4>
<div class="paragraph"><p>A Process Variable (PV) is representation of a single value within an EPICS
host.</p></div>
</div>
<div class="sect3">
<h4 id="_channels">3.2.2. Channels</h4>
<div class="paragraph"><p>A channel is created whenever a PV is connected using CA.</p></div>
<div class="paragraph"><p>From implementation point of view, a channel is a connection, established over
virtual circuit, between server and client through which a single PV is
accessed. Both the client and the server will provide a way of uniquely
identifying channels. These identifiers are explained in section
<a href="#message-identifiers">Message Identifiers</a>.</p></div>
</div>
<div class="sect3">
<h4 id="_monitors">3.2.3. Monitors</h4>
<div class="paragraph"><p>A monitor is created on a channel as a means of registering for asynchronous
change notifications. CA protocol defines the subscription mechanism through
which clients register for notifications. These changes will then be provided
through monitor object or callback, depending on implementation and
environment. Monitors may be filtered to receive only a subset of events,
such as value or alarm changes. Several different monitors may be created for
each channel.</p></div>
</div>
<div class="sect3">
<h4 id="_channel_access_client_library">3.2.4. Channel Access Client Library</h4>
<div class="paragraph"><p>A client library implements channel access protocol and exposes it through a
programmer-friendly API. How the protocol and its mechanisms are implemented
in the library depends on the programming language and no specific
requirements are made with respect to this.</p></div>
</div>
<div class="sect3">
<h4 id="_repeater">3.2.5. Repeater</h4>
<div class="paragraph"><p>Repeater is a standalone process that allows several clients on one machine to
share a predefined UDP port for recieving broadcast messages. Broadcast
messages are sent without prior knowledge of which port the CA clients and
hosts are listening at, so predefined port numbers are used. Since most
network stack implementations do not allow multiple clients to listen on the
same port, repeater is installed to listen on a single port, used for
broadcast notifications. Repeater will fan-out unmodified incoming datagram
messages to all the clients on the same host, that have previously registered
with the repeater.</p></div>
<div class="paragraph"><p>Typically, a client library will attempt to register with the repeater during
startup. If repeater cannot be found or is not available, the library will
attempt to spawn a new repeater process. Repeater and client communicate using
a minimal set of messages over UDP.</p></div>
</div>
<div class="sect3">
<h4 id="_server_beacons">3.2.6. Server Beacons</h4>
<div class="paragraph"><p>Server beacons are simple protocol messages that allow servers to broadcast
their availability. These messages are sent out periodically to announce their
presence. Additionally, these beacons are used to restore virtual circuits
that have lost connections.</p></div>
</div>
<div class="sect3">
<h4 id="_virtual_circuit">3.2.7. Virtual Circuit</h4>
<div class="paragraph"><p>Channel Access protocol is designed to minimize resources used on both client
and server. Virtual circuits minimize number of TCP connections used between
clients and servers. Each client will have exactly one active and open TCP
connection to an individual server, regardless of how many channels it
accesses over it. This helps to ensure that servers do not get overwhelmed by
too many connections.</p></div>
<div class="paragraph"><p>The life-cycle of a virtual circuit is defined in section
<a href="#virtual-circuit-operation">Virtual Circuit Operation</a>.</p></div>
</div>
<div class="sect3">
<h4 id="_message_buffering">3.2.8. Message Buffering</h4>
<div class="paragraph"><p>When sending packets over network, channel access allows huge savings to be
made by grouping individual messages in a single TCP packet. This is performed
by maintaining per virtual circuit buffers that collect all outgoing messages.
These buffers are flushed upon application&#8217;s explicit request. This mechanism
is independent of the TCP/IP stack, which maintains its own send queue and
defines a maximum frame size. Messages sent over virtual circuit may be larger
than this and will not always be aligned on frame boundary. Implementation
should also be aware that messages received may not yet be available entirely
or will be split over several TCP frames.</p></div>
</div>
<div class="sect3">
<h4 id="_version_compatibility">3.2.9. Version compatibility</h4>
<div class="paragraph"><p>Certain aspects of Channel Access protocol have changed between releases.
In this document, Channel Access versions are identified using <code>CA_VXYY</code>,
where X represents single-digit major version number and YY represents a
single- or double-digit minor version number. Stating that a feature is
available in <code>CA_VXYY</code> implies that any client supporting version XYY must
support the feature. Implementation must be backward compatible with all
versions up to and including its declared supported minor version number.</p></div>
<div class="exampleblock">
<div class="title">Example 1. Channel Access version number</div>
<div class="content">
<div class="paragraph"><p><code>CA_V43</code>, denotes version 4.3 (major version 4, minor version 3).</p></div>
</div></div>
<div class="paragraph"><p>Currently, all protocol definitions are assumed to have major version 4.
Minor version ranges from 1 through 11.</p></div>
</div>
<div class="sect3">
<h4 id="_exceptions">3.2.10. Exceptions</h4>
<div class="paragraph"><p>This document uses the concept of exceptions to refer to the mechanism of
reporting errors that occur during command request execution. An exception
defines reporting of error condition on the server. This can occur either due
to client problem or due to some unexpected condition on the server (such as
running out of resources). Exceptions are reported either within the command&#8217;s
response or using a specialized message. Actual form and method (response or
asynchronously received message) depends on circumstances where the exception
occurs. Individual commands and messages determine which method is used.</p></div>
</div>
</div>
<div class="sect2">
<h3 id="_overall_operation">3.3. Overall Operation</h3>
<div class="paragraph"><p>This section is intended as a quick overview of channel access functionality
and behaviour. For more information, please refer to
<a href="http://www.aps.anl.gov/epics/base/R3-14/5-docs/CAref.html">Channel Access
Reference Manual</a><a href="#references">[1]</a>.</p></div>
<div class="paragraph"><p>The goal of channel access (CA) is to provide remote access to records and
fields managed by <a href="#glossary">IOC</a>, including search and discovery of hosts
and minimal flow contol. Protocol itself is designed to provide minimal
overhead and maximize network throughput for transfer of large number of small
data packets. Additionaly, implementation overhead of the protocol can be kept
very small, to allow operation with limited resources.</p></div>
<div class="paragraph"><p>All commands and events in CA are encapsulated in predefined messages, which
can be sent in one of three forms:</p></div>
<div class="ulist"><ul>
<li>
<p>
As a <strong>beacon</strong>, which requires no confirmation. Used for host discovery and
  keep-alive notification.
</p>
</li>
<li>
<p>
As a <strong>request/response pair</strong>. Most commands use this method.
</p>
</li>
<li>
<p>
As a <strong>subscriber notification</strong>, where the client registers with the host and
  receives updates. Event notification uses this method to report value
  changes.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Communication between server and client is performed by sending command
messages over UDP and TCP. Client will use UDP to search for hosts and PVs,
server will use them to notify its startup and shutdown. Once client requests
a specific <a href="#glossary">PV</a> (by specifying its name), UDP message will be
broadcast to either a subnet or a list of predefined addresses, and the server
which hosts requested PV will respond.</p></div>
<div class="paragraph"><p>Data exchange between client and server is performed over TCP. After locating
the PV, the client will establish a TCP connection to the server. If more that
one PV is found to be on the same server, client will use existing TCP
connection. Reusable TCP connection between client and server is called
<a href="#glossary">Virtual circuit</a>.</p></div>
<div class="paragraph"><p>Once a virtual circuit is established or already available, channels can be
created to PVs.</p></div>
<div class="paragraph"><p>Let&#8217;s assume the following setup of PVs and hosts:</p></div>
<div class="ulist"><ul>
<li>
<p>
PV "A" is located on host IOC1.
</p>
</li>
<li>
<p>
PV "B" is located on host IOC2.
</p>
</li>
<li>
<p>
PV "C" does not exist on either host.
</p>
</li>
<li>
<p>
PV "D" is located both hosts, IOC1 and IOC2.
</p>
</li>
</ul></div>
<div class="paragraph"><p>A typical scenario would be similar to this:</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
User application starts and initializes channel access client library.
  During initialization, client library might spawn a new repeater process or
  register with an existing one. If successful, the library is ready to start
  using the channel access.
</p>
</li>
<li>
<p>
Application will start searching for PVs named "A", "B", "C" and "D".
  Client will send UDP search packets with "A", "B", "C" and "D" PV names,
  and wait for an application-specified amount of time.
  To which network hosts (broadcast or specific IP) these packets are actually
  sent depends on configuration of the client.
</p>
</li>
<li>
<p>
All hosts that receive this message will check their database and if they
  know about any of these PV names, they will respond using UDP search
  response message. Thus, IOC1 will respond with "A" and "D", whereas IOC2
  will respond with "B" and "D".
</p>
</li>
<li>
<p>
For each search packet sent, the client will wait for a predefined amount of
  time or until response is received.
</p>
</li>
<li>
<p>
In this case (assuming no packet loss in the network), the client will
  establish a virtual circuit (TCP connection) to IOC1 and IOC2. PV "C" will
  be assumed to be unavailable at this point and will be ignored.
  Since "D" is located on both hosts, client will be unable to distinguish
  between them. First response received will be considered to be proper answer
  and any additional responses will be considered erroneous and reported to
  user.
</p>
</li>
<li>
<p>
Once virtual circuits are established, client can access values of "A", "B"
  and "D". From now on, all messages for either of the PVs will be sent via a
  corresponding virtual circuit.
</p>
</li>
<li>
<p>
If virtual circuit looses TCP connection or the host disconnects, client
  will notify application appropriately. Client will also listen for server
  beacon messages (sent whenever IOC host starts), to be able to restore any
  lost connections. Beacons are also used to detect when a host stops
  responding.
</p>
</li>
<li>
<p>
Once the application is done using the channel access library, it will
  gracefully close any open connections.
</p>
</li>
</ol></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_data_types">4. Data Types</h2>
<div class="sectionbody">
<div class="paragraph"><p>This section defines all primitive data types employed by the CA, as well as
their C/C++ equivalents. These data types are referred to in the subsequent
sections.</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="33%" />
<col width="33%" />
<col width="33%" />
<thead>
<tr>
<th align="left" valign="top">Type Name</th>
<th align="left" valign="top">C/C++</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>BYTE</code></p></td>
<td align="left" valign="top"><p class="table"><code>char</code></p></td>
<td align="left" valign="top"><p class="table">Signed 8-bit integer.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>UBYTE</code></p></td>
<td align="left" valign="top"><p class="table"><code>unsigned char</code></p></td>
<td align="left" valign="top"><p class="table">Unsigned 8-bit integer.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>INT16</code></p></td>
<td align="left" valign="top"><p class="table"><code>short</code></p></td>
<td align="left" valign="top"><p class="table">Signed 16-bit integer.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>UINT16</code></p></td>
<td align="left" valign="top"><p class="table"><code>unsigned short</code></p></td>
<td align="left" valign="top"><p class="table">Unsigned 16-bit integer.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>INT32</code></p></td>
<td align="left" valign="top"><p class="table"><code>int</code></p></td>
<td align="left" valign="top"><p class="table">Signed 32-bit integer.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>UINT32</code></p></td>
<td align="left" valign="top"><p class="table"><code>unsigned int</code></p></td>
<td align="left" valign="top"><p class="table">Unsigned 32-bit integer.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>FLOAT</code></p></td>
<td align="left" valign="top"><p class="table"><code>float</code></p></td>
<td align="left" valign="top"><p class="table">IEEE 32-bit float.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>DOUBLE</code></p></td>
<td align="left" valign="top"><p class="table"><code>double</code></p></td>
<td align="left" valign="top"><p class="table">IEEE 64-bit float.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>STRING[n]</code></p></td>
<td align="left" valign="top"><p class="table"><code>char[]</code></p></td>
<td align="left" valign="top"><p class="table">Array of <code>UBYTE`s. If `[n]</code> is specified, it indicates maximum allowed number of characters in this string including (if neccessary) termination character.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>TIMESTAMP</code></p></td>
<td align="left" valign="top"><p class="table">None</p></td>
<td align="left" valign="top"><p class="table">Timestamp represented with two <code>UINT32</code> values. First is number of seconds since 0000 Jan 1, 1990. Second is number of nanoseconds within second</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>All values are transmitted over the network in big-endian (network) order.
For example: <code>UINT32</code> 3145 (<code>0x00000C49</code>) would be sent over the network
represented as <code>00 00 0C 49</code>.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_messages">5. Messages</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_message_structure">5.1. Message Structure</h3>
<div class="paragraph"><p>All channel access messages are composed of a <strong>header</strong>, followed by the
<strong>payload</strong>.</p></div>
<div class="paragraph"><p>Header is always present. Its structure is fixed, and contains predefined
fields. At the very least, this will be command ID and payload size.
Other header fields may carry command-specific meaning. If a field is not used
within a certain message, its value must be 0 (<code>0x00</code>).</p></div>
<div class="paragraph"><p>Payload is a sequence of bytes, which are command and version dependent.
Implementation is required to provide proper payload with respect to
individual command specification.</p></div>
<div class="paragraph"><p>Total size of an individual message is limited. With CA versions older than
<code>CA_V49</code>, the maximum message size is limited to 16384 (<code>0x4000</code>) bytes.
Out of these, header has a fixed size of 16 (<code>0x10</code>) bytes, with the payload
having a maximum size of 16368 (<code>0x3ff0</code>) bytes.</p></div>
<div class="paragraph"><p>Versions <code>CA_V49</code> and higher may use the <strong>extended message form</strong>, which allows
for larger payloads. The extended message form is indicated by the header
fields <code>Payload Size</code> and <code>Data Count</code> being set to <code>0xffff</code> and 0,
respectively. Real payload size and data count are then given as <code>UINT32</code> type
values immediately following the header. Maximum message size is limited by
32-bit unsigned integer representation, 4294967295 (<code>0xffffffff</code>).
Maximum payload size is limited to 4294967255 (<code>0xffffffe7</code>).</p></div>
<div class="paragraph"><p>Extended message form should only be used if payload size actualy exceeds the
pre-<code>CA_V49</code> message size limit of 16368 bytes.</p></div>
<div class="sect3">
<h4 id="_header">5.1.1. Header</h4>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<caption class="title">Table 1. Standard Message Header</caption>
<col width="12%" />
<col width="12%" />
<col width="12%" />
<col width="12%" />
<col width="12%" />
<col width="12%" />
<col width="12%" />
<col width="12%" />
<thead>
<tr>
<th align="left" valign="top">0</th>
<th align="left" valign="top">1</th>
<th align="left" valign="top">2</th>
<th align="left" valign="top">3</th>
<th align="left" valign="top">4</th>
<th align="left" valign="top">5</th>
<th align="left" valign="top">6</th>
<th align="left" valign="top">7</th>
</tr>
</thead>
<tbody>
<tr>
<td colspan="2" align="left" valign="top"><p class="table">Command</p></td>
<td colspan="2" align="left" valign="top"><p class="table">Payload size</p></td>
<td colspan="2" align="left" valign="top"><p class="table">Data type</p></td>
<td colspan="2" align="left" valign="top"><p class="table">Data count</p></td>
</tr>
<tr>
<td colspan="4" align="left" valign="top"><p class="table">Parameter 1</p></td>
<td colspan="4" align="left" valign="top"><p class="table">Parameter 2</p></td>
</tr>
</tbody>
</table>
</div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<caption class="title">Table 2. Extended Message Header</caption>
<col width="12%" />
<col width="12%" />
<col width="12%" />
<col width="12%" />
<col width="12%" />
<col width="12%" />
<col width="12%" />
<col width="12%" />
<thead>
<tr>
<th align="left" valign="top">0</th>
<th align="left" valign="top">1</th>
<th align="left" valign="top">2</th>
<th align="left" valign="top">3</th>
<th align="left" valign="top">4</th>
<th align="left" valign="top">5</th>
<th align="left" valign="top">6</th>
<th align="left" valign="top">7</th>
</tr>
</thead>
<tbody>
<tr>
<td colspan="2" align="left" valign="top"><p class="table">Command</p></td>
<td colspan="2" align="left" valign="top"><p class="table"><code>0xFFFF</code></p></td>
<td colspan="2" align="left" valign="top"><p class="table">Data type</p></td>
<td colspan="2" align="left" valign="top"><p class="table"><code>0x0000</code></p></td>
</tr>
<tr>
<td colspan="4" align="left" valign="top"><p class="table">Parameter 1</p></td>
<td colspan="4" align="left" valign="top"><p class="table">Parameter 2</p></td>
</tr>
<tr>
<td colspan="4" align="left" valign="top"><p class="table">Payload size</p></td>
<td colspan="4" align="left" valign="top"><p class="table">Data count</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>Names of header fields are based on their most common use. Certain messages
will use individual fields for purposes other than those described here. These
variations are documented for each message individually. All of values in
header are unsigned integers.</p></div>
<div class="paragraph"><p>The common header present in all messages is structured as follows:</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="33%" />
<col width="33%" />
<col width="33%" />
<thead>
<tr>
<th align="left" valign="top">Parameter</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table">Command</p></td>
<td align="left" valign="top"><p class="table"><code>UINT16</code></p></td>
<td align="left" valign="top"><p class="table">Identifier of the command this message requests. The meaning of other header fields and the payload depends on the command.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Payload Size</p></td>
<td align="left" valign="top"><p class="table"><code>UINT16</code></p></td>
<td align="left" valign="top"><p class="table">Size of the payload (in bytes). Must not exceed <code>0x4000</code>. Value of <code>0xFFFF</code> indicates extended message.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Data Type</p></td>
<td align="left" valign="top"><p class="table"><code>UINT16</code></p></td>
<td align="left" valign="top"><p class="table">Identifier of the data type carried in the payload. Data types are defined in section <a href="#payload-data-types">Payload Data Types</a>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Data Count</p></td>
<td align="left" valign="top"><p class="table"><code>UINT16</code></p></td>
<td align="left" valign="top"><p class="table">Number of elements in the payload.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Parameter 1</p></td>
<td align="left" valign="top"><p class="table"><code>UINT32</code></p></td>
<td align="left" valign="top"><p class="table">Command dependent parameter.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Parameter 2</p></td>
<td align="left" valign="top"><p class="table"><code>UINT32</code></p></td>
<td align="left" valign="top"><p class="table">Command dependent parameter.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>The extended message header (<code>CA_V49</code> and newer) has the following structure:</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="33%" />
<col width="33%" />
<col width="33%" />
<thead>
<tr>
<th align="left" valign="top">Parameter</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table">Command</p></td>
<td align="left" valign="top"><p class="table"><code>UINT16</code></p></td>
<td align="left" valign="top"><p class="table">Identifier of the command this message requests. The meaning of other header fields and the payload depends on the command.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>0xFFFF</code></p></td>
<td align="left" valign="top"><p class="table"><code>UINT16</code></p></td>
<td align="left" valign="top"><p class="table">Extended message marker.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Data Type</p></td>
<td align="left" valign="top"><p class="table"><code>UINT16</code></p></td>
<td align="left" valign="top"><p class="table">Identifier of the data type carried in the payload. Data types are defined in section <a href="#payload-data-types">Payload Data Types</a>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>0x0000</code></p></td>
<td align="left" valign="top"><p class="table"><code>UINT16</code></p></td>
<td align="left" valign="top"><p class="table">Extended message marker.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Parameter 1</p></td>
<td align="left" valign="top"><p class="table"><code>UINT32</code></p></td>
<td align="left" valign="top"><p class="table">Command dependent parameter.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Parameter 2</p></td>
<td align="left" valign="top"><p class="table"><code>UINT32</code></p></td>
<td align="left" valign="top"><p class="table">Command dependent parameter.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Payload Size</p></td>
<td align="left" valign="top"><p class="table"><code>UINT32</code></p></td>
<td align="left" valign="top"><p class="table">Size of the payload (in bytes).</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Data Count</p></td>
<td align="left" valign="top"><p class="table"><code>UINT32</code></p></td>
<td align="left" valign="top"><p class="table">Number of elements in the payload.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_payload">5.1.2. Payload</h4>
<div class="paragraph"><p>The structure of the payload depends on the type of the message. The size of
the payload matches the <code>Payload Size</code> header field.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">If the payload size is not a multiple of 8, zero-padding must be performed to
achieve 8-byte alignment.</td>
</tr></table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="message-identifiers">5.2. Message Identifiers</h3>
<div class="paragraph"><p>Some fields in messages serve as identifiers, which must be properly handled
by the implementation. These fields serve as identification tokens in
asynchronous communication and must be unique within the context of the client
library. Recommended scheme for allocating these values is to create them
sequentially starting at 0. All IDs are represented with <code>UINT32</code>.</p></div>
<div class="paragraph"><p>Overflow must be anticipated! Although it is unlikely that an application will
need more than 2<sup>32</sup> different channel IDs, such an overflow can occur with
the IOID identifier (see below).</p></div>
<div class="sect3">
<h4 id="cid-client-id">5.2.1. CID - Client ID</h4>
<div class="paragraph"><p>CID identifies individual channel within client library context. When a
message requires the CID, this value must be passed. CID for a given channel
may not change within the lifetime of the channel.</p></div>
<div class="paragraph"><p>Recommended way of allocating CIDs is sequential 0-based indexing.
First client library channel reference that is created has value of 0,
second 1, etc. Duplicate CIDs within a single active instance of client
library are not allowed.</p></div>
<div class="paragraph"><p>CID value is passed to the server when the channel is actually connected.</p></div>
<div class="paragraph"><p>Overflow should be potentially handled, since an application with expected
long lifetime and frequent channel allocation and destruction might increase
the index frequently. The best way to handle it is to ignore the problem until
the first overflow. When that occurs, old CIDs should be no longer relevant,
and CID value can be restarted from 0, but excluding any already used values.</p></div>
</div>
<div class="sect3">
<h4 id="sid-server-id">5.2.2. SID - Server ID</h4>
<div class="paragraph"><p>Performs the same function as CID, but is provided by the server when the
channel is connected. SID of channel will never change, unless the channel
represented by particular SID is removed from the server during runtime.
In that case, the channel will be no longer available.</p></div>
<div class="paragraph"><p>To handle overflows, the same method could be used as for the Client Channel
ID.</p></div>
</div>
<div class="sect3">
<h4 id="subscription-id">5.2.3. Subscription ID</h4>
<div class="paragraph"><p>When a subscription is created on a channel (monitor), a unique subscription
ID must be provided. Client library will use this ID to identify different
subscriptions on the same channel. This value will allow the client library to
dispatch monitors appropriately.</p></div>
<div class="paragraph"><p>Any subscription ID is only valid during the subscription&#8217;s lifespan. After
that, IDs may be reused.</p></div>
</div>
<div class="sect3">
<h4 id="_ioid">5.2.4. IOID</h4>
<div class="paragraph"><p>Unique ID is given to all read and write messages sent by the client library.</p></div>
<div class="paragraph"><p>ID passed with the request will be returned in the matching response.</p></div>
<div class="paragraph"><p>Properly handling the wrapping of identifiers is vital to IOID, since an
individual ID is used each time a request is made.</p></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_commands_tcp_and_udp">6. Commands (TCP and UDP)</h2>
<div class="sectionbody">
<div class="paragraph"><p>The following commands are sent as either UDP datagrams or TCP messages.
Some of the messages are also used within the context of a Virtual Circuit.</p></div>
<div class="sect2">
<h3 id="ca-proto-version">6.1. <code>CA_PROTO_VERSION</code></h3>
<div class="hdlist"><table>
<tr>
<td class="hdlist1">
Command
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    <code>CA_PROTO_VERSION</code>
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
ID
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    0 (<code>0x00</code>)
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Description
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    Exchanges client and server protocol versions and desired circuit
    priority. This is the first message sent when a new TCP (Virtual Circuit)
    connection is established. Must be sent before any other exchange between
    client, server and repeater. The communication is not strictly request
    response, but will be perceived as such by the implementation.
    When a new TCP connection is established by the client, <code>CA_PROTO_VERSION</code>
    is sent. Likewise, the server will accept the connection and send the
    response form back. Sent over UDP or TCP.
</p>
</td>
</tr>
</table></div>
<div class="sect3">
<h4 id="_request">6.1.1. Request</h4>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<caption class="title">Table 3. Header</caption>
<col width="33%" />
<col width="33%" />
<col width="33%" />
<thead>
<tr>
<th align="left" valign="top">Field</th>
<th align="left" valign="top">Value</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table">Command</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">Command identifier for <code>CA_PROTO_VERSION</code>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Payload size</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">Must be 0.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Priority</p></td>
<td align="left" valign="top"><p class="table">Desired priority</p></td>
<td align="left" valign="top"><p class="table">Virtual circuit priority.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Version</p></td>
<td align="left" valign="top"><p class="table">Version number</p></td>
<td align="left" valign="top"><p class="table">Minor protocol version number. Only used when sent over TCP.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Reserved</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">Must be 0.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Reserved</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">Must be 0.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<caption class="title">Table 4. Compatibility</caption>
<col width="50%" />
<col width="50%" />
<thead>
<tr>
<th align="left" valign="top">Version</th>
<th align="left" valign="top">Comment</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table">&gt;= <code>CA_V411</code></p></td>
<td align="left" valign="top"><p class="table">Server will send response immediately after establishing a virtual circuit.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">&lt; <code>CA_V411</code></p></td>
<td align="left" valign="top"><p class="table">Message does not include minor version number (it is always 0) and is interpreted as an echo command that carries no data. Version exchange is performed immediately after <a href="#ca-proto-create-chan"><code>CA_PROTO_CREATE_CHAN</code></a>.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="ulist"><div class="title">Comments</div><ul>
<li>
<p>
Priority indicates the server&#8217;s dispatch scheduling priority which might be
  implemented by a circuit dedicated thread&#8217;s scheduling priority in a
  preemptive scheduled OS.
</p>
</li>
</ul></div>
</div>
<div class="sect3">
<h4 id="_response">6.1.2. Response</h4>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<caption class="title">Table 5. Header</caption>
<col width="33%" />
<col width="33%" />
<col width="33%" />
<thead>
<tr>
<th align="left" valign="top">Field</th>
<th align="left" valign="top">Value</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table">Command</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">Command identifier for <code>CA_PROTO_VERSION</code>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Reserved</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">Must be 0.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Priority</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">Must be 0.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Version</p></td>
<td align="left" valign="top"><p class="table">Version number</p></td>
<td align="left" valign="top"><p class="table">Minor protocol version number. Only used when sent over TCP.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Reserved</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">Must be 0.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Reserved</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">Must be 0.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<caption class="title">Table 6. Compatibility</caption>
<col width="50%" />
<col width="50%" />
<thead>
<tr>
<th align="left" valign="top">Version</th>
<th align="left" valign="top">Comment</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table">&gt;= <code>CA_V411</code></p></td>
<td align="left" valign="top"><p class="table">Server will not respond to request, but send response immediately after establishing a virtual circuit.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">&lt; <code>CA_V411</code></p></td>
<td align="left" valign="top"><p class="table">Message does not include minor version number (it is always 0).</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="ca-proto-search">6.2. <code>CA_PROTO_SEARCH</code></h3>
<div class="hdlist"><table>
<tr>
<td class="hdlist1">
Command
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    <code>CA_PROTO_SEARCH</code>
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
ID
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    6 (<code>0x06</code>)
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Description
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    Searches for a given channel name. Sent over UDP or TCP.
</p>
</td>
</tr>
</table></div>
<div class="sect3">
<h4 id="_request_2">6.2.1. Request</h4>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<caption class="title">Table 7. Header</caption>
<col width="33%" />
<col width="33%" />
<col width="33%" />
<thead>
<tr>
<th align="left" valign="top">Field</th>
<th align="left" valign="top">Value</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table">Command</p></td>
<td align="left" valign="top"><p class="table">6</p></td>
<td align="left" valign="top"><p class="table">Command identifier for <code>CA_PROTO_SEARCH</code>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Payload Size</p></td>
<td align="left" valign="top"><p class="table">&gt;= 0</p></td>
<td align="left" valign="top"><p class="table">Padded size of channel name.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Reply</p></td>
<td align="left" valign="top"><p class="table">Reply Flag</p></td>
<td align="left" valign="top"><p class="table"><a href="#search-reply-flag">Search Reply Flag</a>, indicating whether failed search response should be returned.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Version</p></td>
<td align="left" valign="top"><p class="table">Version Number</p></td>
<td align="left" valign="top"><p class="table">Client minor protocol version number.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">CID</p></td>
<td align="left" valign="top"><p class="table">Channel CID</p></td>
<td align="left" valign="top"><p class="table">Client allocated CID.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">CID</p></td>
<td align="left" valign="top"><p class="table">Channel CID</p></td>
<td align="left" valign="top"><p class="table">Client allocated CID.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<caption class="title">Table 8. Payload</caption>
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
<thead>
<tr>
<th align="left" valign="top">Name</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Value</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table">Channel name</p></td>
<td align="left" valign="top"><p class="table"><code>STRING</code></p></td>
<td align="left" valign="top"><p class="table"></p></td>
<td align="left" valign="top"><p class="table">Name of channel to search for.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="ulist"><div class="title">Comments</div><ul>
<li>
<p>
Sent as a UDP datagram.
</p>
</li>
<li>
<p>
It is illegal to specify <code>DO_REPLY</code> flag whenever the message is sending as
  UDP datagram, regardless of whether broadcast or multicast is used.
</p>
</li>
<li>
<p>
CID will be allocated by the client before this message is sent.
</p>
</li>
<li>
<p>
CID field value is duplicated.
</p>
</li>
<li>
<p>
Reply flag will be generally <code>DONT_REPLY</code> when searching using broadcast and
  <code>DO_REPLY</code> when searching using unicast. When <code>DO_REPLY</code> is set, server will
  send a <a href="#ca-proto-not-found"><code>CA_PROTO_NOT_FOUND</code></a> message indicating it
  does not have the requested channel.
</p>
</li>
</ul></div>
</div>
<div class="sect3">
<h4 id="_response_2">6.2.2. Response</h4>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<caption class="title">Table 9. Header</caption>
<col width="33%" />
<col width="33%" />
<col width="33%" />
<thead>
<tr>
<th align="left" valign="top">Field</th>
<th align="left" valign="top">Value</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table">Command</p></td>
<td align="left" valign="top"><p class="table">6</p></td>
<td align="left" valign="top"><p class="table">Command identifier for <code>CA_PROTO_SEARCH</code>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Payload Size</p></td>
<td align="left" valign="top"><p class="table">8</p></td>
<td align="left" valign="top"><p class="table">Payload size is constant.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Data Type</p></td>
<td align="left" valign="top"><p class="table">Port number</p></td>
<td align="left" valign="top"><p class="table">TCP Port number of server that responded.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Data Count</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">Must be 0.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">SID</p></td>
<td align="left" valign="top"><p class="table"><code>0xffffffff</code></p></td>
<td align="left" valign="top"><p class="table">Temporary <a href="#sid-server-id">SID</a>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">CID</p></td>
<td align="left" valign="top"><p class="table">Same as request</p></td>
<td align="left" valign="top"><p class="table">Channel <a href="#cid-client-id">CID</a>.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<caption class="title">Table 10. Payload</caption>
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
<thead>
<tr>
<th align="left" valign="top">Name</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Value</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table">Server protocol version</p></td>
<td align="left" valign="top"><p class="table"><code>UINT16</code></p></td>
<td align="left" valign="top"><p class="table"></p></td>
<td align="left" valign="top"><p class="table">Server protocol version.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="ulist"><div class="title">Comments</div><ul>
<li>
<p>
Received as UDP datagram.
</p>
</li>
<li>
<p>
Client channel ID field value (CID) is copied from the request.
</p>
</li>
<li>
<p>
Port number of the server indicates on which port the server that replied
  listens to. This is used in case more than one server share the same IP.
</p>
</li>
<li>
<p>
Server-assigned channel ID will have value of <code>0xffffffff</code>, since the SID is
  not known at this time. Real value will be returned when channel is actually
  created using <code>CA_CREATE_CHAN</code>.
</p>
</li>
<li>
<p>
In <code>CA_V411</code> the server&#8217;s IP address is optionally returned in the CID field
  of the header allowing a CA server to act as a directory service.
  If not, then the CID field is set to <code>0xffffffff</code>.
</p>
</li>
<li>
<p>
The port number included in the header is the <strong>TCP</strong> port of the server.
  Two servers on the same host can share a UDP port number, but not a TCP port
  number. Therefore, the port the client needs to connect to in that situation
  may not be the same as expected if this field in the response is not used.
</p>
</li>
</ul></div>
</div>
</div>
<div class="sect2">
<h3 id="ca-proto-not-found">6.3. <code>CA_PROTO_NOT_FOUND</code></h3>
<div class="hdlist"><table>
<tr>
<td class="hdlist1">
Command
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    <code>CA_PROTO_NOT_FOUND</code>
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
ID
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    14 (<code>0x0E</code>)
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Description
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    Indicates that a channel with requested name does not exist.
    Sent in response to <a href="#ca-proto-search"><code>CA_PROTO_SEARCH</code></a>, but only when
    its <code>DO_REPLY</code> flag was set. Sent over UDP.
</p>
</td>
</tr>
</table></div>
<div class="sect3">
<h4 id="_response_3">6.3.1. Response</h4>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<caption class="title">Table 11. Header</caption>
<col width="33%" />
<col width="33%" />
<col width="33%" />
<thead>
<tr>
<th align="left" valign="top">Field</th>
<th align="left" valign="top">Value</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table">Command</p></td>
<td align="left" valign="top"><p class="table">14</p></td>
<td align="left" valign="top"><p class="table">Command identifier for <code>CA_PROTO_NOT_FOUND</code>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Reserved</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">Must be 0.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Reply Flag</p></td>
<td align="left" valign="top"><p class="table"><code>DO_REPLY</code></p></td>
<td align="left" valign="top"><p class="table">Same reply flag as in request: always <code>DO_REPLY</code>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Version</p></td>
<td align="left" valign="top"><p class="table">Same as request</p></td>
<td align="left" valign="top"><p class="table">Client minor protocol version number.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">CID</p></td>
<td align="left" valign="top"><p class="table">Same as request</p></td>
<td align="left" valign="top"><p class="table">CID of the channel.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">CID</p></td>
<td align="left" valign="top"><p class="table">Same as request</p></td>
<td align="left" valign="top"><p class="table">CID of the channel.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="ulist"><div class="title">Comments</div><ul>
<li>
<p>
Contents of the header are copied from the request.
</p>
</li>
<li>
<p>
CID fields are diplicated.
</p>
</li>
<li>
<p>
Original request payload is not returned with the response.
</p>
</li>
</ul></div>
</div>
</div>
<div class="sect2">
<h3 id="ca-proto-echo">6.4. <code>CA_PROTO_ECHO</code></h3>
<div class="hdlist"><table>
<tr>
<td class="hdlist1">
Command
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    <code>CA_PROTO_ECHO</code>
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
ID
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    23 (<code>0x17</code>)
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Description
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    Connection verify used by <code>CA_V43</code>. Sent over TCP.
</p>
</td>
</tr>
</table></div>
<div class="sect3">
<h4 id="_request_3">6.4.1. Request</h4>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<caption class="title">Table 12. Header</caption>
<col width="33%" />
<col width="33%" />
<col width="33%" />
<thead>
<tr>
<th align="left" valign="top">Field</th>
<th align="left" valign="top">Value</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table">Command</p></td>
<td align="left" valign="top"><p class="table">23</p></td>
<td align="left" valign="top"><p class="table">Command identifier for <code>CA_PROTO_ECHO</code>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Reserved</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">Must be 0.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Reserved</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">Must be 0.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Reserved</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">Must be 0.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Reserved</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">Must be 0.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Reserved</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">Must be 0.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_response_4">6.4.2. Response</h4>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<caption class="title">Table 13. Header</caption>
<col width="33%" />
<col width="33%" />
<col width="33%" />
<thead>
<tr>
<th align="left" valign="top">Field</th>
<th align="left" valign="top">Value</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table">Command</p></td>
<td align="left" valign="top"><p class="table">23</p></td>
<td align="left" valign="top"><p class="table">Command identifier for <code>CA_PROTO_ECHO</code>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Reserved</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">Must be 0.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Reserved</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">Must be 0.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Reserved</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">Must be 0.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Reserved</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">Must be 0.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Reserved</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">Must be 0.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_commands_udp">7. Commands (UDP)</h2>
<div class="sectionbody">
<div class="paragraph"><p>The following commands are sent as UDP datagrams.</p></div>
<div class="sect2">
<h3 id="ca-proto-rsrv-is-up">7.1. <code>CA_PROTO_RSRV_IS_UP</code></h3>
<div class="hdlist"><table>
<tr>
<td class="hdlist1">
Command
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    <code>CA_PROTO_RSRV_IS_UP</code>
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
ID
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    13 (<code>0x0D</code>)
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Description
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    Beacon sent by a server when it becomes available. Beacons are also sent
    out periodically to announce the server is still alive. Another function
    of beacons is to allow detection of changes in network topology.
    Sent over UDP.
</p>
</td>
</tr>
</table></div>
<div class="sect3">
<h4 id="_response_5">7.1.1. Response</h4>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<caption class="title">Table 14. Header</caption>
<col width="33%" />
<col width="33%" />
<col width="33%" />
<thead>
<tr>
<th align="left" valign="top">Field</th>
<th align="left" valign="top">Value</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table">Command</p></td>
<td align="left" valign="top"><p class="table">13</p></td>
<td align="left" valign="top"><p class="table">Command identifier for <code>CA_PROTO_RSRV_IS_UP</code>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Reserved</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">Must be 0.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Server port</p></td>
<td align="left" valign="top"><p class="table">&gt;= 0</p></td>
<td align="left" valign="top"><p class="table">TCP Port the server is listening on.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Reserved</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">Must be 0.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">BeaconID</p></td>
<td align="left" valign="top"><p class="table">Sequential integers</p></td>
<td align="left" valign="top"><p class="table">Sequential Beacon ID.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Address</p></td>
<td align="left" valign="top"><p class="table">0 or IP</p></td>
<td align="left" valign="top"><p class="table">May contain IP address of the server.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="ulist"><div class="title">Comments</div><ul>
<li>
<p>
IP field may contain IP of the server. If IP is not present (field Address
  value is 0), then IP may be substituted by the receiver of the packet
  (usually repeater) if it is capable of identifying where this packet came
  from. Any non-zero address must be interpreted as server&#8217;s IP address.
</p>
</li>
<li>
<p>
BeaconIDs are useful in detecting network topology changes. In certain
  cases, same packet may be routed using two different routes, causing
  problems with datagrams. If multiple beacons are received from the same
  server with same BeaconID, multiple routes are the cause.
</p>
</li>
<li>
<p>
If a server is restarted, it will most likely start sending BeaconID values
  from beggining (0). Such situation must be anticipated.
</p>
</li>
</ul></div>
</div>
</div>
<div class="sect2">
<h3 id="ca-repeater-confirm">7.2. <code>CA_REPEATER_CONFIRM</code></h3>
<div class="hdlist"><table>
<tr>
<td class="hdlist1">
Command
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    <code>CA_REPEATER_CONFIRM</code>
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
ID
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    17 (<code>0x11</code>)
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Description
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    Confirms successful client registration with repeater. Sent over UDP.
</p>
</td>
</tr>
</table></div>
<div class="sect3">
<h4 id="_response_6">7.2.1. Response</h4>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<caption class="title">Table 15. Header</caption>
<col width="33%" />
<col width="33%" />
<col width="33%" />
<thead>
<tr>
<th align="left" valign="top">Field</th>
<th align="left" valign="top">Value</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table">Command</p></td>
<td align="left" valign="top"><p class="table">17</p></td>
<td align="left" valign="top"><p class="table">Command identifier for <code>CA_REPEATER_CONFIRM</code>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Reserved</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">Must be 0.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Reserved</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">Must be 0.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Reserved</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">Must be 0.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Reserved</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">Must be 0.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Repeater address</p></td>
<td align="left" valign="top"><p class="table">IP address</p></td>
<td align="left" valign="top"><p class="table">Address with which the registration succeeded.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="ulist"><div class="title">Comments</div><ul>
<li>
<p>
Since repeater can bind to different local address, its IP is reported in
  Repeater address. This address will be either <code>0.0.0.0</code> or <code>127.0.0.1</code>.
</p>
</li>
</ul></div>
</div>
</div>
<div class="sect2">
<h3 id="ca-repeater-register">7.3. <code>CA_REPEATER_REGISTER</code></h3>
<div class="hdlist"><table>
<tr>
<td class="hdlist1">
Command
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    <code>CA_REPEATER_REGISTER</code>
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
ID
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    24 (<code>0x18</code>)
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Description
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    Requests registration with the repeater. Repeater will confirm successful
    registration using <code>CA_REPEATER_CONFIRM</code>. Sent over TCP.
</p>
</td>
</tr>
</table></div>
<div class="sect3">
<h4 id="_request_4">7.3.1. Request</h4>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<caption class="title">Table 16. Header</caption>
<col width="33%" />
<col width="33%" />
<col width="33%" />
<thead>
<tr>
<th align="left" valign="top">Field</th>
<th align="left" valign="top">Value</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table">Command</p></td>
<td align="left" valign="top"><p class="table"><code>CA_REPEATER_REGISTER</code></p></td>
<td align="left" valign="top"><p class="table">Command identifier</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Reserved</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">Must be 0</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Reserved</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">Must be 0</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Reserved</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">Must be 0</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Reserved</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">Must be 0</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Client IP address</p></td>
<td align="left" valign="top"><p class="table">IP address</p></td>
<td align="left" valign="top"><p class="table">IP address on which the client is listening</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_commands_tcp">8. Commands (TCP)</h2>
<div class="sectionbody">
<div class="paragraph"><p>The following commands are used within the context of Virtual Circuit and are
sent using TCP.</p></div>
<div class="sect2">
<h3 id="ca-proto-event-add">8.1. <code>CA_PROTO_EVENT_ADD</code></h3>
<div class="hdlist"><table>
<tr>
<td class="hdlist1">
Command
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    <code>CA_PROTO_EVENT_ADD</code>
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
ID
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    1 (<code>0x01</code>)
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Description
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    Creates a subscription on a channel, allowing the client to be notified of
    changes in value. A request will produce at least one response.
    Sent over TCP.
</p>
</td>
</tr>
</table></div>
<div class="sect3">
<h4 id="_request_5">8.1.1. Request</h4>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<caption class="title">Table 17. Header</caption>
<col width="33%" />
<col width="33%" />
<col width="33%" />
<thead>
<tr>
<th align="left" valign="top">Field</th>
<th align="left" valign="top">Value</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table">Command</p></td>
<td align="left" valign="top"><p class="table">1</p></td>
<td align="left" valign="top"><p class="table">Command identifier for <code>CA_PROTO_EVENT_ADD</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Payload Size</p></td>
<td align="left" valign="top"><p class="table">16</p></td>
<td align="left" valign="top"><p class="table">Payload size is constant</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Data Type</p></td>
<td align="left" valign="top"><p class="table"></p></td>
<td align="left" valign="top"><p class="table">Desired DBR type of the return value.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Data Count</p></td>
<td align="left" valign="top"><p class="table">&gt;= 0</p></td>
<td align="left" valign="top"><p class="table">Desired number of elements</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">SID</p></td>
<td align="left" valign="top"><p class="table">SID of the channel.</p></td>
<td align="left" valign="top"><p class="table">SID of the channel on which to register this subscription. See <a href="#sid-server-id">SID - Server ID</a>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">SubscriptionID</p></td>
<td align="left" valign="top"><p class="table">Client provided Subscription ID</p></td>
<td align="left" valign="top"><p class="table">Subscription ID identifying this subscription.See <a href="#subscription-id">Subscription ID</a>.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>Payload</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
<thead>
<tr>
<th align="left" valign="top">Name</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Value</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table">Low val</p></td>
<td align="left" valign="top"><p class="table"><code>FLOAT32</code></p></td>
<td align="left" valign="top"><p class="table">0.0</p></td>
<td align="left" valign="top"><p class="table">Low value</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">High val</p></td>
<td align="left" valign="top"><p class="table"><code>FLOAT32</code></p></td>
<td align="left" valign="top"><p class="table">0.0</p></td>
<td align="left" valign="top"><p class="table">High value</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">To val</p></td>
<td align="left" valign="top"><p class="table"><code>FLOAT32</code></p></td>
<td align="left" valign="top"><p class="table">0.0</p></td>
<td align="left" valign="top"><p class="table">To value</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Mask</p></td>
<td align="left" valign="top"><p class="table"><code>UINT16</code></p></td>
<td align="left" valign="top"><p class="table">Monitor mask</p></td>
<td align="left" valign="top"><p class="table"><a href="#monitor-mask">Mask</a> indicating which events to report</p></td>
</tr>
</tbody>
</table>
</div>
<div class="ulist"><div class="title">Comments</div><ul>
<li>
<p>
All payload fields except Mask are initialized to 0 and are present only for
  backward compatibility.
</p>
</li>
<li>
<p>
Successful subscription will result in an immediate response with the
  current value. Additional responses will be sent as the change occurs based
  on the Mask parameter.
</p>
</li>
<li>
<p>
Mask defines a filter on which events will be sent.
</p>
</li>
<li>
<p>
A subscription should be destroyed when no longer needed to reduce load on
  server. See <a href="#ca-proto-event-cancel"><code>CA_PROTO_EVENT_CANCEL</code></a>.
</p>
</li>
</ul></div>
</div>
<div class="sect3">
<h4 id="_response_7">8.1.2. Response</h4>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<caption class="title">Table 18. Header</caption>
<col width="33%" />
<col width="33%" />
<col width="33%" />
<thead>
<tr>
<th align="left" valign="top">Field</th>
<th align="left" valign="top">Value</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table">Command</p></td>
<td align="left" valign="top"><p class="table">1</p></td>
<td align="left" valign="top"><p class="table">Command identifier for <code>CA_PROTO_EVENT_ADD</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Payload Size</p></td>
<td align="left" valign="top"><p class="table">&gt;= 0</p></td>
<td align="left" valign="top"><p class="table">Size of the response.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Data Type</p></td>
<td align="left" valign="top"><p class="table">same as request</p></td>
<td align="left" valign="top"><p class="table">Payload data type.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Data Count</p></td>
<td align="left" valign="top"><p class="table">same as request</p></td>
<td align="left" valign="top"><p class="table">Payload data count.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Status code</p></td>
<td align="left" valign="top"><p class="table">One of ECA codes</p></td>
<td align="left" valign="top"><p class="table"><a href="#return-codes">Status code</a> (<code>ECA_NORMAL</code> on success).</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">SubscriptionID</p></td>
<td align="left" valign="top"><p class="table">same as request</p></td>
<td align="left" valign="top"><p class="table">Subscription ID</p></td>
</tr>
</tbody>
</table>
</div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<caption class="title">Table 19. Payload</caption>
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
<thead>
<tr>
<th align="left" valign="top">Name</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Value</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table">Values</p></td>
<td align="left" valign="top"><p class="table">DBR</p></td>
<td align="left" valign="top"><p class="table"></p></td>
<td align="left" valign="top"><p class="table">Value stored as DBR type specified in Data Type field. See <a href="#payload-data-types">Payload Data Types</a>.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="ulist"><div class="title">Comments</div><ul>
<li>
<p>
Response data type and count match that of the request.
</p>
</li>
<li>
<p>
To confirm successful subscription, first response will be sent immediately.
  Additional responses will be sent as the change occurs based on mask
  parameters.
</p>
</li>
</ul></div>
</div>
</div>
<div class="sect2">
<h3 id="ca-proto-event-cancel">8.2. <code>CA_PROTO_EVENT_CANCEL</code></h3>
<div class="hdlist"><table>
<tr>
<td class="hdlist1">
Command
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    <code>CA_PROTO_EVENT_CANCEL</code>
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
ID
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    2 (<code>0x02</code>)
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Description
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    Clears event subscription. This message will stop event updates for
    specified channel. Sent over TCP.
</p>
</td>
</tr>
</table></div>
<div class="sect3">
<h4 id="_request_6">8.2.1. Request</h4>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<caption class="title">Table 20. Header</caption>
<col width="33%" />
<col width="33%" />
<col width="33%" />
<thead>
<tr>
<th align="left" valign="top">Field</th>
<th align="left" valign="top">Value</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table">Command</p></td>
<td align="left" valign="top"><p class="table">2</p></td>
<td align="left" valign="top"><p class="table">Command identifier for <code>CA_PROTO_EVENT_CANCEL</code>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Payload Size</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">Must be 0.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Data Type</p></td>
<td align="left" valign="top"><p class="table"></p></td>
<td align="left" valign="top"><p class="table">Same value as in corresponding <a href="#ca-proto-event-add"><code>CA_PROTO_EVENT_ADD</code></a>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Data Count</p></td>
<td align="left" valign="top"><p class="table">&gt;= 0</p></td>
<td align="left" valign="top"><p class="table">Same value as in corresponding <a href="#ca-proto-event-add"><code>CA_PROTO_EVENT_ADD</code></a>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">SID</p></td>
<td align="left" valign="top"><p class="table">SID of channel</p></td>
<td align="left" valign="top"><p class="table">Same value as in corresponding <a href="#ca-proto-event-add"><code>CA_PROTO_EVENT_ADD</code></a>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">SubscriptionID</p></td>
<td align="left" valign="top"><p class="table">Subscription ID</p></td>
<td align="left" valign="top"><p class="table">Same value as in corresponding <a href="#ca-proto-event-add"><code>CA_PROTO_EVENT_ADD</code></a>.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="ulist"><div class="title">Comments</div><ul>
<li>
<p>
Both SID and SubscriptionID are used to identify which subscription on which
  monitor to destroy.
</p>
</li>
<li>
<p>
Actual data type and count values are not important, but should be the same
  as used with corresponding <a href="#ca-proto-event-add"><code>CA_PROTO_EVENT_ADD</code></a>.
</p>
</li>
</ul></div>
</div>
<div class="sect3">
<h4 id="_response_8">8.2.2. Response</h4>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<caption class="title">Table 21. Header</caption>
<col width="33%" />
<col width="33%" />
<col width="33%" />
<thead>
<tr>
<th align="left" valign="top">Field</th>
<th align="left" valign="top">Value</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table">Command</p></td>
<td align="left" valign="top"><p class="table">1</p></td>
<td align="left" valign="top"><p class="table">Command identifier for <code>CA_PROTO_EVENT_ADD</code>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Payload Size</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">Must be 0.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Data Type</p></td>
<td align="left" valign="top"><p class="table">Same as request.</p></td>
<td align="left" valign="top"><p class="table">Same value as <code>CA_PROTO_EVENT_ADD</code> request.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Data Count</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">Must be 0.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">SID</p></td>
<td align="left" valign="top"><p class="table">Same as request.</p></td>
<td align="left" valign="top"><p class="table">Same value as <code>CA_PROTO_EVENT_ADD</code> request.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">SubscriptionID</p></td>
<td align="left" valign="top"><p class="table">Same as request.</p></td>
<td align="left" valign="top"><p class="table">Same value as <code>CA_PROTO_EVENT_ADD</code> request.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="ulist"><div class="title">Comments</div><ul>
<li>
<p>
Notice that the response has <a href="#ca-proto-event-add"><code>CA_PROTO_EVENT_ADD</code></a>
  command identifier!
</p>
</li>
<li>
<p>
Regardless of data type and count, this response has no payload.
</p>
</li>
</ul></div>
</div>
</div>
<div class="sect2">
<h3 id="ca-proto-read">8.3. <code>CA_PROTO_READ</code></h3>
<div class="hdlist"><table>
<tr>
<td class="hdlist1">
Command
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    <code>CA_PROTO_READ</code>
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
ID
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    3 (<code>0x03</code>)
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Description
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
Read value of a channel. Sent over TCP.
</p>
</td>
</tr>
</table></div>
<div class="paragraph"><p><strong>Deprecated since protocol version 3.13.</strong></p></div>
<div class="sect3">
<h4 id="_request_7">8.3.1. Request</h4>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<caption class="title">Table 22. Header</caption>
<col width="33%" />
<col width="33%" />
<col width="33%" />
<thead>
<tr>
<th align="left" valign="top">Field</th>
<th align="left" valign="top">Value</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table">Command</p></td>
<td align="left" valign="top"><p class="table">3</p></td>
<td align="left" valign="top"><p class="table">Command identifier for <code>CA_PROTO_READ_NOTIFY</code>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Payload Size</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">Must be 0.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Data Type</p></td>
<td align="left" valign="top"><p class="table">DBR type</p></td>
<td align="left" valign="top"><p class="table">Desired type of the return value.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Data Count</p></td>
<td align="left" valign="top"><p class="table">&gt;= 0</p></td>
<td align="left" valign="top"><p class="table">Desired number of elements to read.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">SID</p></td>
<td align="left" valign="top"><p class="table">Channel SID</p></td>
<td align="left" valign="top"><p class="table">SID of the channel to read.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">IOID</p></td>
<td align="left" valign="top"><p class="table">Client provided IOID</p></td>
<td align="left" valign="top"><p class="table">IOID of this operation.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="ulist"><div class="title">Comments</div><ul>
<li>
<p>
Channel from which to read is identified using SID.
</p>
</li>
<li>
<p>
Response will contain the same IOID as the request, making it possible to
  distinguish multiple responses.
</p>
</li>
</ul></div>
</div>
<div class="sect3">
<h4 id="_response_9">8.3.2. Response</h4>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<caption class="title">Table 23. Header</caption>
<col width="33%" />
<col width="33%" />
<col width="33%" />
<thead>
<tr>
<th align="left" valign="top">Field</th>
<th align="left" valign="top">Value</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table">Command</p></td>
<td align="left" valign="top"><p class="table">3</p></td>
<td align="left" valign="top"><p class="table">Command identifier for <code>CA_PROTO_READ_NOTIFY</code>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Payload size</p></td>
<td align="left" valign="top"><p class="table">Size of payload</p></td>
<td align="left" valign="top"><p class="table">Size of DBR formatted data in payload.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Data type</p></td>
<td align="left" valign="top"><p class="table">DBR type</p></td>
<td align="left" valign="top"><p class="table">Payload format.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Data count</p></td>
<td align="left" valign="top"><p class="table">&gt;= 0</p></td>
<td align="left" valign="top"><p class="table">Payload element count.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">SID</p></td>
<td align="left" valign="top"><p class="table">Same as request</p></td>
<td align="left" valign="top"><p class="table">SID of the channel.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">IOID</p></td>
<td align="left" valign="top"><p class="table">Same as request</p></td>
<td align="left" valign="top"><p class="table">IOID of this operation.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<caption class="title">Table 24. Payload</caption>
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
<thead>
<tr>
<th align="left" valign="top">Name</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Value</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table">DBR formatted data</p></td>
<td align="left" valign="top"><p class="table">DBR</p></td>
<td align="left" valign="top"><p class="table">DBR formatted data</p></td>
<td align="left" valign="top"><p class="table">Value stored as DBR type specified in Data type field. Data count specifies number of elements of DBR value field.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="ca-proto-write">8.4. <code>CA_PROTO_WRITE</code></h3>
<div class="hdlist"><table>
<tr>
<td class="hdlist1">
Command
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    <code>CA_PROTO_WRITE</code>
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
ID
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    4 (<code>0x04</code>)
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Description
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    Writes new channel value. Sent over TCP.
</p>
</td>
</tr>
</table></div>
<div class="sect3">
<h4 id="_request_8">8.4.1. Request</h4>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<caption class="title">Table 25. Header</caption>
<col width="33%" />
<col width="33%" />
<col width="33%" />
<thead>
<tr>
<th align="left" valign="top">Field</th>
<th align="left" valign="top">Value</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table">Command</p></td>
<td align="left" valign="top"><p class="table"><code>CA_PROTO_WRITE</code></p></td>
<td align="left" valign="top"><p class="table">Command identifier</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Payload size</p></td>
<td align="left" valign="top"><p class="table">Size of DBR formatted payload</p></td>
<td align="left" valign="top"><p class="table">Size of padded payload</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Data type</p></td>
<td align="left" valign="top"><p class="table">DBR type</p></td>
<td align="left" valign="top"><p class="table">Format of payload</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Data count</p></td>
<td align="left" valign="top"><p class="table"><code>ELEMENT_COUNT</code></p></td>
<td align="left" valign="top"><p class="table">Number of elements in payload</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">SID</p></td>
<td align="left" valign="top"><p class="table">SID provided by server</p></td>
<td align="left" valign="top"><p class="table">Server channel ID</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">IOID</p></td>
<td align="left" valign="top"><p class="table">Client provided IOID</p></td>
<td align="left" valign="top"><p class="table">Request ID</p></td>
</tr>
</tbody>
</table>
</div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<caption class="title">Table 26. Payload</caption>
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
<thead>
<tr>
<th align="left" valign="top">Name</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Value</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table">DBR formatted data</p></td>
<td align="left" valign="top"><p class="table">DBR</p></td>
<td align="left" valign="top"><p class="table">DBR formatted data</p></td>
<td align="left" valign="top"><p class="table">Value stored as DBR type specified in Data type field. Data count specifies number of elements of DBR value field.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="ulist"><div class="title">Comments</div><ul>
<li>
<p>
There is no response to this command.
</p>
</li>
</ul></div>
</div>
</div>
<div class="sect2">
<h3 id="ca-proto-snapshot">8.5. <code>CA_PROTO_SNAPSHOT</code></h3>
<div class="hdlist"><table>
<tr>
<td class="hdlist1">
Command
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    <code>CA_PROTO_SNAPSHOT</code>
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
ID
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    5 (<code>0x05</code>)
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Description
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    Obsolete.
</p>
</td>
</tr>
</table></div>
</div>
<div class="sect2">
<h3 id="ca-proto-build">8.6. <code>CA_PROTO_BUILD</code></h3>
<div class="hdlist"><table>
<tr>
<td class="hdlist1">
Command
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    <code>CA_PROTO_BUILD</code>
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
ID
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    7 (<code>0x07</code>)
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Description
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    Obsolete.
</p>
</td>
</tr>
</table></div>
</div>
<div class="sect2">
<h3 id="ca-proto-events-off">8.7. <code>CA_PROTO_EVENTS_OFF</code></h3>
<div class="hdlist"><table>
<tr>
<td class="hdlist1">
Command
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    <code>CA_PROTO_EVENTS_OFF</code>
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
ID
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    8 (<code>0x08</code>)
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Description
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    Disables a server from sending any subscription updates over this virtual
    circuit. Sent over TCP. This mechanism is used by clients with slow CPU to
    prevent congestion when they are unable to handle all updates received.
    Effective automated handling of flow control is beyond the scope of this
    document.
</p>
</td>
</tr>
</table></div>
<div class="sect3">
<h4 id="_request_9">8.7.1. Request</h4>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<caption class="title">Table 27. Header</caption>
<col width="33%" />
<col width="33%" />
<col width="33%" />
<thead>
<tr>
<th align="left" valign="top">Field</th>
<th align="left" valign="top">Value</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table">Command</p></td>
<td align="left" valign="top"><p class="table">8</p></td>
<td align="left" valign="top"><p class="table">Command identifier for <code>CA_PROTO_EVENTS_OFF</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Reserved</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">Must be 0.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Reserved</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">Must be 0.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Reserved</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">Must be 0.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Reserved</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">Must be 0.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Reserved</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">Must be 0.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="ulist"><div class="title">Comments</div><ul>
<li>
<p>
This request will disable sending of subscription updates on the server to
  which it is sent.
</p>
</li>
<li>
<p>
Command applies to a single virtual circuit, so having multiple priority
  virtual circuit connections to the server would only affect the one on which
  the message is sent.
</p>
</li>
<li>
<p>
No response will be sent for this request.
</p>
</li>
</ul></div>
</div>
</div>
<div class="sect2">
<h3 id="ca-proto-events-on">8.8. <code>CA_PROTO_EVENTS_ON</code></h3>
<div class="hdlist"><table>
<tr>
<td class="hdlist1">
Command
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    <code>CA_PROTO_EVENTS_ON</code>
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
ID
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    9 (<code>0x09</code>)
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Description
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    Enables the server to resume sending subscription updates for this virtual
    circuit. Sent over TCP. This mechanism is used by clients with slow CPU to
    prevent congestion when they are unable to handle all updates received.
    Effective automated handling of flow control is beyond the scope of this
    document.
</p>
</td>
</tr>
</table></div>
<div class="sect3">
<h4 id="_request_10">8.8.1. Request</h4>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<caption class="title">Table 28. Header</caption>
<col width="33%" />
<col width="33%" />
<col width="33%" />
<thead>
<tr>
<th align="left" valign="top">Field</th>
<th align="left" valign="top">Value</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table">Command</p></td>
<td align="left" valign="top"><p class="table">9</p></td>
<td align="left" valign="top"><p class="table">Command identifier for <code>CA_PROTO_EVENTS_ON</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Reserved</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">Must be 0.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Reserved</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">Must be 0.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Reserved</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">Must be 0.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Reserved</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">Must be 0.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Reserved</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">Must be 0.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="ulist"><div class="title">Comments</div><ul>
<li>
<p>
This request will enable sending of subscription updates on the server to
  which it is sent.
</p>
</li>
<li>
<p>
Command applies to a single virtual circuit, so having multiple priority
  virtual circuit connections to the server would only affect the one on which
  the message is sent.
</p>
</li>
<li>
<p>
No response will be sent for this request.
</p>
</li>
</ul></div>
</div>
</div>
<div class="sect2">
<h3 id="ca-proto-read-sync">8.9. <code>CA_PROTO_READ_SYNC</code></h3>
<div class="hdlist"><table>
<tr>
<td class="hdlist1">
Command
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    <code>CA_PROTO_READ_SYNC</code>
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
ID
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    10 (<code>0x0A</code>)
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Description
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    <strong>Deprecated since protocol version 3.13.</strong>
</p>
</td>
</tr>
</table></div>
<div class="sect3">
<h4 id="_request_11">8.9.1. Request</h4>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<caption class="title">Table 29. Header</caption>
<col width="33%" />
<col width="33%" />
<col width="33%" />
<thead>
<tr>
<th align="left" valign="top">Field</th>
<th align="left" valign="top">Value</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table">Command</p></td>
<td align="left" valign="top"><p class="table">10</p></td>
<td align="left" valign="top"><p class="table">Command identifier for <code>CA_PROTO_READ_SYNC</code>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Reserved</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">Must be 0.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Reserved</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">Must be 0.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Reserved</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">Must be 0.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Reserved</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">Must be 0.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Reserved</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">Must be 0.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="ca-proto-error">8.10. <code>CA_PROTO_ERROR</code></h3>
<div class="hdlist"><table>
<tr>
<td class="hdlist1">
Command
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    <code>CA_PROTO_ERROR</code>
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
ID
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    11 (<code>0x0B</code>)
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Description
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    Sends error message and code. This message is only sent from server to
    client in response to any request that fails and does not include error
    code in response. This applies to all asynchronous commands. Error message
    will contain a copy of original request and textual description of the
    error. Sent over UDP.
</p>
</td>
</tr>
</table></div>
<div class="sect3">
<h4 id="_response_10">8.10.1. Response</h4>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<caption class="title">Table 30. Header</caption>
<col width="33%" />
<col width="33%" />
<col width="33%" />
<thead>
<tr>
<th align="left" valign="top">Field</th>
<th align="left" valign="top">Value</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table">Command</p></td>
<td align="left" valign="top"><p class="table">11</p></td>
<td align="left" valign="top"><p class="table">Command identifier for <code>CA_PROTO_ERROR</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Payload Size</p></td>
<td align="left" valign="top"><p class="table"></p></td>
<td align="left" valign="top"><p class="table">Size of the request header that triggered the error plus size of the error message.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Reserved</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">Must be 0.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Reserved</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">Must be 0.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">CID</p></td>
<td align="left" valign="top"><p class="table">Channel CID</p></td>
<td align="left" valign="top"><p class="table"><a href="#cid-client-id">CID</a> of the channel for which request failed.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Status Code</p></td>
<td align="left" valign="top"><p class="table">One of ECA codes</p></td>
<td align="left" valign="top"><p class="table"><a href="#return-codes">Error status code</a>.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<caption class="title">Table 31. Payload</caption>
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
<thead>
<tr>
<th align="left" valign="top">Name</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Value</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table">Original Request</p></td>
<td align="left" valign="top"><p class="table">Message Header</p></td>
<td align="left" valign="top"><p class="table"></p></td>
<td align="left" valign="top"><p class="table">Header of the request that caused the error.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Error Message</p></td>
<td align="left" valign="top"><p class="table"><code>STRING</code></p></td>
<td align="left" valign="top"><p class="table"></p></td>
<td align="left" valign="top"><p class="table">A null-terminated string conveying the error message.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="ulist"><div class="title">Comments</div><ul>
<li>
<p>
Complete exception report is returned. This includes error message code, CID
  of channel on which the request failed, original request and string
  description of the message.
</p>
</li>
<li>
<p>
CID value depends on original request and may not actually identify a
  channel.
</p>
</li>
<li>
<p>
First part of payload is original request header with the same structure as
  sent. Any payload that was part of this request is not included.
  Textual error message starts immediately after the header.
</p>
</li>
</ul></div>
</div>
</div>
<div class="sect2">
<h3 id="ca-proto-clear-channel">8.11. <code>CA_PROTO_CLEAR_CHANNEL</code></h3>
<div class="hdlist"><table>
<tr>
<td class="hdlist1">
Command
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    <code>CA_PROTO_CLEAR_CHANNEL</code>
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
ID
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    12 (<code>0x0C</code>)
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Description
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    Clears a channel. This command will cause server to release the associated
    channel resources and no longer accept any requests for this SID/CID.
</p>
</td>
</tr>
</table></div>
<div class="sect3">
<h4 id="_request_12">8.11.1. Request</h4>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<caption class="title">Table 32. Header</caption>
<col width="33%" />
<col width="33%" />
<col width="33%" />
<thead>
<tr>
<th align="left" valign="top">Field</th>
<th align="left" valign="top">Value</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table">Command</p></td>
<td align="left" valign="top"><p class="table">12</p></td>
<td align="left" valign="top"><p class="table">Command identifier of <code>CA_PROTO_CLEAR_COMMAND</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Reserved</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">Must be 0.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Reserved</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">Must be 0.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Reserved</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">Must be 0.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">SID</p></td>
<td align="left" valign="top"><p class="table">SID of the channel</p></td>
<td align="left" valign="top"><p class="table">SID of channel to clear.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">CID</p></td>
<td align="left" valign="top"><p class="table">CID of the channel</p></td>
<td align="left" valign="top"><p class="table">CID of channel to clear.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_response_11">8.11.2. Response</h4>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<caption class="title">Table 33. Header</caption>
<col width="33%" />
<col width="33%" />
<col width="33%" />
<thead>
<tr>
<th align="left" valign="top">Field</th>
<th align="left" valign="top">Value</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table">Command</p></td>
<td align="left" valign="top"><p class="table">12</p></td>
<td align="left" valign="top"><p class="table">Command identifier of <code>CA_PROTO_CLEAR_COMMAND</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Reserved</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">Must be 0.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Reserved</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">Must be 0.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Reserved</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">Must be 0.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">SID</p></td>
<td align="left" valign="top"><p class="table">Same as request</p></td>
<td align="left" valign="top"><p class="table">SID of cleared channel.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">CID</p></td>
<td align="left" valign="top"><p class="table">Same as request</p></td>
<td align="left" valign="top"><p class="table">CID of cleared channel.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="ulist"><div class="title">Comments</div><ul>
<li>
<p>
Server responds immediately and only then releases channel resources.
</p>
</li>
<li>
<p>
Once a channel with a given SID has been cleared, any request sent with this
  SID will fail.
</p>
</li>
<li>
<p>
Sent over TCP.
</p>
</li>
</ul></div>
</div>
</div>
<div class="sect2">
<h3 id="ca-proto-read-notify">8.12. <code>CA_PROTO_READ_NOTIFY</code></h3>
<div class="hdlist"><table>
<tr>
<td class="hdlist1">
Command
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    <code>CA_PROTO_READ_NOTIFY</code>
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
ID
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    15 (<code>0x0F</code>)
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Description
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    Read value of a channel. Sent over TCP.
</p>
</td>
</tr>
</table></div>
<div class="sect3">
<h4 id="_request_13">8.12.1. Request</h4>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<caption class="title">Table 34. Header</caption>
<col width="33%" />
<col width="33%" />
<col width="33%" />
<thead>
<tr>
<th align="left" valign="top">Field</th>
<th align="left" valign="top">Value</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table">Command</p></td>
<td align="left" valign="top"><p class="table">15</p></td>
<td align="left" valign="top"><p class="table">Command identifier for <code>CA_PROTO_READ_NOTIFY</code>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Payload Size</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">Must be 0.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Data Type</p></td>
<td align="left" valign="top"><p class="table">DBR type</p></td>
<td align="left" valign="top"><p class="table">Desired type of the return value.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Data Count</p></td>
<td align="left" valign="top"><p class="table">&gt;= 0</p></td>
<td align="left" valign="top"><p class="table">Desired number of elements to read.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">SID</p></td>
<td align="left" valign="top"><p class="table">Channel SID</p></td>
<td align="left" valign="top"><p class="table">SID of the channel to read.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">IOID</p></td>
<td align="left" valign="top"><p class="table">Client provided IOID</p></td>
<td align="left" valign="top"><p class="table">IOID of this operation.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="ulist"><div class="title">Comments</div><ul>
<li>
<p>
Channel from which to read is identified using SID.
</p>
</li>
<li>
<p>
Response will contain the same IOID as the request, making it possible to
  distinguish multiple responses.
</p>
</li>
</ul></div>
</div>
<div class="sect3">
<h4 id="_response_12">8.12.2. Response</h4>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<caption class="title">Table 35. Header</caption>
<col width="33%" />
<col width="33%" />
<col width="33%" />
<thead>
<tr>
<th align="left" valign="top">Field</th>
<th align="left" valign="top">Value</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table">Command</p></td>
<td align="left" valign="top"><p class="table">15</p></td>
<td align="left" valign="top"><p class="table">Command identifier for <code>CA_PROTO_READ_NOTIFY</code>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Payload size</p></td>
<td align="left" valign="top"><p class="table">Size of payload</p></td>
<td align="left" valign="top"><p class="table">Size of DBR formatted data in payload.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Data type</p></td>
<td align="left" valign="top"><p class="table">DBR type</p></td>
<td align="left" valign="top"><p class="table">Payload format.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Data count</p></td>
<td align="left" valign="top"><p class="table">&gt;= 0</p></td>
<td align="left" valign="top"><p class="table">Payload element count.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">SID</p></td>
<td align="left" valign="top"><p class="table">Same as request</p></td>
<td align="left" valign="top"><p class="table">SID of the channel.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">IOID</p></td>
<td align="left" valign="top"><p class="table">Same as request</p></td>
<td align="left" valign="top"><p class="table">IOID of this operation.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<caption class="title">Table 36. Payload</caption>
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
<thead>
<tr>
<th align="left" valign="top">Name</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Value</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table">DBR formatted data</p></td>
<td align="left" valign="top"><p class="table">DBR</p></td>
<td align="left" valign="top"><p class="table">DBR formatted data</p></td>
<td align="left" valign="top"><p class="table">Value stored as DBR type specified in Data type field. Data count specifies number of elements of DBR value field.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="ca-proto-read-build">8.13. <code>CA_PROTO_READ_BUILD</code></h3>
<div class="hdlist"><table>
<tr>
<td class="hdlist1">
Command
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    <code>CA_PROTO_READ_BUILD</code>
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
ID
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    16 (<code>0x10</code>)
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Description
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    Obsolete
</p>
</td>
</tr>
</table></div>
<div class="sect3">
<h4 id="_request_14">8.13.1. Request</h4>
</div>
</div>
<div class="sect2">
<h3 id="ca-proto-create-chan">8.14. <code>CA_PROTO_CREATE_CHAN</code></h3>
<div class="hdlist"><table>
<tr>
<td class="hdlist1">
Command
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    <code>CA_PROTO_CREATE_CHAN</code>
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
ID
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    18 (<code>0x12</code>)
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Description
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    Requests creation of channel. Server will allocate required resources and
    return initialized SID. Sent over TCP.
</p>
</td>
</tr>
</table></div>
<div class="sect3">
<h4 id="_request_15">8.14.1. Request</h4>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<caption class="title">Table 37. Header</caption>
<col width="33%" />
<col width="33%" />
<col width="33%" />
<thead>
<tr>
<th align="left" valign="top">Field</th>
<th align="left" valign="top">Value</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table">Command</p></td>
<td align="left" valign="top"><p class="table">18</p></td>
<td align="left" valign="top"><p class="table">Command identifier for <code>CA_PROTO_CREATE_CHAN</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Payload size</p></td>
<td align="left" valign="top"><p class="table">Size of payload</p></td>
<td align="left" valign="top"><p class="table">Padded length of channel name.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Reserved</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">Must be 0.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Reserved</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">Must be 0.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">CID</p></td>
<td align="left" valign="top"><p class="table">Channel CID</p></td>
<td align="left" valign="top"><p class="table">CID of the channel to create.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Client version</p></td>
<td align="left" valign="top"><p class="table">Version number</p></td>
<td align="left" valign="top"><p class="table">Client minor protocol version.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><div class="title">Payload</div><p>|[options="header"]</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table">Name</p></td>
<td align="left" valign="top"><p class="table">Type</p></td>
<td align="left" valign="top"><p class="table">Value</p></td>
<td align="left" valign="top"><p class="table">Description</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Channel name</p></td>
<td align="left" valign="top"><p class="table"><code>STRING</code></p></td>
<td align="left" valign="top"><p class="table"></p></td>
<td align="left" valign="top"><p class="table">Name of channel to create.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="ulist"><div class="title">Comments</div><ul>
<li>
<p>
CID sent should be the same as used with <code>CA_PROTO_SEARCH</code>.
</p>
</li>
</ul></div>
</div>
<div class="sect3">
<h4 id="_response_13">8.14.2. Response</h4>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<caption class="title">Table 38. Header</caption>
<col width="33%" />
<col width="33%" />
<col width="33%" />
<thead>
<tr>
<th align="left" valign="top">Field</th>
<th align="left" valign="top">Value</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table">Command</p></td>
<td align="left" valign="top"><p class="table"><code>CA_PROTO_CREATE_CHAN</code></p></td>
<td align="left" valign="top"><p class="table"></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Payload size</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">Must be 0</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Data type</p></td>
<td align="left" valign="top"><p class="table">DBR type</p></td>
<td align="left" valign="top"><p class="table">Native channel data type</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Data count</p></td>
<td align="left" valign="top"><p class="table">&gt;= 0</p></td>
<td align="left" valign="top"><p class="table">Native channel data count</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">CID</p></td>
<td align="left" valign="top"><p class="table">Same as request</p></td>
<td align="left" valign="top"><p class="table">Channel client ID</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">SID</p></td>
<td align="left" valign="top"><p class="table">SID provided by server</p></td>
<td align="left" valign="top"><p class="table">Channel server ID</p></td>
</tr>
</tbody>
</table>
</div>
<div class="ulist"><div class="title">Comments</div><ul>
<li>
<p>
SID will be associated with CID on the server and will be reused sending
  certain commands that require it as a parameter.
</p>
</li>
<li>
<p>
SID will be valid until the channel is cleared using <code>CA_PROTO_CLEAR</code> or
  server destroys the PV the channel references.
</p>
</li>
</ul></div>
</div>
</div>
<div class="sect2">
<h3 id="ca-proto-write-notify">8.15. <code>CA_PROTO_WRITE_NOTIFY</code></h3>
<div class="hdlist"><table>
<tr>
<td class="hdlist1">
Command
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    <code>CA_PROTO_WRITE_NOTIFY</code>
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
ID
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    19 (<code>0x13</code>)
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Description
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    Writes new channel value. Sent over TCP.
</p>
</td>
</tr>
</table></div>
<div class="sect3">
<h4 id="_request_16">8.15.1. Request</h4>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<caption class="title">Table 39. Header</caption>
<col width="33%" />
<col width="33%" />
<col width="33%" />
<thead>
<tr>
<th align="left" valign="top">Field</th>
<th align="left" valign="top">Value</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table">Command</p></td>
<td align="left" valign="top"><p class="table"><code>CA_PROTO_WRITE_NOTIFY</code></p></td>
<td align="left" valign="top"><p class="table">Command identifier</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Payload size</p></td>
<td align="left" valign="top"><p class="table">Size of DBR formatted payload</p></td>
<td align="left" valign="top"><p class="table">Size of padded payload</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Data type</p></td>
<td align="left" valign="top"><p class="table">DBR type</p></td>
<td align="left" valign="top"><p class="table">Format of payload</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Data count</p></td>
<td align="left" valign="top"><p class="table"><code>ELEMENT_COUNT</code></p></td>
<td align="left" valign="top"><p class="table">Number of elements in payload</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">SID</p></td>
<td align="left" valign="top"><p class="table">SID provided by server</p></td>
<td align="left" valign="top"><p class="table">Server channel ID</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">IOID</p></td>
<td align="left" valign="top"><p class="table">Client provided IOID</p></td>
<td align="left" valign="top"><p class="table">Request ID</p></td>
</tr>
</tbody>
</table>
</div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<caption class="title">Table 40. Payload</caption>
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
<thead>
<tr>
<th align="left" valign="top">Name</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Value</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table">DBR formatted data</p></td>
<td align="left" valign="top"><p class="table">DBR</p></td>
<td align="left" valign="top"><p class="table">DBR formatted data</p></td>
<td align="left" valign="top"><p class="table">Value stored as DBR type specified in Data type field. Data count specifies number of elements of DBR value field.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_response_14">8.15.2. Response</h4>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<caption class="title">Table 41. Header</caption>
<col width="33%" />
<col width="33%" />
<col width="33%" />
<thead>
<tr>
<th align="left" valign="top">Field</th>
<th align="left" valign="top">Value</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table">Command</p></td>
<td align="left" valign="top"><p class="table"><code>CA_PROTO_WRITE_NOTIFY</code></p></td>
<td align="left" valign="top"><p class="table">Command identifier</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Payload size</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">Must be 0</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Data type</p></td>
<td align="left" valign="top"><p class="table">Same as request</p></td>
<td align="left" valign="top"><p class="table">Format of data written</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Data count</p></td>
<td align="left" valign="top"><p class="table">Same as request</p></td>
<td align="left" valign="top"><p class="table">Number of elements written</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Status</p></td>
<td align="left" valign="top"><p class="table">Status code</p></td>
<td align="left" valign="top"><p class="table">Status of write success</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">IOID</p></td>
<td align="left" valign="top"><p class="table">Same as request</p></td>
<td align="left" valign="top"><p class="table">Request ID</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="ca-proto-client-name">8.16. <code>CA_PROTO_CLIENT_NAME</code></h3>
<div class="hdlist"><table>
<tr>
<td class="hdlist1">
Command
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    <code>CA_PROTO_CLIENT_NAME</code>
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
ID
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    20 (<code>0x14</code>)
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Description
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    Sends local username to virtual circuit peer. This name identifies the
    user and affects access rights.
</p>
</td>
</tr>
</table></div>
<div class="sect3">
<h4 id="_request_17">8.16.1. Request</h4>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<caption class="title">Table 42. Header</caption>
<col width="33%" />
<col width="33%" />
<col width="33%" />
<thead>
<tr>
<th align="left" valign="top">Field</th>
<th align="left" valign="top">Value</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table">Command</p></td>
<td align="left" valign="top"><p class="table"><code>CA_PROTO_CLIENT_NAME</code></p></td>
<td align="left" valign="top"><p class="table">Command identifier</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Payload size</p></td>
<td align="left" valign="top"><p class="table">&gt;=0</p></td>
<td align="left" valign="top"><p class="table">Length of string in payload</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Reserved</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">Must be 0</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Reserved</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">Must be 0</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Reserved</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">Must be 0</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Reserved</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">Must be 0</p></td>
</tr>
</tbody>
</table>
</div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<caption class="title">Table 43. Payload</caption>
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
<thead>
<tr>
<th align="left" valign="top">Name</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Value</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table">User name</p></td>
<td align="left" valign="top"><p class="table"><code>STRING</code></p></td>
<td align="left" valign="top"><p class="table"></p></td>
<td align="left" valign="top"><p class="table">0-terminated username string</p></td>
</tr>
</tbody>
</table>
</div>
<div class="ulist"><div class="title">Comments</div><ul>
<li>
<p>
This is a one-way message and will not receive response.
</p>
</li>
<li>
<p>
String in payload must be 0 padded to a length that is multiple of 8.
</p>
</li>
<li>
<p>
Sent over TCP.
</p>
</li>
</ul></div>
</div>
</div>
<div class="sect2">
<h3 id="ca-proto-host-name">8.17. <code>CA_PROTO_HOST_NAME</code></h3>
<div class="hdlist"><table>
<tr>
<td class="hdlist1">
Command
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    <code>CA_PROTO_HOST_NAME</code>
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
ID
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    21 (<code>0x15</code>)
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Description
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    Sends local host name to virtual circuit peer. This name will affect
    access rights. Sent over TCP.
</p>
</td>
</tr>
</table></div>
<div class="sect3">
<h4 id="_request_18">8.17.1. Request</h4>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<caption class="title">Table 44. Header</caption>
<col width="33%" />
<col width="33%" />
<col width="33%" />
<thead>
<tr>
<th align="left" valign="top">Field</th>
<th align="left" valign="top">Value</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table">Command</p></td>
<td align="left" valign="top"><p class="table">21</p></td>
<td align="left" valign="top"><p class="table">Command identifier for <code>CA_PROTO_HOST_NAME</code>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Payload size</p></td>
<td align="left" valign="top"><p class="table">Size of payload</p></td>
<td align="left" valign="top"><p class="table">Length of host name string.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Reserved</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">Must be 0.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Reserved</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">Must be 0.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Reserved</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">Must be 0.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Reserved</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">Must be 0.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<caption class="title">Table 45. Payload</caption>
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
<thead>
<tr>
<th align="left" valign="top">Name</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Value</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table">Host name</p></td>
<td align="left" valign="top"><p class="table"><code>STRING</code></p></td>
<td align="left" valign="top"><p class="table"></p></td>
<td align="left" valign="top"><p class="table">Client host name.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="ulist"><div class="title">Comments</div><ul>
<li>
<p>
This is one-way message and will receive no response.
</p>
</li>
</ul></div>
</div>
</div>
<div class="sect2">
<h3 id="ca-proto-access-rights">8.18. <code>CA_PROTO_ACCESS_RIGHTS</code></h3>
<div class="hdlist"><table>
<tr>
<td class="hdlist1">
Command
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    <code>CA_PROTO_ACCESS_RIGHTS</code>
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
ID
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    22 (<code>0x16</code>)
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Description
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    Notifies of access rights for a channel. This value is determined based on
    host and client name and may change during runtime. Client cannot change
    access rights nor can it explicitly query its value, so last received
    value must be stored.
</p>
</td>
</tr>
</table></div>
<div class="sect3">
<h4 id="_response_15">8.18.1. Response</h4>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<caption class="title">Table 46. Header</caption>
<col width="33%" />
<col width="33%" />
<col width="33%" />
<thead>
<tr>
<th align="left" valign="top">Field</th>
<th align="left" valign="top">Value</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table">Command</p></td>
<td align="left" valign="top"><p class="table">22</p></td>
<td align="left" valign="top"><p class="table">Command identifier for <code>CA_PROTO_ACCESS_RIGHTS</code>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Payload size</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">Must be 0.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Reserved</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">Must be 0.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Reserved</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">Must be 0.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">CID</p></td>
<td align="left" valign="top"><p class="table">Channel CID</p></td>
<td align="left" valign="top"><p class="table">Channel affected by change.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Access Rights</p></td>
<td align="left" valign="top"><p class="table">Access Rights</p></td>
<td align="left" valign="top"><p class="table"><a href="#access-rights">Access rights</a> for given channel.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="ulist"><div class="title">Comments</div><ul>
<li>
<p>
Access Rights affect <code>CA_PROTO_READ_NOTIFY</code>, <code>CA_PROTO_WRITE_NOTIFY</code> and
  <code>CA_PROTO_WRITE</code>.
</p>
</li>
<li>
<p>
<code>CA_PROTO_ACCESS_RIGHTS</code> will be sent immediately after a channel is created
  using <code>CA_PROTO_CREATE_CHAN</code>. If they change during runtime, this message
  sent to report new value.
</p>
</li>
<li>
<p>
Changes are only sent to currently connected channels, since it requires
  valid CID.
</p>
</li>
<li>
<p>
Sent over TCP.
</p>
</li>
</ul></div>
</div>
</div>
<div class="sect2">
<h3 id="ca-proto-signal">8.19. <code>CA_PROTO_SIGNAL</code></h3>
<div class="hdlist"><table>
<tr>
<td class="hdlist1">
Command
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    <code>CA_PROTO_SIGNAL</code>
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
ID
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    25 (<code>0x19</code>)
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Description
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    Obsolete.
</p>
</td>
</tr>
</table></div>
</div>
<div class="sect2">
<h3 id="ca-proto-create-ch-fail">8.20. <code>CA_PROTO_CREATE_CH_FAIL</code></h3>
<div class="hdlist"><table>
<tr>
<td class="hdlist1">
Command
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    <code>CA_PROTO_CREATE_CH_FAIL</code>
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
ID
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    26 (<code>0x1A</code>)
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Description
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    Reports that channel creation failed. This response is sent to when
    channel creation in <code>CA_PROTO_CREATE_CHAN</code> fails.
</p>
</td>
</tr>
</table></div>
<div class="sect3">
<h4 id="_response_16">8.20.1. Response</h4>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<caption class="title">Table 47. Header</caption>
<col width="33%" />
<col width="33%" />
<col width="33%" />
<thead>
<tr>
<th align="left" valign="top">Field</th>
<th align="left" valign="top">Value</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table">Command</p></td>
<td align="left" valign="top"><p class="table"><code>CA_PROTO_CREATE_CH_FAIL</code></p></td>
<td align="left" valign="top"><p class="table">Command identifier</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Reserved</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">Must be 0</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Reserved</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">Must be 0</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Reserved</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">Must be 0</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">CID</p></td>
<td align="left" valign="top"><p class="table">Same as request</p></td>
<td align="left" valign="top"><p class="table">Client channel ID</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Reserved</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">Must be 0</p></td>
</tr>
</tbody>
</table>
</div>
<div class="ulist"><div class="title">Comments</div><ul>
<li>
<p>
Sent over TCP.
</p>
</li>
</ul></div>
</div>
</div>
<div class="sect2">
<h3 id="ca-proto-server-disconn">8.21. <code>CA_PROTO_SERVER_DISCONN</code></h3>
<div class="hdlist"><table>
<tr>
<td class="hdlist1">
Command
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    <code>CA_PROTO_SERVER_DISCONN</code>
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
ID
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    27 (<code>0x1B</code>)
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Description
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    Notifies the client that server has disconnected the channel. This may be
    since the channel has been destroyed on server. Sent over TCP.
</p>
</td>
</tr>
</table></div>
<div class="sect3">
<h4 id="_response_17">8.21.1. Response</h4>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<caption class="title">Table 48. Header</caption>
<col width="33%" />
<col width="33%" />
<col width="33%" />
<thead>
<tr>
<th align="left" valign="top">Field</th>
<th align="left" valign="top">Value</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table">Command</p></td>
<td align="left" valign="top"><p class="table"><code>CA_PROTO_SERVER_DISCONN</code></p></td>
<td align="left" valign="top"><p class="table">Command identifier</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Reserved</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">Must be 0</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Reserved</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">Must be 0</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Reserved</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">Must be 0</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">CID</p></td>
<td align="left" valign="top"><p class="table">CID provided by client</p></td>
<td align="left" valign="top"><p class="table">CID that was provided during <code>CA_PROTO_CREATE_CHAN</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Reserved</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">Must be 0</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="payload-data-types">9. Payload Data Types</h2>
<div class="sectionbody">
<div class="paragraph"><p>Channel access defines special structures to transferring data. Main reason is
efficiency, since in many cases more than one value can be transferred. These
types are organized in typed hierarchies with loose inheritance. There are
seven basic data types: <code>DBR_STRING</code>, <code>DBR_SHORT</code>, <code>DBR_INT</code>, <code>DBR_FLOAT</code>,
<code>DBR_ENUM</code>, <code>DBR_CHAR</code>, <code>DBR_LONG</code> and <code>DBR_DOUBLE</code>. Each of these types can
be represented as an array, if the corresponding field in header indicates
that.</p></div>
<div class="paragraph"><p>Additional to basic data types, structured types allow access to more than one
value within the same record. These structures are status (STS), time stamp
(TIME), graphic (GR) and control (CTRL). All these structures contain value as
the last field.</p></div>
<div class="paragraph"><p>Status structure adds alarm severity. Time stamp structures extends the status
structure by adding time stamp of the value. Graphic extends status structure
by providing alarm limits, units and precision. Control structure extends
graphic by adding control limits.</p></div>
<div class="paragraph"><p>Following is the list of all structures as transmitted over network.</p></div>
<div class="sect2">
<h3 id="_code_dbr_sts_string_code">9.1. <code>DBR_STS_STRING</code></h3>
<div class="hdlist"><table>
<tr>
<td class="hdlist1">
Type
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    <code>DBR_STS_STRING</code>
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
ID
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    7 (<code>0x07</code>)
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Description
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    <code>DBR_STS</code> structure for <code>STRING</code> type.
</p>
</td>
</tr>
</table></div>
</div>
<div class="sect2">
<h3 id="_code_dbr_sts_short_code">9.2. <code>DBR_STS_SHORT</code></h3>
<div class="hdlist"><table>
<tr>
<td class="hdlist1">
Type
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    <code>DBR_STS_SHORT</code>
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
ID
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    8 (<code>0x08</code>)
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Description
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    <code>DBR_STS</code> structure for <code>UINT16</code> type. May be referred to as
    <code>DBR_STS_INT</code>.
</p>
</td>
</tr>
</table></div>
</div>
<div class="sect2">
<h3 id="_code_dbr_sts_float_code">9.3. <code>DBR_STS_FLOAT</code></h3>
<div class="hdlist"><table>
<tr>
<td class="hdlist1">
Type
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    <code>DBR_STS_FLOAT</code>
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
ID
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    9 (<code>0x09</code>)
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Description
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    <code>DBR_STS</code> structure for <code>FLOAT</code> type.
</p>
</td>
</tr>
</table></div>
</div>
<div class="sect2">
<h3 id="_code_dbr_sts_enum_code">9.4. <code>DBR_STS_ENUM</code></h3>
<div class="hdlist"><table>
<tr>
<td class="hdlist1">
Type
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    <code>DBR_STS_ENUM</code>
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
ID
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    10 (<code>0x0A</code>)
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Description
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    <code>DBR_STS</code> structure for <code>ENUM</code> type.
</p>
</td>
</tr>
</table></div>
</div>
<div class="sect2">
<h3 id="_code_dbr_sts_char_code">9.5. <code>DBR_STS_CHAR</code></h3>
<div class="hdlist"><table>
<tr>
<td class="hdlist1">
Type
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    <code>DBR_STS_CHAR</code>
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
ID
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    11 (<code>0x0B</code>)
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Description
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    <code>DBR_STS</code> structure for <code>CHAR</code> type.
</p>
</td>
</tr>
</table></div>
</div>
<div class="sect2">
<h3 id="_code_dbr_sts_long_code">9.6. <code>DBR_STS_LONG</code></h3>
<div class="hdlist"><table>
<tr>
<td class="hdlist1">
Type
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    <code>DBR_STS_LONG</code>
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
ID
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    12 (<code>0x0C</code>)
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Description
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    <code>DBR_STS</code> structure for <code>LONG</code> type.
</p>
</td>
</tr>
</table></div>
</div>
<div class="sect2">
<h3 id="_code_dbr_sts_double_code">9.7. <code>DBR_STS_DOUBLE</code></h3>
<div class="hdlist"><table>
<tr>
<td class="hdlist1">
Type
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    <code>DBR_STS_DOUBLE</code>
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
ID
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    13 (<code>0x0D</code>)
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Description
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    <code>DBR_STS</code> structure for <code>LONG</code> type.
</p>
</td>
</tr>
</table></div>
</div>
<div class="sect2">
<h3 id="_code_dbr_time_string_code">9.8. <code>DBR_TIME_STRING</code></h3>
<div class="hdlist"><table>
<tr>
<td class="hdlist1">
Type
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    <code>DBR_TIME_STRING</code>
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
ID
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    14 (<code>0x0E</code>)
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Description
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    <code>DBR_TIME</code> structure for <code>STRING</code> type.
</p>
</td>
</tr>
</table></div>
</div>
<div class="sect2">
<h3 id="_code_dbr_time_short_code">9.9. <code>DBR_TIME_SHORT</code></h3>
<div class="hdlist"><table>
<tr>
<td class="hdlist1">
Type
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    <code>DBR_TIME_SHORT</code>
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
ID
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    15 (<code>0x0F</code>)
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Description
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    <code>DBR_TIME</code> structure for <code>UINT16</code> type. May be referred to as
    <code>DBR_TIME_INT</code>.
</p>
</td>
</tr>
</table></div>
</div>
<div class="sect2">
<h3 id="_code_dbr_time_float_code">9.10. <code>DBR_TIME_FLOAT</code></h3>
<div class="hdlist"><table>
<tr>
<td class="hdlist1">
Type
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    <code>DBR_TIME_FLOAT</code>
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
ID
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    16 (<code>0x10</code>)
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Description
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    <code>DBR_TIME</code> structure for <code>FLOAT</code> type.
</p>
</td>
</tr>
</table></div>
</div>
<div class="sect2">
<h3 id="_code_dbr_time_enum_code">9.11. <code>DBR_TIME_ENUM</code></h3>
<div class="hdlist"><table>
<tr>
<td class="hdlist1">
Type
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    <code>DBR_TIME_ENUM</code>
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
ID
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    17 (<code>0x11</code>)
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Description
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    <code>DBR_TIME</code> structure for <code>ENUM</code> type.
</p>
</td>
</tr>
</table></div>
</div>
<div class="sect2">
<h3 id="_code_dbr_time_char_code">9.12. <code>DBR_TIME_CHAR</code></h3>
<div class="hdlist"><table>
<tr>
<td class="hdlist1">
Type
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    <code>DBR_TIME_CHAR</code>
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
ID
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    18 (<code>0x12</code>)
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Description
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    <code>DBR_TIME</code> structure for <code>CHAR</code> type.
</p>
</td>
</tr>
</table></div>
</div>
<div class="sect2">
<h3 id="_code_dbr_time_long_code">9.13. <code>DBR_TIME_LONG</code></h3>
<div class="hdlist"><table>
<tr>
<td class="hdlist1">
Type
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    <code>DBR_TIME_LONG</code>
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
ID
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    19 (<code>0x13</code>)
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Description
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    <code>DBR_TIME</code> structure for <code>LONG</code> type.
</p>
</td>
</tr>
</table></div>
</div>
<div class="sect2">
<h3 id="_code_dbr_time_double_code">9.14. <code>DBR_TIME_DOUBLE</code></h3>
<div class="hdlist"><table>
<tr>
<td class="hdlist1">
Type
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    <code>DBR_TIME_DOUBLE</code>
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
ID
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    20 (<code>0x14</code>)
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Description
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    <code>DBR_TIME</code> structure for <code>DOUBLE</code> type.
</p>
</td>
</tr>
</table></div>
</div>
<div class="sect2">
<h3 id="_code_dbr_gr_string_code">9.15. <code>DBR_GR_STRING</code></h3>
<div class="hdlist"><table>
<tr>
<td class="hdlist1">
Type
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    <code>DBR_GR_STRING</code>
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
ID
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    21 (<code>0x15</code>)
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Description
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    <code>DBR_GR</code> structure for <code>STRING</code> type.
</p>
</td>
</tr>
</table></div>
</div>
<div class="sect2">
<h3 id="_code_dbr_gr_short_code">9.16. <code>DBR_GR_SHORT</code></h3>
<div class="hdlist"><table>
<tr>
<td class="hdlist1">
Type
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    <code>DBR_GR_SHORT</code>
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
ID
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    22 (<code>0x16</code>)
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Description
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    <code>DBR_GR</code> structure for <code>SHORT</code> type.
</p>
</td>
</tr>
</table></div>
</div>
<div class="sect2">
<h3 id="_code_dbr_gr_int_code">9.17. <code>DBR_GR_INT</code></h3>
<div class="hdlist"><table>
<tr>
<td class="hdlist1">
Type
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    <code>DBR_GR_INT</code>
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
ID
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    22 (<code>0x16</code>)
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Description
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    <code>DBR_GR</code> structure for <code>INT</code> type.
</p>
</td>
</tr>
</table></div>
</div>
<div class="sect2">
<h3 id="_code_dbr_gr_float_code">9.18. <code>DBR_GR_FLOAT</code></h3>
<div class="hdlist"><table>
<tr>
<td class="hdlist1">
Type
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    <code>DBR_GR_FLOAT</code>
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
ID
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    23 (<code>0x17</code>)
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Description
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    <code>DBR_GR</code> structure for <code>FLOAT</code> type.
</p>
</td>
</tr>
</table></div>
</div>
<div class="sect2">
<h3 id="_code_dbr_gr_enum_code">9.19. <code>DBR_GR_ENUM</code></h3>
<div class="hdlist"><table>
<tr>
<td class="hdlist1">
Type
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    <code>DBR_GR_ENUM</code>
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
ID
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    24 (<code>0x18</code>)
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Description
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    <code>DBR_GR</code> structure for <code>ENUM</code> type.
</p>
</td>
</tr>
</table></div>
</div>
<div class="sect2">
<h3 id="_code_dbr_gr_char_code">9.20. <code>DBR_GR_CHAR</code></h3>
<div class="hdlist"><table>
<tr>
<td class="hdlist1">
Type
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    <code>DBR_GR_CHAR</code>
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
ID
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    25 (<code>0x19</code>)
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Description
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    <code>DBR_GR</code> structure for <code>CHAR</code> type (<code>UINT8</code> representation).
</p>
</td>
</tr>
</table></div>
</div>
<div class="sect2">
<h3 id="_code_dbr_gr_long_code">9.21. <code>DBR_GR_LONG</code></h3>
<div class="hdlist"><table>
<tr>
<td class="hdlist1">
Type
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    <code>DBR_GR_LONG</code>
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
ID
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    26 (<code>0x1A</code>)
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Description
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    <code>DBR_GR</code> structure for <code>LONG</code> type (<code>INT32</code> representation).
</p>
</td>
</tr>
</table></div>
</div>
<div class="sect2">
<h3 id="_code_dbr_gr_double_code">9.22. <code>DBR_GR_DOUBLE</code></h3>
<div class="hdlist"><table>
<tr>
<td class="hdlist1">
Type
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    <code>DBR_GR_DOUBLE</code>
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
ID
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    27 (<code>0x1B</code>)
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Description
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    <code>DBR_GR</code> structure for <code>DOUBLE</code> type.
</p>
</td>
</tr>
</table></div>
</div>
<div class="sect2">
<h3 id="_code_dbr_ctrl_string_code">9.23. <code>DBR_CTRL_STRING</code></h3>
<div class="hdlist"><table>
<tr>
<td class="hdlist1">
Type
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    <code>DBR_CTRL_STRING</code>
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
ID
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    28 (<code>0x1C</code>)
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Description
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    <code>DBR_CTRL</code> structure for <code>STRING</code> type.
</p>
</td>
</tr>
</table></div>
</div>
<div class="sect2">
<h3 id="_code_dbr_ctrl_short_code">9.24. <code>DBR_CTRL_SHORT</code></h3>
<div class="hdlist"><table>
<tr>
<td class="hdlist1">
Type
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    <code>DBR_CTRL_SHORT</code>
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
ID
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    29 (<code>0x1D</code>)
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Description
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    <code>DBR_CTRL</code> structure for <code>SHORT</code> type.
</p>
</td>
</tr>
</table></div>
</div>
<div class="sect2">
<h3 id="_code_dbr_ctrl_int_code">9.25. <code>DBR_CTRL_INT</code></h3>
<div class="hdlist"><table>
<tr>
<td class="hdlist1">
Type
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    <code>DBR_CTRL_INT</code>
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
ID
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    29 (<code>0x1D</code>)
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Description
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    <code>DBR_CTRL</code> structure for <code>INT16</code> type.
</p>
</td>
</tr>
</table></div>
</div>
<div class="sect2">
<h3 id="_code_dbr_ctrl_float_code">9.26. <code>DBR_CTRL_FLOAT</code></h3>
<div class="hdlist"><table>
<tr>
<td class="hdlist1">
Type
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    <code>DBR_CTRL_FLOAT</code>
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
ID
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    30 (<code>0x1E</code>)
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Description
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    <code>DBR_CTRL</code> structure for <code>FLOAT</code> type.
</p>
</td>
</tr>
</table></div>
</div>
<div class="sect2">
<h3 id="_code_dbr_ctrl_enum_code">9.27. <code>DBR_CTRL_ENUM</code></h3>
<div class="hdlist"><table>
<tr>
<td class="hdlist1">
Type
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    <code>DBR_CTRL_ENUM</code>
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
ID
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    31 (<code>0x1F</code>)
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Description
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    <code>DBR_CTRL</code> structure for <code>ENUM</code> type.
</p>
</td>
</tr>
</table></div>
</div>
<div class="sect2">
<h3 id="_code_dbr_ctrl_char_code">9.28. <code>DBR_CTRL_CHAR</code></h3>
<div class="hdlist"><table>
<tr>
<td class="hdlist1">
Type
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    <code>DBR_CTRL_CHAR</code>
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
ID
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    32 (<code>0x20</code>)
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Description
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    <code>DBR_CTRL</code> structure for <code>CHAR</code> type (<code>UINT8</code> representation).
</p>
</td>
</tr>
</table></div>
</div>
<div class="sect2">
<h3 id="_code_dbr_ctrl_long_code">9.29. <code>DBR_CTRL_LONG</code></h3>
<div class="hdlist"><table>
<tr>
<td class="hdlist1">
Type
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    <code>DBR_CTRL_LONG</code>
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
ID
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    33 (<code>0x21</code>)
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Description
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    <code>DBR_CTRL</code> structure for <code>INT32</code> type.
</p>
</td>
</tr>
</table></div>
</div>
<div class="sect2">
<h3 id="_code_dbr_ctrl_double_code">9.30. <code>DBR_CTRL_DOUBLE</code></h3>
<div class="hdlist"><table>
<tr>
<td class="hdlist1">
Type
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    <code>DBR_CTRL_DOUBLE</code>
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
ID
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    34 (<code>0x22</code>)
</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Description
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
    <code>DBR_CTRL</code> structure for <code>DOUBLE</code> type.
</p>
</td>
</tr>
</table></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_constants">10. Constants</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_port_numbers">10.1. Port numbers</h3>
<div class="paragraph"><p>Although there is no requirement as to which port numbers are used by either
servers or clients, there are some standard values which must be used as
defaults, unless overriden by application.</p></div>
<div class="paragraph"><p>Port numbers are dependant on protocol versions and are calculated using the
folowing definitions:</p></div>
<div class="paragraph"><p><code>CA_PORT_BASE</code> = 5056</p></div>
<div class="paragraph"><p><code>CA_SERVER_PORT</code> = <code>CA_PORT_BASE</code> + <code>MAJOR_PROTOCOL_VERSION</code> * 2</p></div>
<div class="paragraph"><p><code>CA_REPEATER_PORT</code> = <code>CA_PORT_BASE</code> + <code>MAJOR_PROTOCOL_VERSION</code> * 2 + 1</p></div>
<div class="paragraph"><p>Based on protocol version described in this document (4.11), port numbers used
are <code>CA_SERVER_PORT</code> = 5064 and <code>CA_REPEATER_PORT</code> = 5065.</p></div>
<div class="paragraph"><p>Since registration of port numbers with <a href="https://iana.org">IANA</a> and in the
interest of compatibility, the version numbers are unlikely to change.
Therefore, the port numbers described here (5064 and 5065) may be considered
final.</p></div>
</div>
<div class="sect2">
<h3 id="_representation_of_constants">10.2. Representation of constants</h3>
<div class="paragraph"><p>This section lists various constants, their types and values used by protocol.</p></div>
<div class="paragraph"><p>Some constants can be combined using logical OR operation. Example: Monitor
mask of <code>DBE_VALUE</code> and <code>DBE_ALARM</code> are combined using <code>(DBE_VALUE or
DBE_ALARM)</code> resulting in <code>(1 or 4 == 5)</code>.</p></div>
<div class="paragraph"><p>To query the whether certain value is present in such combined value, and
operation is used. Example: to query whether <code>DBE_ALARM</code> of monitor mask is
set, <code>(DBE_VALUE and MASK &gt; 0)</code> will return 0 if <code>DBE_VALUE</code> is not present,
otherwise <code>DBE_ALARM</code> is present.</p></div>
</div>
<div class="sect2">
<h3 id="monitor-mask">10.3. Monitor Mask</h3>
<div class="paragraph"><p>Indicates which changes to the value should be reported back to client
library. Different values can be combined using logical OR operation.</p></div>
<div class="paragraph"><p><strong>Type:</strong> not defined, depends on the field it is in (usually <code>UINT16</code>)</p></div>
<div class="ulist"><ul>
<li>
<p>
<code>DBE_VALUE</code> - value 1 (<code>0x01</code>) - Value change events are reported. Value
  changes take into consideration a dead band within which the value changes
  are not reported.
</p>
</li>
<li>
<p>
<code>DBE_LOG</code> - value 2 (<code>0x02</code>) - Log events are reported. Similiar to
  <code>DBR_VALUE</code>, <code>DBE_LOG</code> defines a different dead band value that determines
  frequency of updates.
</p>
</li>
<li>
<p>
<code>DBE_ALARM</code> - value 4 (<code>0x04</code>) - Alarm events are reported whenever alarm
  value of the channel changes.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="search-reply-flag">10.4. Search Reply Flag</h3>
<div class="paragraph"><p>Indicates whether server should reply to failed search messages. If a server
does not know about channel name, it has the option of replying to request or
ignoring it. Usually, servers contacted through address list will receive
request for reply.</p></div>
<div class="paragraph"><p><strong>Type:</strong> not defined, depends on the field it is in (usually <code>UINT16</code>).</p></div>
<div class="ulist"><ul>
<li>
<p>
<code>DO_REPLY</code> - value 10 (<code>0x0a</code>) - Server should reply to failed search
  requests.
</p>
</li>
<li>
<p>
<code>DONT_REPLY</code> - value 5 (<code>0x05</code>) - Server should ignore failed requests.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="access-rights">10.5. Access Rights</h3>
<div class="paragraph"><p>Defines access rights for a given channel. Accss rights are defined as
logicaly ORred value of allowed access.</p></div>
<div class="paragraph"><p><strong>Type:</strong> not defined, depends on the field it is in (usually <code>UINT16</code>).</p></div>
<div class="ulist"><ul>
<li>
<p>
<code>CA_PROTO_ACCESS_RIGHT_READ</code> - value 1 (<code>0x01</code>) - Read access is allowed
</p>
</li>
<li>
<p>
<code>CA_PROTO_ACCESS_RIGHT_WRITE</code> - value 2 (<code>0x02</code>) - Write access is allowed.
</p>
</li>
</ul></div>
<div class="paragraph"><p>As a reference, the following values are valid.</p></div>
<div class="ulist"><ul>
<li>
<p>
0 - No access
</p>
</li>
<li>
<p>
1 - Read access only
</p>
</li>
<li>
<p>
2 - Write access only
</p>
</li>
<li>
<p>
3 - Read and write access
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_example_message">11. Example message</h2>
<div class="sectionbody">
<div class="paragraph"><p>This example shows construction of messages. For details of individual
structures, see message and data type reference (<code>CA_PROTO_READ_NOTIFY</code> and
<code>DBR_GR_INT16</code>).</p></div>
<div class="paragraph"><p>A client will send <code>CA_PROTO_READ_NOTIFY</code> message with the following contents.</p></div>
<div class="ulist"><ul>
<li>
<p>
Data type: <code>DBR_GR_INT16</code>
</p>
</li>
<li>
<p>
Element count: 5
</p>
</li>
<li>
<p>
Server ID: 22 (obtained during channel creation)
</p>
</li>
<li>
<p>
Sequence ID: 56 (each read or write request increases value by one)
</p>
</li>
</ul></div>
<div class="paragraph"><p>The messsage would be represented as follows:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>00 0F (command) 00 00 (payload size) 00 16 (data type) 00 05 (element count)
00 00 00 16 (server ID) 00 00 00 38 (sequence ID)</code></pre>
</div></div>
<div class="paragraph"><p>Server would respond with success and return requested value with individual
<code>DBR_GR_INT16</code> fields having the following values.</p></div>
<div class="ulist"><ul>
<li>
<p>
Status: <code>ECA_NORMAL</code>
</p>
</li>
<li>
<p>
Severity: <code>NO_ALARM</code> (0)
</p>
</li>
</ul></div>
<div class="listingblock">
<div class="content">
<pre><code>00 0f (command) 00 20 (payload size) 00 16 (data type) 00 05 (element count)
00 00 00 16 (server ID) 00 00 00 38 (sequence ID)
00 05  00 02  43 6f 75 6e 74 73 00 00  00 0a  00 00
00 08  00 06  00 04  00 02  00 00  00 00  00 00 00 00
    8      6      4      2      0      0      0     0</code></pre>
</div></div>
</div>
</div>
<div class="sect1">
<h2 id="virtual-circuit-operation">12. Virtual Circuit Operation</h2>
<div class="sectionbody">
<div class="paragraph"><p><span class="image">
<img src="virtual-circuit.png" alt="Virtual Circuit Schematic" />
</span></p></div>
<div class="sect2">
<h3 id="_establishing_virtual_circuit">12.1. Establishing virtual circuit</h3>
<div class="paragraph"><p>Virtual circuit is a TCP connection between a client and a server. Each
virtual circuit has an associated priority, which can be used by server to
prioritize requests depending on current load. An independent circuit for
each priority level selected by the client might be used because it allows
for preemptive prioritized dispatch scheduling in the server when the OS
supports that, and also allows specifying the networks scheduling priority
when the router and or LAN support that. Regardless of how many channels are
handled by either client or server, each client-server pair will be connected
with exactly one TCP connection for each priority level. This level is
specified when creating a virtual circuit.</p></div>
<div class="paragraph"><p>When establishing a virtual circuit, a simple handshake will be performed.
Client will open a TCP connection to the server. After that, it sends
<a href="#ca-proto-version"><code>CA_PROTO_VERSION</code></a>,
<a href="#ca-proto-client-name"><code>CA_PROTO_CLIENT_NAME</code></a> and
<a href="#ca-proto-host-name"><code>CA_PROTO_HOST_NAME</code></a> messages.
If server accepts all the supplied parameters and the client and host are
permitted to connect, the server will respond with
<a href="#ca-proto-version"><code>CA_PROTO_VERSION</code></a>.
After that, client may start sending requests.</p></div>
<div class="paragraph"><p>Virtual circuit will remain active as long as there is at least one channel
active. If the TCP connection is lost, all channels using this circuit must be
notified.</p></div>
</div>
<div class="sect2">
<h3 id="_basic_mode_of_operation">12.2. Basic mode of operation</h3>
<div class="paragraph"><p>In most basic role, the client will send requests to the server and await one
or more responses, or in some special cases, no response will be expected.
For each type of request, one of three events will occur:</p></div>
<div class="ulist"><ul>
<li>
<p>
Matching response will be received
</p>
</li>
<li>
<p>
Error response will be received by client indicating either user or client error
</p>
</li>
<li>
<p>
The client will receive no response, and one was expected.
</p>
</li>
<li>
<p>
Network failure occurs
</p>
</li>
</ul></div>
<div class="paragraph"><p>When a matching response is received, the operation has completed
successfully. Any result returned will report any applicable return
information. Client library will then notify the client about completion.</p></div>
<div class="paragraph"><p>If a request fails and server could handle this failure,
<a href="#ca-proto-error"><code>CA_PROTO_ERROR</code></a> response will be received or error code is
received in response, depending on the request sent. This response contains
original request header, error code and text description of error.</p></div>
<div class="paragraph"><p>Although servers are designed to always return a response, in some cases this
will not occur. An unlikely case is that a server has failed or stopped
responding. A more common case is broadcast search, where no replies are sent
to search messages. The later case is designed to not overload the network by
sending failure notifications. This however does not allow client library to
determine, whether a search has failed, or the server load is simply too high
and the response will arrive later. In this case, client library may assume
that search yielded no results and notify on search failure. Regardless of
this, should any such response arrive late, the client must be notified.</p></div>
<div class="paragraph"><p>In case of network failure, two situations should be anticipated. One is TCP
connection loss for a virtual circuit. Virtual circuit has mechanisms for
dealing with such case and should attempt to restore the connection itself.
Repeater has no such mechanisms, since it depends on reliability of UDP
protocol. There will be in most cases no way for repeater to determine,
whether the packets sent actually arrive at destination. Repeater can however
verify the clients registered with it, by attempting to bind to their port.
If binding succeeds, the client no longer exists. Alternate way is using
connected UDP sockets and checking ICMP destination unreachable error.</p></div>
</div>
<div class="sect2">
<h3 id="_detecting_virtual_circuit_unresponsiveness">12.3. Detecting virtual circuit unresponsiveness</h3>
<div class="paragraph"><p>During virtual circuit life-time, the circuit may become unresponsive.
Since this is tightly related to network availability and server load,
determining actual cause for unresponsiveness is difficult. Basic criteria on
which unresponsiveness should be determined are:</p></div>
<div class="ulist"><ul>
<li>
<p>
No beacon received from server in expected time period
</p>
</li>
<li>
<p>
No response received from server for a predetermined ammount of time
  (usually 30 seconds)
</p>
</li>
<li>
<p>
Server does not immediatelly respond to <a href="#ca-proto-echo"><code>CA_PROTO_ECHO</code></a>
</p>
</li>
</ul></div>
<div class="paragraph"><p>Behaviour of virtual circuit implementation under such conditions is
undefined. Experience has shown however, that virtual circuit should not be
disconnected when it becomes unresponsive, since this negatively impacts
network performance under load.</p></div>
</div>
<div class="sect2">
<h3 id="_channel_life_cycle">12.4. Channel life-cycle</h3>
<div class="paragraph"><p><span class="image">
<img src="connection-states.png" alt="Connection States" />
</span></p></div>
<div class="paragraph"><p>A channel discussed here is based on two levels. One is channel as seen from
client application, the other is channel implementation in client library.
This difference will be pointed out where applicable.</p></div>
<div class="paragraph"><p>When a channel is created by client application, it is initialized in
<em>NEVER_CONN</em> state. This indicates that channel is currently being connected
for the first time. If connection process fails, channel moves into <em>FAILED</em>
state and is not usable. Connection proccess within the client library will
attempt to connect the channel repeatedly. Intervals between consecutive
attempts should be increased, before finally giving up and determining the
channel cannot be connected and signaling <em>FAILED</em> state. A total number of
attempts can be on the order of 100.</p></div>
<div class="paragraph"><p>When connection is established, the channel will signal to client with
<em>CONN_UP</em> event and changing its state to connected.</p></div>
<div class="paragraph"><p>Should the virtual circuit connection be lost, <em>CONN_DOWN</em> event will change
channel state to disconnected. Whenever virtual circuit is reconnected, the
channel state is restored to connected. Note that reconnection process follows
the same rules as initial process. It is also possible, that the PV will move
between the servers, but client application should not be aware of such
internal changes to channel.</p></div>
<div class="paragraph"><p>Once client application is done using the channel, it will be closed and its
state moved changed to <em>CLOSED</em>. After that, this channel can no longer be
used.</p></div>
<div class="paragraph"><p>Detailed description of channel operations is outlined below.</p></div>
</div>
<div class="sect2">
<h3 id="_connecting_a_channel">12.5. Connecting a Channel</h3>
<div class="paragraph"><p>Connection of a channel is a two phase process. First, server that hosts
channel with a given name must be located. Second, client and server must both
register a connection.</p></div>
<div class="paragraph"><p>Before connection, client library allocates CID identifier that will be used
to reference new channel. Next it sends <a href="#ca-proto-search"><code>CA_PROTO_SEARCH</code></a>
with channel name request via broadcast and/or to address list. Each server
that receives such message checks to see if it knows about this name. If it
does, response to <a href="#ca-proto-search"><code>CA_PROTO_SEARCH</code></a> is sent back to
client. If not, the server checks if reply field of request is <code>DO_REPLY</code> and
responds with <a href="#ca-proto-not-found"><code>CA_PROTO_NOT_FOUND</code></a>, otherwise does
nothing.</p></div>
<div class="paragraph"><p>Client library may receive more than one response. In this case, first
response should be used and others rejected. The cause of multiple responses
is same PV hosted on multiple different hosts. Client or server has no method
of knowing which PV is <em>right</em>. Multiple responses should be reported by the
client to the application or user.</p></div>
<div class="paragraph"><p>After extracting server address and port, client library checks to see if this
server is already known and connected via virtual circuit. If not, virtual
circuit is established. Any requests sent through this channel will use this
circuit.</p></div>
<div class="paragraph"><p>For this it sends <a href="#ca-proto-create-chan"><code>CA_PROTO_CREATE_CHAN</code></a> request with
channels CID and channel name. Server will respond with
<a href="#ca-proto-create-chan"><code>CA_PROTO_CREATE_CHAN</code></a> response which will provide
channel type, data count and server identifier SID. In case the channel could
not be created, error message will be returned.</p></div>
<div class="paragraph"><p>Having initialized both CID and SID and registered the channel with the
server, this channel is ready for use. Client library should store these
values for further use.</p></div>
</div>
<div class="sect2">
<h3 id="_read_and_write_operations">12.6. Read and Write operations</h3>
<div class="paragraph"><p>Read and write operations require the channel to be properly initialized and
connected and its virtual circuit to be active. These operations use
<a href="#ca-proto-read-notify"><code>CA_PROTO_READ_NOTIFY</code></a> and
<a href="#ca-proto-write-notify"><code>CA_PROTO_WRITE_NOTIFY</code></a> messages.</p></div>
<div class="paragraph"><p>To read a value from a channel client library will create a
<a href="#ca-proto-read-notify"><code>CA_PROTO_READ_NOTIFY</code></a> request. This request will
contain desired data type and data count parameters which may differ from
channels native type as obtained during connect. Additionally, IOID is stored
in request to provide unique identification. Channel that is used will be
identified by SID that was obtained during channel creation. No payload is
sent with request.</p></div>
<div class="paragraph"><p>After server processes the message reponse is either valid
<a href="#ca-proto-read-notify"><code>CA_PROTO_READ_NOTIFY</code></a> response or
<a href="#ca-proto-error"><code>CA_PROTO_ERROR</code></a> to indicate error. In case of success,
response contains same field values as request, but has additional payload.
This payload is formatted as requested data type with desired number of
elements.</p></div>
<div class="paragraph"><p>Write operation is performed identically with payload roles reversed. Here the
request will contain payload with DBR formatted value to write and response
will have no payload.</p></div>
</div>
<div class="sect2">
<h3 id="_subscriptions_and_monitors">12.7. Subscriptions and Monitors</h3>
<div class="paragraph"><p>Client creates monitors by registering a subscription on a channel. This
causes server to notify subscribers of value changes.</p></div>
<div class="paragraph"><p>Subscriptions are created by first allocating unique Subscription ID. This
identifier is used to uniquely identify various subscriptions. Next,
<a href="#ca-proto-event-add"><code>CA_PROTO_EVENT_ADD</code></a> request is created using SID and
Subscription ID. Data type and data count indicate desired value format in
response. Additional information is provided in payload as specified in
<a href="#ca-proto-event-add"><code>CA_PROTO_EVENT_ADD</code></a> reference.</p></div>
<div class="paragraph"><p>First <a href="#ca-proto-event-add"><code>CA_PROTO_EVENT_ADD</code></a> response is received
immediately to confirm successful subscription. If error occurs,
<a href="#ca-proto-error"><code>CA_PROTO_ERROR</code></a> response is received.</p></div>
<div class="paragraph"><p>Responses arrive asynchronously until client cancels the subscription using
<a href="#ca-proto-event-add"><code>CA_PROTO_EVENT_ADD</code></a> response and payload containing
DBR formatted value. If server is shutdown during this time, events will no
longer arrive, but the subscription will not be cancelled. Once the server is
restarted, client library will reestablish the subscription silently without
notifying client application.</p></div>
<div class="paragraph"><p>Subscription is cancelled by sending
<a href="#ca-proto-event-cancel"><code>CA_PROTO_EVENT_CANCEL</code></a> request with relevant
parameters identical to those in original
<a href="#ca-proto-event-add"><code>CA_PROTO_EVENT_ADD</code></a> request that created the
subscription. Successful cancelation is confirmed by
<a href="#ca-proto-event-add"><code>CA_PROTO_EVENT_ADD</code></a> response without payload.</p></div>
<div class="paragraph"><p>Cancelling the subscription while the server is down should be handled by
cancelling the subscription locally and not reestablishing it once the server
is up again.</p></div>
</div>
<div class="sect2">
<h3 id="_connection_events">12.8. Connection events</h3>
<div class="paragraph"><p>If a virtual circuit is disconnected (server goes down or stops sending
beacons), any connected channels that use this circuit should be notified.
There is no direct way to reconnect the channel from client side, but this
will be done by the library. Once the circuit is reestablished, client
application is notified of status change for all channels. Even if a channel
is reported to be disconnect as a result of virtual circuit failure, the
channel is not closed. The only way a channel connection is actually closed
is by explicitly closing it using
<a href="#ca-proto-clear-channel"><code>CA_PROTO_CLEAR_CHANNEL</code></a> thereby invalidating its
resources.</p></div>
</div>
<div class="sect2">
<h3 id="_closing_the_channel">12.9. Closing the channel</h3>
<div class="paragraph"><p>Channel is closed by sending
<a href="#ca-proto-clear-channel"><code>CA_PROTO_CLEAR_CHANNEL</code></a> request.
Regardless of whether response confirmes closing or reports an error, CID and
SID associated with the channel are no longer valid. Any resources still
available to the client application are considered invalid. A channel that was
cleared may no longer be reconnected.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_repeater_operation">13. Repeater Operation</h2>
<div class="sectionbody">
<div class="paragraph"><p><span class="image">
<img src="repeater.png" alt="Repeater Schematic" />
</span></p></div>
<div class="sect2">
<h3 id="_role">13.1. Role</h3>
<div class="paragraph"><p>Simple demonstration of repeater operation. A repeater will be used both on
client and server side to forward incoming UDP requests to multiple clients
and/or server on same host. Each host or client will then respond on its own.</p></div>
<div class="paragraph"><p>Since role of the repeater is related to host, not the client, its
implementation must be independent from individual client instance or process.
Repeater must not stop operation until all clients depending on it registered
with it have shut down.</p></div>
</div>
<div class="sect2">
<h3 id="_startup">13.2. Startup</h3>
<div class="paragraph"><p>Each client must check for presence of repeater on startup, before any access
to EPICS hosts is made. This check is made by attempting to bind to
<code>CA_REPEATER_PORT</code>. If binding fails, the client may assume the repeater is
already running and may attempt to register. This is done by sending
<code>CA_REPEATER_REGISTER</code> datagram to <code>CA_REPEATER_PORT</code>. If repeater is already
active, it will respond with <code>CA_REPEATER_CONFIRM</code> datagram back to client,
otherwise the client can assume, the repeater is invalid, the process bound to
the port is not even a repeater or that some unknown error occured. In this
case, client will spawn new repeater and attempt registration again. Attempt
to detect the repeater and register should be made several times with some
reasonable delay to avoid any transient unresponsiveness that might occur.</p></div>
<div class="paragraph"><p>After the client has received registration confirmation from the repeater, it
should keep listening for messages from the repeater. Any broadcasts sent by
servers will be received by the repeater and forwarded to registered clients.</p></div>
</div>
<div class="sect2">
<h3 id="_client_detection">13.3. Client detection</h3>
<div class="paragraph"><p>The repeater tests to see if its clients exist by periodically attempting to
bind to their ports. If unsuccessful when attempting to bind to the client&#8217;s
port, then the repeater concludes that the client no longer exists.
A technique using connected UDP sockets and ICMP destination unreachable can
also used. If a client is determined to no longer be present then the repeater
un-registers that client and no longer sends messages to it.</p></div>
</div>
<div class="sect2">
<h3 id="_operation">13.4. Operation</h3>
<div class="paragraph"><p>Each message, the repeater receives, must be forwarded to local clients, to
the address provided during registration. No assumption should be made about
existence or state of clients.</p></div>
</div>
<div class="sect2">
<h3 id="_shutdown">13.5. Shutdown</h3>
<div class="paragraph"><p>Repeater should not shutdown on its own, if it does, there should be no active
clients registered with it.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_server_beacons_2">14. Server Beacons</h2>
<div class="sectionbody">
<div class="paragraph"><p>Each EPICS server will send beacons periodically to report it is still active.
Beacon messages will contain server&#8217;s IP and port, as well as sequential
beacon ID. Beacons will be broadcast and sent to servers address list.</p></div>
<div class="paragraph"><p>When a server becomes active, it will immediately start sending beacons with
an increasing delay. Time between beacons will start at 0.02 seconds. After
each beacon is sent, this time is doubled. Maximum delay between beacons will
be limited by server specified parameter, but is commonly 15 seconds.</p></div>
<div class="paragraph"><p>If a beacon is not received within expexted time, virtual circuits connected
to this server should be notified and virtual circuit must handle this
situation.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="return-codes">15. Return Codes</h2>
<div class="sectionbody">
<div class="paragraph"><p>This section covers return codes and exceptions that can occur during CA
command processing. In general, exceptions will be used to report various
events to the application. Return codes are predefined values for conditions
that can occur, where as exceptions are actually reported. Apart from
exceptions that occur on server or due to network transport, additional error
conditions may be reported on the client side as local exceptions.</p></div>
<div class="paragraph"><p>Implementation is required to handle all return codes. Local exceptions should
be thrown whenever implied, but only if such exception is reasonable within
the scope of implementation. Certain local exceptions that deal with state
dependent exception must always be provided.</p></div>
<div class="paragraph"><p><strong>Naming convention:</strong> All return codes defined within the scope of CA are
listed with all capitals, with underscore character (<code>_</code>) replacing spaces.
Additionally, all exception names are prefixed with string <code>ECA_</code>.</p></div>
<div class="paragraph"><p>Return codes are represented as <code>UINT16</code>. The lowest 3 least bits
indicate severity, the higher 13 bits are a return code identifier.</p></div>
<div class="paragraph"><p>Return codes are communicated in the protocol by the <code>CA_PROTO_READ_NOTIFY</code>,
<code>CA_PROTO_WRITE_NOTIFY</code>, monitor subscription responses, and the
<code>CA_PROTO_ERROR</code> responses.</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<thead>
<tr>
<th align="left" valign="top">Code</th>
<th align="left" valign="top">Severity</th>
<th align="left" valign="top">ID</th>
<th align="left" valign="top">Value</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>ECA_NORMAL</code></p></td>
<td align="left" valign="top"><p class="table"><code>CA_K_SUCCESS</code></p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">1</p></td>
<td align="left" valign="top"><p class="table">Normal successful completion</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>ECA_MAXIOC</code></p></td>
<td align="left" valign="top"><p class="table"><code>CA_K_ERROR</code></p></td>
<td align="left" valign="top"><p class="table">1</p></td>
<td align="left" valign="top"><p class="table">10</p></td>
<td align="left" valign="top"><p class="table">Maximum simultaneous IOC connections exceeded</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>ECA_UKNHOST</code></p></td>
<td align="left" valign="top"><p class="table"><code>CA_K_ERROR</code></p></td>
<td align="left" valign="top"><p class="table">2</p></td>
<td align="left" valign="top"><p class="table">18</p></td>
<td align="left" valign="top"><p class="table">Unknown internet host</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>ECA_UKNSERV</code></p></td>
<td align="left" valign="top"><p class="table"><code>CA_K_ERROR</code></p></td>
<td align="left" valign="top"><p class="table">3</p></td>
<td align="left" valign="top"><p class="table">26</p></td>
<td align="left" valign="top"><p class="table">Unknown internet service</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>ECA_SOCK</code></p></td>
<td align="left" valign="top"><p class="table"><code>CA_K_ERROR</code></p></td>
<td align="left" valign="top"><p class="table">4</p></td>
<td align="left" valign="top"><p class="table">34</p></td>
<td align="left" valign="top"><p class="table">Unable to allocate a new socket</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>ECA_CONN</code></p></td>
<td align="left" valign="top"><p class="table"><code>CA_K_WARNING</code></p></td>
<td align="left" valign="top"><p class="table">5</p></td>
<td align="left" valign="top"><p class="table">40</p></td>
<td align="left" valign="top"><p class="table">Unable to connect to internet host or service</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>ECA_ALLOCMEM</code></p></td>
<td align="left" valign="top"><p class="table"><code>CA_K_WARNING</code></p></td>
<td align="left" valign="top"><p class="table">6</p></td>
<td align="left" valign="top"><p class="table">48</p></td>
<td align="left" valign="top"><p class="table">Unable to allocate additional dynamic memory</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>ECA_UKNCHAN</code></p></td>
<td align="left" valign="top"><p class="table"><code>CA_K_WARNING</code></p></td>
<td align="left" valign="top"><p class="table">7</p></td>
<td align="left" valign="top"><p class="table">56</p></td>
<td align="left" valign="top"><p class="table">Unknown IO channel</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>ECA_UKNFIELD</code></p></td>
<td align="left" valign="top"><p class="table"><code>CA_K_WARNING</code></p></td>
<td align="left" valign="top"><p class="table">8</p></td>
<td align="left" valign="top"><p class="table">64</p></td>
<td align="left" valign="top"><p class="table">Record field specified inappropriate for channel specified</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>ECA_TOLARGE</code></p></td>
<td align="left" valign="top"><p class="table"><code>CA_K_WARNING</code></p></td>
<td align="left" valign="top"><p class="table">9</p></td>
<td align="left" valign="top"><p class="table">72</p></td>
<td align="left" valign="top"><p class="table">The requested data transfer is greater than available memory or <code>EPICS_CA_MAX_ARRAY_BYTES</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>ECA_TIMEOUT</code></p></td>
<td align="left" valign="top"><p class="table"><code>CA_K_WARNING</code></p></td>
<td align="left" valign="top"><p class="table">10</p></td>
<td align="left" valign="top"><p class="table">80</p></td>
<td align="left" valign="top"><p class="table">User specified timeout on IO operation expired</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>ECA_NOSUPPORT</code></p></td>
<td align="left" valign="top"><p class="table"><code>CA_K_WARNING</code></p></td>
<td align="left" valign="top"><p class="table">11</p></td>
<td align="left" valign="top"><p class="table">88</p></td>
<td align="left" valign="top"><p class="table">Sorry, that feature is planned but not supported at this time</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>ECA_STRTOBIG</code></p></td>
<td align="left" valign="top"><p class="table"><code>CA_K_WARNING</code></p></td>
<td align="left" valign="top"><p class="table">12</p></td>
<td align="left" valign="top"><p class="table">96</p></td>
<td align="left" valign="top"><p class="table">The supplied string is unusually large</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>ECA_DISCONNCHID</code></p></td>
<td align="left" valign="top"><p class="table"><code>CA_K_ERROR</code></p></td>
<td align="left" valign="top"><p class="table">13</p></td>
<td align="left" valign="top"><p class="table">106</p></td>
<td align="left" valign="top"><p class="table">The request was ignored because the specified channel is disconnected</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>ECA_BADTYPE</code></p></td>
<td align="left" valign="top"><p class="table"><code>CA_K_ERROR</code></p></td>
<td align="left" valign="top"><p class="table">14</p></td>
<td align="left" valign="top"><p class="table">114</p></td>
<td align="left" valign="top"><p class="table">The data type specifed is invalid</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>ECA_CHIDNOTFND</code></p></td>
<td align="left" valign="top"><p class="table"><code>CA_K_INFO</code></p></td>
<td align="left" valign="top"><p class="table">15</p></td>
<td align="left" valign="top"><p class="table">123</p></td>
<td align="left" valign="top"><p class="table">Remote Channel not found</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>ECA_CHIDRETRY</code></p></td>
<td align="left" valign="top"><p class="table"><code>CA_K_INFO</code></p></td>
<td align="left" valign="top"><p class="table">16</p></td>
<td align="left" valign="top"><p class="table">131</p></td>
<td align="left" valign="top"><p class="table">Unable to locate all user specified channels</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>ECA_INTERNAL</code></p></td>
<td align="left" valign="top"><p class="table"><code>CA_K_FATAL</code></p></td>
<td align="left" valign="top"><p class="table">17</p></td>
<td align="left" valign="top"><p class="table">142</p></td>
<td align="left" valign="top"><p class="table">Channel Access Internal Failure</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>ECA_DBLCLFAIL</code></p></td>
<td align="left" valign="top"><p class="table"><code>CA_K_WARNING</code></p></td>
<td align="left" valign="top"><p class="table">18</p></td>
<td align="left" valign="top"><p class="table">144</p></td>
<td align="left" valign="top"><p class="table">The requested local DB operation failed</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>ECA_GETFAIL</code></p></td>
<td align="left" valign="top"><p class="table"><code>CA_K_WARNING</code></p></td>
<td align="left" valign="top"><p class="table">19</p></td>
<td align="left" valign="top"><p class="table">152</p></td>
<td align="left" valign="top"><p class="table">Channel read request failed</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>ECA_PUTFAIL</code></p></td>
<td align="left" valign="top"><p class="table"><code>CA_K_WARNING</code></p></td>
<td align="left" valign="top"><p class="table">20</p></td>
<td align="left" valign="top"><p class="table">160</p></td>
<td align="left" valign="top"><p class="table">Channel write request failed</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>ECA_ADDFAIL</code></p></td>
<td align="left" valign="top"><p class="table"><code>CA_K_WARNING</code></p></td>
<td align="left" valign="top"><p class="table">21</p></td>
<td align="left" valign="top"><p class="table">168</p></td>
<td align="left" valign="top"><p class="table">Channel subscription request failed</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>ECA_BADCOUNT</code></p></td>
<td align="left" valign="top"><p class="table"><code>CA_K_WARNING</code></p></td>
<td align="left" valign="top"><p class="table">22</p></td>
<td align="left" valign="top"><p class="table">176</p></td>
<td align="left" valign="top"><p class="table">Invalid element count requested</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>ECA_BADSTR</code></p></td>
<td align="left" valign="top"><p class="table"><code>CA_K_ERROR</code></p></td>
<td align="left" valign="top"><p class="table">23</p></td>
<td align="left" valign="top"><p class="table">186</p></td>
<td align="left" valign="top"><p class="table">Invalid string</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>ECA_DISCONN</code></p></td>
<td align="left" valign="top"><p class="table"><code>CA_K_WARNING</code></p></td>
<td align="left" valign="top"><p class="table">24</p></td>
<td align="left" valign="top"><p class="table">192</p></td>
<td align="left" valign="top"><p class="table">Virtual circuit disconnect</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>ECA_DBLCHNL</code></p></td>
<td align="left" valign="top"><p class="table"><code>CA_K_WARNING</code></p></td>
<td align="left" valign="top"><p class="table">25</p></td>
<td align="left" valign="top"><p class="table">200</p></td>
<td align="left" valign="top"><p class="table">Identical process variable name on multiple servers</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>ECA_EVDISALLOW</code></p></td>
<td align="left" valign="top"><p class="table"><code>CA_K_ERROR</code></p></td>
<td align="left" valign="top"><p class="table">26</p></td>
<td align="left" valign="top"><p class="table">210</p></td>
<td align="left" valign="top"><p class="table">Request inappropriate within subscription (monitor) update callback</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>ECA_BUILDGET</code></p></td>
<td align="left" valign="top"><p class="table"><code>CA_K_WARNING</code></p></td>
<td align="left" valign="top"><p class="table">27</p></td>
<td align="left" valign="top"><p class="table">216</p></td>
<td align="left" valign="top"><p class="table">Database value get for that channel failed during channel search</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>ECA_NEEDSFP</code></p></td>
<td align="left" valign="top"><p class="table"><code>CA_K_WARNING</code></p></td>
<td align="left" valign="top"><p class="table">28</p></td>
<td align="left" valign="top"><p class="table">224</p></td>
<td align="left" valign="top"><p class="table">Unable to initialize without the vxWorks <code>VX_FP_TASK</code> task option set</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>ECA_OVEVFAIL</code></p></td>
<td align="left" valign="top"><p class="table"><code>CA_K_WARNING</code></p></td>
<td align="left" valign="top"><p class="table">29</p></td>
<td align="left" valign="top"><p class="table">232</p></td>
<td align="left" valign="top"><p class="table">Event queue overflow has prevented first pass event after event add</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>ECA_BADMONID</code></p></td>
<td align="left" valign="top"><p class="table"><code>CA_K_ERROR</code></p></td>
<td align="left" valign="top"><p class="table">30</p></td>
<td align="left" valign="top"><p class="table">242</p></td>
<td align="left" valign="top"><p class="table">Bad event subscription (monitor) identifier</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>ECA_NEWADDR</code></p></td>
<td align="left" valign="top"><p class="table"><code>CA_K_WARNING</code></p></td>
<td align="left" valign="top"><p class="table">31</p></td>
<td align="left" valign="top"><p class="table">248</p></td>
<td align="left" valign="top"><p class="table">Remote channel has new network address</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>ECA_NEWCONN</code></p></td>
<td align="left" valign="top"><p class="table"><code>CA_K_INFO</code></p></td>
<td align="left" valign="top"><p class="table">32</p></td>
<td align="left" valign="top"><p class="table">259</p></td>
<td align="left" valign="top"><p class="table">New or resumed network connection</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>ECA_NOCACTX</code></p></td>
<td align="left" valign="top"><p class="table"><code>CA_K_WARNING</code></p></td>
<td align="left" valign="top"><p class="table">33</p></td>
<td align="left" valign="top"><p class="table">264</p></td>
<td align="left" valign="top"><p class="table">Specified task isnt a member of a CA context</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>ECA_DEFUNCT</code></p></td>
<td align="left" valign="top"><p class="table"><code>CA_K_FATAL</code></p></td>
<td align="left" valign="top"><p class="table">34</p></td>
<td align="left" valign="top"><p class="table">278</p></td>
<td align="left" valign="top"><p class="table">Attempt to use defunct CA feature failed</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>ECA_EMPTYSTR</code></p></td>
<td align="left" valign="top"><p class="table"><code>CA_K_WARNING</code></p></td>
<td align="left" valign="top"><p class="table">35</p></td>
<td align="left" valign="top"><p class="table">280</p></td>
<td align="left" valign="top"><p class="table">The supplied string is empty</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>ECA_NOREPEATER</code></p></td>
<td align="left" valign="top"><p class="table"><code>CA_K_WARNING</code></p></td>
<td align="left" valign="top"><p class="table">36</p></td>
<td align="left" valign="top"><p class="table">288</p></td>
<td align="left" valign="top"><p class="table">Unable to spawn the CA repeater thread- auto reconnect will fail</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>ECA_NOCHANMSG</code></p></td>
<td align="left" valign="top"><p class="table"><code>CA_K_WARNING</code></p></td>
<td align="left" valign="top"><p class="table">37</p></td>
<td align="left" valign="top"><p class="table">296</p></td>
<td align="left" valign="top"><p class="table">No channel id match for search reply- search reply ignored</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>ECA_DLCKREST</code></p></td>
<td align="left" valign="top"><p class="table"><code>CA_K_WARNING</code></p></td>
<td align="left" valign="top"><p class="table">38</p></td>
<td align="left" valign="top"><p class="table">304</p></td>
<td align="left" valign="top"><p class="table">Reseting dead connection- will try to reconnect</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>ECA_SERVBEHIND</code></p></td>
<td align="left" valign="top"><p class="table"><code>CA_K_WARNING</code></p></td>
<td align="left" valign="top"><p class="table">39</p></td>
<td align="left" valign="top"><p class="table">312</p></td>
<td align="left" valign="top"><p class="table">Server (IOC) has fallen behind or is not responding- still waiting</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>ECA_NOCAST</code></p></td>
<td align="left" valign="top"><p class="table"><code>CA_K_WARNING</code></p></td>
<td align="left" valign="top"><p class="table">40</p></td>
<td align="left" valign="top"><p class="table">320</p></td>
<td align="left" valign="top"><p class="table">No internet interface with broadcast available</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>ECA_BADMASK</code></p></td>
<td align="left" valign="top"><p class="table"><code>CA_K_ERROR</code></p></td>
<td align="left" valign="top"><p class="table">41</p></td>
<td align="left" valign="top"><p class="table">330</p></td>
<td align="left" valign="top"><p class="table">Invalid event selection mask</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>ECA_IODONE</code></p></td>
<td align="left" valign="top"><p class="table"><code>CA_K_INFO</code></p></td>
<td align="left" valign="top"><p class="table">42</p></td>
<td align="left" valign="top"><p class="table">339</p></td>
<td align="left" valign="top"><p class="table">IO operations have completed</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>ECA_IOINPROGRESS</code></p></td>
<td align="left" valign="top"><p class="table"><code>CA_K_INFO</code></p></td>
<td align="left" valign="top"><p class="table">43</p></td>
<td align="left" valign="top"><p class="table">347</p></td>
<td align="left" valign="top"><p class="table">IO operations are in progress</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>ECA_BADSYNCGRP</code></p></td>
<td align="left" valign="top"><p class="table"><code>CA_K_ERROR</code></p></td>
<td align="left" valign="top"><p class="table">44</p></td>
<td align="left" valign="top"><p class="table">354</p></td>
<td align="left" valign="top"><p class="table">Invalid synchronous group identifier</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>ECA_PUTCBINPROG</code></p></td>
<td align="left" valign="top"><p class="table"><code>CA_K_ERROR</code></p></td>
<td align="left" valign="top"><p class="table">45</p></td>
<td align="left" valign="top"><p class="table">362</p></td>
<td align="left" valign="top"><p class="table">Put callback timed out</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>ECA_NORDACCESS</code></p></td>
<td align="left" valign="top"><p class="table"><code>CA_K_WARNING</code></p></td>
<td align="left" valign="top"><p class="table">46</p></td>
<td align="left" valign="top"><p class="table">368</p></td>
<td align="left" valign="top"><p class="table">Read access denied</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>ECA_NOWTACCESS</code></p></td>
<td align="left" valign="top"><p class="table"><code>CA_K_WARNING</code></p></td>
<td align="left" valign="top"><p class="table">47</p></td>
<td align="left" valign="top"><p class="table">376</p></td>
<td align="left" valign="top"><p class="table">Write access denied</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>ECA_ANACHRONISM</code></p></td>
<td align="left" valign="top"><p class="table"><code>CA_K_ERROR</code></p></td>
<td align="left" valign="top"><p class="table">48</p></td>
<td align="left" valign="top"><p class="table">386</p></td>
<td align="left" valign="top"><p class="table">Requested feature is no longer supported</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>ECA_NOSEARCHADDR</code></p></td>
<td align="left" valign="top"><p class="table"><code>CA_K_WARNING</code></p></td>
<td align="left" valign="top"><p class="table">49</p></td>
<td align="left" valign="top"><p class="table">392</p></td>
<td align="left" valign="top"><p class="table">Empty PV search address list</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>ECA_NOCONVERT</code></p></td>
<td align="left" valign="top"><p class="table"><code>CA_K_WARNING</code></p></td>
<td align="left" valign="top"><p class="table">50</p></td>
<td align="left" valign="top"><p class="table">400</p></td>
<td align="left" valign="top"><p class="table">No reasonable data conversion between client and server types</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>ECA_BADCHID</code></p></td>
<td align="left" valign="top"><p class="table"><code>CA_K_ERROR</code></p></td>
<td align="left" valign="top"><p class="table">51</p></td>
<td align="left" valign="top"><p class="table">410</p></td>
<td align="left" valign="top"><p class="table">Invalid channel identifier</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>ECA_BADFUNCPTR</code></p></td>
<td align="left" valign="top"><p class="table"><code>CA_K_ERROR</code></p></td>
<td align="left" valign="top"><p class="table">52</p></td>
<td align="left" valign="top"><p class="table">418</p></td>
<td align="left" valign="top"><p class="table">Invalid function pointer</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>ECA_ISATTACHED</code></p></td>
<td align="left" valign="top"><p class="table"><code>CA_K_WARNING</code></p></td>
<td align="left" valign="top"><p class="table">53</p></td>
<td align="left" valign="top"><p class="table">424</p></td>
<td align="left" valign="top"><p class="table">Thread is already attached to a client context</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>ECA_UNAVAILINSERV</code></p></td>
<td align="left" valign="top"><p class="table"><code>CA_K_WARNING</code></p></td>
<td align="left" valign="top"><p class="table">54</p></td>
<td align="left" valign="top"><p class="table">432</p></td>
<td align="left" valign="top"><p class="table">Not supported by attached service</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>ECA_CHANDESTROY</code></p></td>
<td align="left" valign="top"><p class="table"><code>CA_K_WARNING</code></p></td>
<td align="left" valign="top"><p class="table">55</p></td>
<td align="left" valign="top"><p class="table">440</p></td>
<td align="left" valign="top"><p class="table">User destroyed channel</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>ECA_BADPRIORITY</code></p></td>
<td align="left" valign="top"><p class="table"><code>CA_K_ERROR</code></p></td>
<td align="left" valign="top"><p class="table">56</p></td>
<td align="left" valign="top"><p class="table">450</p></td>
<td align="left" valign="top"><p class="table">Invalid channel priority</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>ECA_NOTTHREADED</code></p></td>
<td align="left" valign="top"><p class="table"><code>CA_K_ERROR</code></p></td>
<td align="left" valign="top"><p class="table">57</p></td>
<td align="left" valign="top"><p class="table">458</p></td>
<td align="left" valign="top"><p class="table">Preemptive callback not enabled - additional threads may not join context</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>ECA_16KARRAYCLIENT</code></p></td>
<td align="left" valign="top"><p class="table"><code>CA_K_WARNING</code></p></td>
<td align="left" valign="top"><p class="table">58</p></td>
<td align="left" valign="top"><p class="table">464</p></td>
<td align="left" valign="top"><p class="table">Client&#8217;s protocol revision does not support transfers exceeding 16k bytes</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>ECA_CONNSEQTMO</code></p></td>
<td align="left" valign="top"><p class="table"><code>CA_K_WARNING</code></p></td>
<td align="left" valign="top"><p class="table">59</p></td>
<td align="left" valign="top"><p class="table">472</p></td>
<td align="left" valign="top"><p class="table">Virtual circuit connection sequence aborted</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>ECA_UNRESPTMO</code></p></td>
<td align="left" valign="top"><p class="table"><code>CA_K_WARNING</code></p></td>
<td align="left" valign="top"><p class="table">60</p></td>
<td align="left" valign="top"><p class="table">480</p></td>
<td align="left" valign="top"><p class="table">Virtual circuit unresponsive</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_example_conversation">16. Example conversation</h2>
<div class="sectionbody">
<div class="paragraph"><p>This is example conversation between client and server. Client first
establishes TCP connection to the server and immediately requests creation of
a channel. After server aknowledges channel creation, client reads the value
of the channel twice. First as a single string value and second as a
<code>DBR_GR_INT16</code> type. After the response to both queries has been received,
the channel is destroyed.</p></div>
<div class="listingblock">
<div class="content">
<pre><code>Client to Server
CA_PROTO_VERSION (handshake)
00 00  00 00  00 00  00 0b  00 00 00 00  00 00 00 00
    0      0      0     11            0            0
CA_PROTO_CLIENT_NAME (handshake)
00 14  00 08  00 00  00 00  00 00 00 00  00 00 00 00  61 70 75 63 65 6c 6a 00
   20      8      8      0            0            0   a  p  u  c  e  l  j \0
CA_PROTO_HOST_NAME (handshake)
00 15  00 08  00 00  00 00  00 00 00 00  00 00 00 00  63 73 6c 30 36 00 00 00
   21      8      0      0            0            0   c  s  l  0  6 \0 \0 \0
CA_PROTO_CREATE_CHAN (request)
00 12  00 18  00 00  00 00  00 00 00 01  00 00 00 0b
   18     24      0      0            1           11
61 70 75 63 65 6c 6a 3a  61 69 45 78 61 6d 70 6c 65 31 00 00 00 00 00 00
 a  p  u  c  e  l  j  :   a  i  E  x  a  m  p  l  e  1 \0 \0 \0 \0 \0 \0

Server to Client
CA_PROTO_ACCESS_RIGHTS (handshake)
00 16  00 00  00 00  00 00  00 00 00 01  00 00 00 03
   22      0      0      0            1            3
CA_PROTO_CREATE_CHAN (response)
00 12  00 00  00 06  00 01  00 00 00 01  00 00 00 04
   18      0      6      1            1            4
|
Client to Server
CA_PROTO_READ_NOTIFY (request)
00 0f  00 00  00 00  00 01  00 00 00 04  00 00 00 01
   15      0      0      1            4            1
CA_PROTO_READ_NOTIFY (request)
00 0f  00 00  00 16  00 01  00 00 00 04  00 00 00 02
   15      0     22      1            4           02

Server to Client
CA_PROTO_READ_NOTIFY (response)
00 0f  00 08  00 00  00 01  00 00 00 01  00 00 00 01  30 00 00 00 00 06 00 01
   15      8      0      1            1            1   0
CA_PROTO_READ_NOTIFY (response)
00 0f  00 20  00 16  00 01  00 00 00 01  00 00 00 02
   15     32     22      1            1           02
00 05  00 02  43 6f 75 6e 74 73 00 00  00 0a  00 00
    5      2   C  o  u  n  t  s \0 \0     10      0
00 08  00 06  00 04  00 02  00 00  00 00  00 00 00 00
    8      6      4      2      0      0      0     0

Client to Server
CA_PROTO_CLEAR_CHANNEL (request)
00 0c  00 00  00 00  00 00  00 00 00 04  00 00 00 01
   12      0      0      0            4            1

Server to Client
CA_PROTO_CLEAR_CHANNEL (response)
00 0c  00 00  00 00  00 00  00 00 00 04  00 00 00 01
   12      0      0      0            4            1</code></pre>
</div></div>
</div>
</div>
<div class="sect1">
<h2 id="glossary">17. Glossary of Terms</h2>
<div class="sectionbody">
<div class="dlist"><dl>
<dt class="hdlist1">
IOC
</dt>
<dd>
<p>
    Input/Output Controller.
</p>
</dd>
<dt class="hdlist1">
PV
</dt>
<dd>
<p>
    Process variable.
</p>
</dd>
<dt class="hdlist1">
Virtual circuit
</dt>
<dd>
<p>
    Reusable TCP connection between client and server, through which all PVs
    hosted by the server can be conveyed to the client.
</p>
</dd>
</dl></div>
</div>
</div>
<div class="sect1">
<h2 id="references">18. References</h2>
<div class="sectionbody">
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="16%" />
<col width="16%" />
<col width="16%" />
<col width="16%" />
<col width="16%" />
<col width="16%" />
<thead>
<tr>
<th align="left" valign="top">ID</th>
<th align="left" valign="top">Author</th>
<th align="left" valign="top">Reference</th>
<th align="left" valign="top">Revision</th>
<th align="left" valign="top">Date</th>
<th align="left" valign="top">Publisher</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table">1</p></td>
<td align="left" valign="top"><p class="table">Jeffrey O. Hill</p></td>
<td align="left" valign="top"><p class="table">Channel Access Reference Manual</p></td>
<td align="left" valign="top"><p class="table">R3.14</p></td>
<td align="left" valign="top"><p class="table">2003</p></td>
<td align="left" valign="top"><p class="table"></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">2</p></td>
<td align="left" valign="top"><p class="table"></p></td>
<td align="left" valign="top"><p class="table">Java Channel Access</p></td>
<td align="left" valign="top"><p class="table">2.0.1</p></td>
<td align="left" valign="top"><p class="table">2003</p></td>
<td align="left" valign="top"><p class="table"></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">3</p></td>
<td align="left" valign="top"><p class="table">Bradner, S.</p></td>
<td align="left" valign="top"><p class="table">RFC 2119: Key words for use in RFCs to Indicate Requirement Levels</p></td>
<td align="left" valign="top"><p class="table"></p></td>
<td align="left" valign="top"><p class="table">1997-03</p></td>
<td align="left" valign="top"><p class="table"></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div id="footnotes"><hr /></div>
<div id="footer">
<div id="footer-text">
Version 1.4.1<br />
Last updated
 2015-11-06 09:20:42 EST
</div>
</div>
</body>
</html>
